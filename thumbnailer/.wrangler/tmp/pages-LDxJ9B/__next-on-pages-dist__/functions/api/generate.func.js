var Mo=Object.defineProperty;var qo=Object.getOwnPropertyDescriptor;var $o=Object.getOwnPropertyNames;var Ho=Object.prototype.hasOwnProperty;var yi=(yn=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(yn,{get:(Tt,si)=>(typeof require<"u"?require:Tt)[si]}):yn)(function(yn){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+yn+'" is not supported')});var Po=(yn,Tt)=>()=>(yn&&(Tt=yn(yn=0)),Tt);var wo=(yn,Tt,si,F)=>{if(Tt&&typeof Tt=="object"||typeof Tt=="function")for(let Ct of $o(Tt))!Ho.call(yn,Ct)&&Ct!==si&&Mo(yn,Ct,{get:()=>Tt[Ct],enumerable:!(F=qo(Tt,Ct))||F.enumerable});return yn},Zr=(yn,Tt,si)=>(wo(yn,Tt,"default"),si&&wo(si,Tt,"default"));var Io=yn=>wo(Mo({},"__esModule",{value:!0}),yn);var Yi={};import*as Go from"node:buffer";var Do=Po(()=>{Zr(Yi,Go)});var Qi={};import*as Bo from"node:async_hooks";var Uo=Po(()=>{Zr(Qi,Bo)});var Zi={};import*as Vo from"async_hooks";var jo=Po(()=>{Zr(Zi,Vo)});var xo=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/generate"),Jo=((yn,Tt,si)=>(Tt._ENTRIES={},Tt.__BUILD_MANIFEST={pages:{"/_app":["static/chunks/19c04f7813400784.js","static/chunks/acde6519b5698d58.js","static/chunks/turbopack-d955f416e8a1c6ae.js"],"/_error":["static/chunks/98aa4ff57a8c9811.js","static/chunks/acde6519b5698d58.js","static/chunks/turbopack-937c0e5ecc836398.js"]},devFiles:[],ampDevFiles:[],polyfillFiles:["static/chunks/a6dad97d9634a72d.js"],lowPriorityFiles:[],rootMainFiles:["static/chunks/e75abb6305c99748.js","static/chunks/9df41fb197b622e6.js","static/chunks/1926378a1f09d49a.js","static/chunks/turbopack-b41271ca6966fb10.js"],ampFirstPages:[]},Tt.__BUILD_MANIFEST.lowPriorityFiles=["/static/8hYIFHctHeF0iqToEWNp9/_buildManifest.js",,"/static/8hYIFHctHeF0iqToEWNp9/_ssgManifest.js"],yn.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",yn.__RSC_SERVER_MANIFEST=`{
  "node": {},
  "edge": {},
  "encryptionKey": "bwSW4J+nzB+KKJpgqY+PcscyBDu/N0E1etORW6AQ/qA="
}`,Tt.__RSC_MANIFEST=Tt.__RSC_MANIFEST||{},Tt.__RSC_MANIFEST["/api/generate/route"]={moduleLoading:{prefix:"",crossOrigin:null},clientModules:{},ssrModuleMapping:{},edgeSSRModuleMapping:{},rscModuleMapping:{},edgeRscModuleMapping:{},entryCSSFiles:{},entryJSFiles:{}},(Tt.TURBOPACK||(Tt.TURBOPACK=[])).push(["chunks/_next-internal_server_app_api_generate_route_actions_0a0a7482.js",90401,(F,Ct,Ye)=>{}]),(Tt.TURBOPACK||(Tt.TURBOPACK=[])).push(["chunks/turbopack-_next-internal_server_app_api_generate_route_actions_44726250.js",{otherChunks:["chunks/_next-internal_server_app_api_generate_route_actions_0a0a7482.js"],runtimeModuleIds:[90401]}]),(()=>{let F;if(!Array.isArray(Tt.TURBOPACK))return;let Ct=new WeakMap;function Ye(q,V){this.m=q,this.e=V}let ke=Ye.prototype,At=Object.prototype.hasOwnProperty,at=typeof Symbol<"u"&&Symbol.toStringTag;function ne(q,V,Q){At.call(q,V)||Object.defineProperty(q,V,Q)}function le(q,V){let Q=q[V];return Q||(Q=C(V),q[V]=Q),Q}function C(q){return{exports:{},error:void 0,id:q,namespaceObject:void 0}}function x(q,V){ne(q,"__esModule",{value:!0}),at&&ne(q,at,{value:"Module"});let Q=0;for(;Q<V.length;){let ce=V[Q++],Te=V[Q++];typeof V[Q]=="function"?ne(q,ce,{get:Te,set:V[Q++],enumerable:!0}):ne(q,ce,{get:Te,enumerable:!0})}Object.seal(q)}ke.s=function(q,V){let Q,ce;V!=null?ce=(Q=le(this.c,V)).exports:(Q=this.m,ce=this.e),Q.namespaceObject=ce,x(ce,q)},ke.j=function(q,V){var Q,ce;let Te,dt,qe;V!=null?dt=(Te=le(this.c,V)).exports:(Te=this.m,dt=this.e);let Ke=(Q=Te,ce=dt,(qe=Ct.get(Q))||(Ct.set(Q,qe=[]),Q.exports=Q.namespaceObject=new Proxy(ce,{get($e,vt){if(At.call($e,vt)||vt==="default"||vt==="__esModule")return Reflect.get($e,vt);for(let St of qe){let et=Reflect.get(St,vt);if(et!==void 0)return et}},ownKeys($e){let vt=Reflect.ownKeys($e);for(let St of qe)for(let et of Reflect.ownKeys(St))et==="default"||vt.includes(et)||vt.push(et);return vt}})),qe);typeof q=="object"&&q!==null&&Ke.push(q)},ke.v=function(q,V){(V!=null?le(this.c,V):this.m).exports=q},ke.n=function(q,V){let Q;(Q=V!=null?le(this.c,V):this.m).exports=Q.namespaceObject=q};let j=Object.getPrototypeOf?q=>Object.getPrototypeOf(q):q=>q.__proto__,$=[null,j({}),j([]),j(j)];function A(q,V,Q){let ce=[],Te=-1;for(let dt=q;(typeof dt=="object"||typeof dt=="function")&&!$.includes(dt);dt=j(dt))for(let qe of Object.getOwnPropertyNames(dt))ce.push(qe,function(Ke,$e){return()=>Ke[$e]}(q,qe)),Te===-1&&qe==="default"&&(Te=ce.length-1);return Q&&Te>=0||(Te>=0?ce[Te]=()=>q:ce.push("default",()=>q)),x(V,ce),V}function N(q){return typeof q=="function"?function(...V){return q.apply(this,V)}:Object.create(null)}function J(q){return typeof q=="string"?q:q.path}function O(){let q,V;return{promise:new Promise((Q,ce)=>{V=ce,q=Q}),resolve:q,reject:V}}ke.i=function(q){let V=ut(q,this.m);if(V.namespaceObject)return V.namespaceObject;let Q=V.exports;return V.namespaceObject=A(Q,N(Q),Q&&Q.__esModule)},ke.A=function(q){return this.r(q)(this.i.bind(this))},ke.t=typeof yi=="function"?yi:function(){throw Error("Unexpected use of runtime require")},ke.r=function(q){return ut(q,this.m).exports},ke.f=function(q){function V(Q){if(At.call(q,Q))return q[Q].module();let ce=Error(`Cannot find module '${Q}'`);throw ce.code="MODULE_NOT_FOUND",ce}return V.keys=()=>Object.keys(q),V.resolve=Q=>{if(At.call(q,Q))return q[Q].id();let ce=Error(`Cannot find module '${Q}'`);throw ce.code="MODULE_NOT_FOUND",ce},V.import=async Q=>await V(Q),V};let G=Symbol("turbopack queues"),B=Symbol("turbopack exports"),fe=Symbol("turbopack error");function re(q){q&&q.status!==1&&(q.status=1,q.forEach(V=>V.queueCount--),q.forEach(V=>V.queueCount--?V.queueCount++:V()))}ke.a=function(q,V){let Q=this.m,ce=V?Object.assign([],{status:-1}):void 0,Te=new Set,{resolve:dt,reject:qe,promise:Ke}=O(),$e=Object.assign(Ke,{[B]:Q.exports,[G]:St=>{ce&&St(ce),Te.forEach(St),$e.catch(()=>{})}}),vt={get:()=>$e,set(St){St!==$e&&($e[B]=St)}};Object.defineProperty(Q,"exports",vt),Object.defineProperty(Q,"namespaceObject",vt),q(function(St){let et=St.map($t=>{if($t!==null&&typeof $t=="object"){if(G in $t)return $t;if($t!=null&&typeof $t=="object"&&"then"in $t&&typeof $t.then=="function"){let Gn=Object.assign([],{status:0}),bn={[B]:{},[G]:Nn=>Nn(Gn)};return $t.then(Nn=>{bn[B]=Nn,re(Gn)},Nn=>{bn[fe]=Nn,re(Gn)}),bn}}return{[B]:$t,[G]:()=>{}}}),en=()=>et.map($t=>{if($t[fe])throw $t[fe];return $t[B]}),{promise:gn,resolve:pr}=O(),vn=Object.assign(()=>pr(en),{queueCount:0});function En($t){$t!==ce&&!Te.has($t)&&(Te.add($t),$t&&$t.status===0&&(vn.queueCount++,$t.push(vn)))}return et.map($t=>$t[G](En)),vn.queueCount?gn:en()},function(St){St?qe($e[fe]=St):dt($e[B]),re(ce)}),ce&&ce.status===-1&&(ce.status=0)};let Ee=function(q){let V=new URL(q,"x:/"),Q={};for(let ce in V)Q[ce]=V[ce];for(let ce in Q.href=q,Q.pathname=q.replace(/[?#].*/,""),Q.origin=Q.protocol="",Q.toString=Q.toJSON=(...Te)=>q,Q)Object.defineProperty(this,ce,{enumerable:!0,configurable:!0,value:Q[ce]})};function we(q,V){throw Error(`Invariant: ${V(q)}`)}Ee.prototype=URL.prototype,ke.U=Ee,ke.z=function(q){throw Error("dynamic usage of require is not supported")},ke.g=Tt;let Pe=Ye.prototype;var Qe=function(q){return q[q.Runtime=0]="Runtime",q[q.Parent=1]="Parent",q[q.Update=2]="Update",q}(Qe||{});let st=new Map;ke.M=st;let jt=new Map,Et=new Map;async function de(q,V,Q){let ce;if(typeof Q=="string")return H(q,V,z(Q));let Te=Q.included||[],dt=Te.map($e=>!!st.has($e)||jt.get($e));if(dt.length>0&&dt.every($e=>$e))return void await Promise.all(dt);let qe=Q.moduleChunks||[],Ke=qe.map($e=>Et.get($e)).filter($e=>$e);if(Ke.length>0){if(Ke.length===qe.length)return void await Promise.all(Ke);let $e=new Set;for(let vt of qe)Et.has(vt)||$e.add(vt);for(let vt of $e){let St=H(q,V,z(vt));Et.set(vt,St),Ke.push(St)}ce=Promise.all(Ke)}else for(let $e of(ce=H(q,V,z(Q.path)),qe))Et.has($e)||Et.set($e,ce);for(let $e of Te)jt.has($e)||jt.set($e,ce);await ce}Pe.l=function(q){return de(1,this.m.id,q)};let ye=Promise.resolve(void 0),L=new WeakMap;function H(q,V,Q){let ce=F.loadChunkCached(q,Q),Te=L.get(ce);if(Te===void 0){let dt=L.set.bind(L,ce,ye);Te=ce.then(dt).catch(qe=>{let Ke;switch(q){case 0:Ke=`as a runtime dependency of chunk ${V}`;break;case 1:Ke=`from module ${V}`;break;case 2:Ke="from an HMR update";break;default:we(q,$e=>`Unknown source type: ${$e}`)}throw Error(`Failed to load chunk ${Q} ${Ke}${qe?`: ${qe}`:""}`,qe?{cause:qe}:void 0)}),L.set(ce,Te)}return Te}function z(q){return`${q.split("/").map(V=>encodeURIComponent(V)).join("/")}`}Pe.L=function(q){return H(1,this.m.id,q)},Pe.R=function(q){let V=this.r(q);return V?.default??V},Pe.P=function(q){return`/ROOT/${q??""}`},Pe.b=function(q){let V=new Blob([`self.TURBOPACK_WORKER_LOCATION = ${JSON.stringify(location.origin)};
self.TURBOPACK_NEXT_CHUNK_URLS = ${JSON.stringify(q.reverse().map(z),null,2)};
importScripts(...self.TURBOPACK_NEXT_CHUNK_URLS.map(c => self.TURBOPACK_WORKER_LOCATION + c).reverse());`],{type:"text/javascript"});return URL.createObjectURL(V)};let ie=/\.js(?:\?[^#]*)?(?:#.*)?$/;ke.w=function(q,V,Q){return F.loadWebAssembly(1,this.m.id,q,V,Q)},ke.u=function(q,V){return F.loadWebAssemblyModule(1,this.m.id,q,V)};let ge={};ke.c=ge;let ut=(q,V)=>{let Q=ge[q];if(Q){if(Q.error)throw Q.error;return Q}return Ge(q,Qe.Parent,V.id)};function Ge(q,V,Q){let ce=st.get(q);typeof ce!="function"&&function(Ke,$e,vt){let St;switch($e){case 0:St=`as a runtime entry of chunk ${vt}`;break;case 1:St=`because it was required from module ${vt}`;break;case 2:St="because of an HMR update";break;default:we($e,et=>`Unknown source type: ${et}`)}throw Error(`Module ${Ke} was instantiated ${St}, but the module factory is not available. It might have been deleted in an HMR update.`)}(q,V,Q);let Te=C(q),dt=Te.exports;ge[q]=Te;let qe=new Ye(Te,dt);try{ce(qe,Te,dt)}catch(Ke){throw Te.error=Ke,Ke}return Te.namespaceObject&&Te.exports!==Te.namespaceObject&&A(Te.exports,Te.namespaceObject),Te}function gt(q){let V,Q=function(ce){if(typeof ce=="string")return ce;let Te=decodeURIComponent((typeof TURBOPACK_NEXT_CHUNK_URLS<"u"?TURBOPACK_NEXT_CHUNK_URLS.pop():ce.getAttribute("src")).replace(/[?#].*$/,""));return Te.startsWith("")?Te.slice(0):Te}(q[0]);return q.length===2?V=q[1]:(V=void 0,function(ce,Te,dt,qe){let Ke=1;for(;Ke<ce.length;){let $e=ce[Ke],vt=Ke+1;for(;vt<ce.length&&typeof ce[vt]!="function";)vt++;if(vt===ce.length)throw Error("malformed chunk format, expected a factory function");if(!dt.has($e)){let St=ce[vt];for(Object.defineProperty(St,"name",{value:"__TURBOPACK__module__evaluation__"});Ke<vt;Ke++)$e=ce[Ke],dt.set($e,St)}Ke=vt+1}}(q,0,st)),F.registerChunk(Q,V)}function yt(q,V,Q=!1){let ce;try{ce=V()}catch(Te){throw Error(`Failed to load external module ${q}: ${Te}`)}return!Q||ce.__esModule?ce:A(ce,N(ce),!0)}ke.y=async function(q){let V;try{V=await import(q)}catch(Q){throw Error(`Failed to load external module ${q}: ${Q}`)}return V&&V.__esModule&&V.default&&"default"in V.default?A(V.default,N(V),!0):V},yt.resolve=(q,V)=>yi.resolve(q,V),ke.x=yt,(()=>{F={registerChunk(Te,dt){q.add(Te),function(qe){let Ke=V.get(qe);if(Ke!=null){for(let $e of Ke)$e.requiredChunks.delete(qe),$e.requiredChunks.size===0&&Q($e.runtimeModuleIds,$e.chunkPath);V.delete(qe)}}(Te),dt!=null&&(dt.otherChunks.length===0?Q(dt.runtimeModuleIds,Te):function(qe,Ke,$e){let vt=new Set,St={runtimeModuleIds:$e,chunkPath:qe,requiredChunks:vt};for(let et of Ke){let en=J(et);if(q.has(en))continue;vt.add(en);let gn=V.get(en);gn==null&&(gn=new Set,V.set(en,gn)),gn.add(St)}St.requiredChunks.size===0&&Q(St.runtimeModuleIds,St.chunkPath)}(Te,dt.otherChunks.filter(qe=>{var Ke;return Ke=J(qe),ie.test(Ke)}),dt.runtimeModuleIds))},loadChunkCached(Te,dt){throw Error("chunk loading is not supported")},async loadWebAssembly(Te,dt,qe,Ke,$e){let vt=await ce(qe,Ke);return await WebAssembly.instantiate(vt,$e)},loadWebAssemblyModule:async(Te,dt,qe,Ke)=>ce(qe,Ke)};let q=new Set,V=new Map;function Q(Te,dt){for(let qe of Te)(function(Ke,$e){let vt=ge[$e];if(vt){if(vt.error)throw vt.error;return}Ge($e,Qe.Runtime,Ke)})(dt,qe)}async function ce(Te,dt){let qe;try{qe=dt()}catch{}if(!qe)throw Error(`dynamically loading WebAssembly is not supported in this runtime as global was not injected for chunk '${Te}'`);return qe}})();let Vt=Tt.TURBOPACK;Tt.TURBOPACK={push:gt},Vt.forEach(gt)})(),(Tt.TURBOPACK||(Tt.TURBOPACK=[])).push(["chunks/_7815e3ef._.js",41769,F=>{"use strict";async function Ct(){return"globalThis._ENTRIES"in Tt&&Tt._ENTRIES.middleware_instrumentation&&await Tt._ENTRIES.middleware_instrumentation}F.s(["edgeInstrumentationOnRequestError",()=>At,"ensureInstrumentationRegistered",()=>ne,"getEdgeInstrumentationModule",()=>Ct]);let Ye=null;async function ke(){if(process.env.NEXT_PHASE==="phase-production-build")return;Ye||(Ye=Ct());let C=await Ye;if(C?.register)try{await C.register()}catch(x){throw x.message=`An error occurred while loading instrumentation hook: ${x.message}`,x}}async function At(...C){let x=await Ct();try{var j;await(x==null||(j=x.onRequestError)==null?void 0:j.call(x,...C))}catch($){console.error("Error in instrumentation.onRequestError:",$)}}let at=null;function ne(){return at||(at=ke()),at}function le(C){return`The edge runtime does not support Node.js '${C}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==F.g.process&&(process.env=F.g.process.env,F.g.process=process);try{Object.defineProperty(Tt,"__import_unsupported",{value:function(C){let x=new Proxy(function(){},{get(j,$){if($==="then")return{};throw Object.defineProperty(Error(le(C)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(le(C)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(j,$,A){if(typeof A[0]=="function")return A[0](x);throw Object.defineProperty(Error(le(C)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>x})},enumerable:!1,configurable:!1})}catch{}ne()},52288,(F,Ct,Ye)=>{yn._ENTRIES||={};let ke=Promise.resolve().then(()=>F.i(13057));ke.catch(()=>{}),yn._ENTRIES["middleware_app/api/generate/route"]=new Proxy(ke,{get(At,at){if(at==="then")return(le,C)=>At.then(le,C);let ne=(...le)=>At.then(C=>(0,C[at])(...le));return ne.then=(le,C)=>At.then(x=>x[at]).then(le,C),ne}})}]),(Tt.TURBOPACK||(Tt.TURBOPACK=[])).push(["chunks/[root-of-the-server]__ec7f7068._.js",31239,F=>{"use strict";F.s(["createAsyncLocalStorage",()=>At]);let Ct=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class Ye{disable(){throw Ct}getStore(){}run(){throw Ct}exit(){throw Ct}enterWith(){throw Ct}static bind(ne){return ne}}let ke=typeof Tt<"u"&&Tt.AsyncLocalStorage;function At(){return ke?new ke:new Ye}},62812,(F,Ct,Ye)=>{"use strict";var ke=Object.defineProperty,At=Object.getOwnPropertyDescriptor,at=Object.getOwnPropertyNames,ne=Object.prototype.hasOwnProperty,le={};function C(O){var G;let B=["path"in O&&O.path&&`Path=${O.path}`,"expires"in O&&(O.expires||O.expires===0)&&`Expires=${(typeof O.expires=="number"?new Date(O.expires):O.expires).toUTCString()}`,"maxAge"in O&&typeof O.maxAge=="number"&&`Max-Age=${O.maxAge}`,"domain"in O&&O.domain&&`Domain=${O.domain}`,"secure"in O&&O.secure&&"Secure","httpOnly"in O&&O.httpOnly&&"HttpOnly","sameSite"in O&&O.sameSite&&`SameSite=${O.sameSite}`,"partitioned"in O&&O.partitioned&&"Partitioned","priority"in O&&O.priority&&`Priority=${O.priority}`].filter(Boolean),fe=`${O.name}=${encodeURIComponent((G=O.value)!=null?G:"")}`;return B.length===0?fe:`${fe}; ${B.join("; ")}`}function x(O){let G=new Map;for(let B of O.split(/; */)){if(!B)continue;let fe=B.indexOf("=");if(fe===-1){G.set(B,"true");continue}let[re,Ee]=[B.slice(0,fe),B.slice(fe+1)];try{G.set(re,decodeURIComponent(Ee??"true"))}catch{}}return G}function j(O){if(!O)return;let[[G,B],...fe]=x(O),{domain:re,expires:Ee,httponly:we,maxage:Pe,path:Qe,samesite:st,secure:jt,partitioned:Et,priority:de}=Object.fromEntries(fe.map(([z,ie])=>[z.toLowerCase().replace(/-/g,""),ie]));{var ye,L,H={name:G,value:decodeURIComponent(B),domain:re,...Ee&&{expires:new Date(Ee)},...we&&{httpOnly:!0},...typeof Pe=="string"&&{maxAge:Number(Pe)},path:Qe,...st&&{sameSite:$.includes(ye=(ye=st).toLowerCase())?ye:void 0},...jt&&{secure:!0},...de&&{priority:A.includes(L=(L=de).toLowerCase())?L:void 0},...Et&&{partitioned:!0}};let z={};for(let ie in H)H[ie]&&(z[ie]=H[ie]);return z}}((O,G)=>{for(var B in G)ke(O,B,{get:G[B],enumerable:!0})})(le,{RequestCookies:()=>N,ResponseCookies:()=>J,parseCookie:()=>x,parseSetCookie:()=>j,stringifyCookie:()=>C}),Ct.exports=((O,G,B,fe)=>{if(G&&typeof G=="object"||typeof G=="function")for(let re of at(G))ne.call(O,re)||re===B||ke(O,re,{get:()=>G[re],enumerable:!(fe=At(G,re))||fe.enumerable});return O})(ke({},"__esModule",{value:!0}),le);var $=["strict","lax","none"],A=["low","medium","high"],N=class{constructor(O){this._parsed=new Map,this._headers=O;let G=O.get("cookie");if(G)for(let[B,fe]of x(G))this._parsed.set(B,{name:B,value:fe})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...O){let G=typeof O[0]=="string"?O[0]:O[0].name;return this._parsed.get(G)}getAll(...O){var G;let B=Array.from(this._parsed);if(!O.length)return B.map(([re,Ee])=>Ee);let fe=typeof O[0]=="string"?O[0]:(G=O[0])==null?void 0:G.name;return B.filter(([re])=>re===fe).map(([re,Ee])=>Ee)}has(O){return this._parsed.has(O)}set(...O){let[G,B]=O.length===1?[O[0].name,O[0].value]:O,fe=this._parsed;return fe.set(G,{name:G,value:B}),this._headers.set("cookie",Array.from(fe).map(([re,Ee])=>C(Ee)).join("; ")),this}delete(O){let G=this._parsed,B=Array.isArray(O)?O.map(fe=>G.delete(fe)):G.delete(O);return this._headers.set("cookie",Array.from(G).map(([fe,re])=>C(re)).join("; ")),B}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(O=>`${O.name}=${encodeURIComponent(O.value)}`).join("; ")}},J=class{constructor(O){var G,B,fe;this._parsed=new Map,this._headers=O;let re=(fe=(B=(G=O.getSetCookie)==null?void 0:G.call(O))!=null?B:O.get("set-cookie"))!=null?fe:[];for(let Ee of Array.isArray(re)?re:function(we){if(!we)return[];var Pe,Qe,st,jt,Et,de=[],ye=0;function L(){for(;ye<we.length&&/\s/.test(we.charAt(ye));)ye+=1;return ye<we.length}for(;ye<we.length;){for(Pe=ye,Et=!1;L();)if((Qe=we.charAt(ye))===","){for(st=ye,ye+=1,L(),jt=ye;ye<we.length&&(Qe=we.charAt(ye))!=="="&&Qe!==";"&&Qe!==",";)ye+=1;ye<we.length&&we.charAt(ye)==="="?(Et=!0,ye=jt,de.push(we.substring(Pe,st)),Pe=ye):ye=st+1}else ye+=1;(!Et||ye>=we.length)&&de.push(we.substring(Pe,we.length))}return de}(re)){let we=j(Ee);we&&this._parsed.set(we.name,we)}}get(...O){let G=typeof O[0]=="string"?O[0]:O[0].name;return this._parsed.get(G)}getAll(...O){var G;let B=Array.from(this._parsed.values());if(!O.length)return B;let fe=typeof O[0]=="string"?O[0]:(G=O[0])==null?void 0:G.name;return B.filter(re=>re.name===fe)}has(O){return this._parsed.has(O)}set(...O){let[G,B,fe]=O.length===1?[O[0].name,O[0].value,O[0]]:O,re=this._parsed;return re.set(G,function(Ee={name:"",value:""}){return typeof Ee.expires=="number"&&(Ee.expires=new Date(Ee.expires)),Ee.maxAge&&(Ee.expires=new Date(Date.now()+1e3*Ee.maxAge)),(Ee.path===null||Ee.path===void 0)&&(Ee.path="/"),Ee}({name:G,value:B,...fe})),function(Ee,we){for(let[,Pe]of(we.delete("set-cookie"),Ee)){let Qe=C(Pe);we.append("set-cookie",Qe)}}(re,this._headers),this}delete(...O){let[G,B]=typeof O[0]=="string"?[O[0]]:[O[0].name,O[0]];return this.set({...B,name:G,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(C).join("; ")}}},24768,(F,Ct,Ye)=>{(()=>{"use strict";var ke={491:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.ContextAPI=void 0;let j=x(223),$=x(172),A=x(930),N="context",J=new j.NoopContextManager;class O{constructor(){}static getInstance(){return this._instance||(this._instance=new O),this._instance}setGlobalContextManager(B){return(0,$.registerGlobal)(N,B,A.DiagAPI.instance())}active(){return this._getContextManager().active()}with(B,fe,re,...Ee){return this._getContextManager().with(B,fe,re,...Ee)}bind(B,fe){return this._getContextManager().bind(B,fe)}_getContextManager(){return(0,$.getGlobal)(N)||J}disable(){this._getContextManager().disable(),(0,$.unregisterGlobal)(N,A.DiagAPI.instance())}}C.ContextAPI=O},930:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.DiagAPI=void 0;let j=x(56),$=x(912),A=x(957),N=x(172);class J{constructor(){function G(fe){return function(...re){let Ee=(0,N.getGlobal)("diag");if(Ee)return Ee[fe](...re)}}let B=this;B.setLogger=(fe,re={logLevel:A.DiagLogLevel.INFO})=>{var Ee,we,Pe;if(fe===B){let jt=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return B.error((Ee=jt.stack)!=null?Ee:jt.message),!1}typeof re=="number"&&(re={logLevel:re});let Qe=(0,N.getGlobal)("diag"),st=(0,$.createLogLevelDiagLogger)((we=re.logLevel)!=null?we:A.DiagLogLevel.INFO,fe);if(Qe&&!re.suppressOverrideMessage){let jt=(Pe=Error().stack)!=null?Pe:"<failed to generate stacktrace>";Qe.warn(`Current logger will be overwritten from ${jt}`),st.warn(`Current logger will overwrite one already registered from ${jt}`)}return(0,N.registerGlobal)("diag",st,B,!0)},B.disable=()=>{(0,N.unregisterGlobal)("diag",B)},B.createComponentLogger=fe=>new j.DiagComponentLogger(fe),B.verbose=G("verbose"),B.debug=G("debug"),B.info=G("info"),B.warn=G("warn"),B.error=G("error")}static instance(){return this._instance||(this._instance=new J),this._instance}}C.DiagAPI=J},653:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.MetricsAPI=void 0;let j=x(660),$=x(172),A=x(930),N="metrics";class J{constructor(){}static getInstance(){return this._instance||(this._instance=new J),this._instance}setGlobalMeterProvider(G){return(0,$.registerGlobal)(N,G,A.DiagAPI.instance())}getMeterProvider(){return(0,$.getGlobal)(N)||j.NOOP_METER_PROVIDER}getMeter(G,B,fe){return this.getMeterProvider().getMeter(G,B,fe)}disable(){(0,$.unregisterGlobal)(N,A.DiagAPI.instance())}}C.MetricsAPI=J},181:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PropagationAPI=void 0;let j=x(172),$=x(874),A=x(194),N=x(277),J=x(369),O=x(930),G="propagation",B=new $.NoopTextMapPropagator;class fe{constructor(){this.createBaggage=J.createBaggage,this.getBaggage=N.getBaggage,this.getActiveBaggage=N.getActiveBaggage,this.setBaggage=N.setBaggage,this.deleteBaggage=N.deleteBaggage}static getInstance(){return this._instance||(this._instance=new fe),this._instance}setGlobalPropagator(Ee){return(0,j.registerGlobal)(G,Ee,O.DiagAPI.instance())}inject(Ee,we,Pe=A.defaultTextMapSetter){return this._getGlobalPropagator().inject(Ee,we,Pe)}extract(Ee,we,Pe=A.defaultTextMapGetter){return this._getGlobalPropagator().extract(Ee,we,Pe)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,j.unregisterGlobal)(G,O.DiagAPI.instance())}_getGlobalPropagator(){return(0,j.getGlobal)(G)||B}}C.PropagationAPI=fe},997:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.TraceAPI=void 0;let j=x(172),$=x(846),A=x(139),N=x(607),J=x(930),O="trace";class G{constructor(){this._proxyTracerProvider=new $.ProxyTracerProvider,this.wrapSpanContext=A.wrapSpanContext,this.isSpanContextValid=A.isSpanContextValid,this.deleteSpan=N.deleteSpan,this.getSpan=N.getSpan,this.getActiveSpan=N.getActiveSpan,this.getSpanContext=N.getSpanContext,this.setSpan=N.setSpan,this.setSpanContext=N.setSpanContext}static getInstance(){return this._instance||(this._instance=new G),this._instance}setGlobalTracerProvider(fe){let re=(0,j.registerGlobal)(O,this._proxyTracerProvider,J.DiagAPI.instance());return re&&this._proxyTracerProvider.setDelegate(fe),re}getTracerProvider(){return(0,j.getGlobal)(O)||this._proxyTracerProvider}getTracer(fe,re){return this.getTracerProvider().getTracer(fe,re)}disable(){(0,j.unregisterGlobal)(O,J.DiagAPI.instance()),this._proxyTracerProvider=new $.ProxyTracerProvider}}C.TraceAPI=G},277:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.deleteBaggage=C.setBaggage=C.getActiveBaggage=C.getBaggage=void 0;let j=x(491),$=(0,x(780).createContextKey)("OpenTelemetry Baggage Key");function A(N){return N.getValue($)||void 0}C.getBaggage=A,C.getActiveBaggage=function(){return A(j.ContextAPI.getInstance().active())},C.setBaggage=function(N,J){return N.setValue($,J)},C.deleteBaggage=function(N){return N.deleteValue($)}},993:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.BaggageImpl=void 0;class x{constructor($){this._entries=$?new Map($):new Map}getEntry($){let A=this._entries.get($);if(A)return Object.assign({},A)}getAllEntries(){return Array.from(this._entries.entries()).map(([$,A])=>[$,A])}setEntry($,A){let N=new x(this._entries);return N._entries.set($,A),N}removeEntry($){let A=new x(this._entries);return A._entries.delete($),A}removeEntries(...$){let A=new x(this._entries);for(let N of $)A._entries.delete(N);return A}clear(){return new x}}C.BaggageImpl=x},830:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.baggageEntryMetadataSymbol=void 0,C.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.baggageEntryMetadataFromString=C.createBaggage=void 0;let j=x(930),$=x(993),A=x(830),N=j.DiagAPI.instance();C.createBaggage=function(J={}){return new $.BaggageImpl(new Map(Object.entries(J)))},C.baggageEntryMetadataFromString=function(J){return typeof J!="string"&&(N.error(`Cannot create baggage metadata from unknown type: ${typeof J}`),J=""),{__TYPE__:A.baggageEntryMetadataSymbol,toString:()=>J}}},67:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.context=void 0,C.context=x(491).ContextAPI.getInstance()},223:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.NoopContextManager=void 0;let j=x(780);C.NoopContextManager=class{active(){return j.ROOT_CONTEXT}with($,A,N,...J){return A.call(N,...J)}bind($,A){return A}enable(){return this}disable(){return this}}},780:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.ROOT_CONTEXT=C.createContextKey=void 0,C.createContextKey=function(j){return Symbol.for(j)};class x{constructor($){let A=this;A._currentContext=$?new Map($):new Map,A.getValue=N=>A._currentContext.get(N),A.setValue=(N,J)=>{let O=new x(A._currentContext);return O._currentContext.set(N,J),O},A.deleteValue=N=>{let J=new x(A._currentContext);return J._currentContext.delete(N),J}}}C.ROOT_CONTEXT=new x},506:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.diag=void 0,C.diag=x(930).DiagAPI.instance()},56:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.DiagComponentLogger=void 0;let j=x(172);function $(A,N,J){let O=(0,j.getGlobal)("diag");if(O)return J.unshift(N),O[A](...J)}C.DiagComponentLogger=class{constructor(A){this._namespace=A.namespace||"DiagComponentLogger"}debug(...A){return $("debug",this._namespace,A)}error(...A){return $("error",this._namespace,A)}info(...A){return $("info",this._namespace,A)}warn(...A){return $("warn",this._namespace,A)}verbose(...A){return $("verbose",this._namespace,A)}}},972:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.DiagConsoleLogger=void 0;let x=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];C.DiagConsoleLogger=class{constructor(){for(let j=0;j<x.length;j++)this[x[j].n]=function($){return function(...A){if(console){let N=console[$];if(typeof N!="function"&&(N=console.log),typeof N=="function")return N.apply(console,A)}}}(x[j].c)}}},912:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.createLogLevelDiagLogger=void 0;let j=x(957);C.createLogLevelDiagLogger=function($,A){function N(J,O){let G=A[J];return typeof G=="function"&&$>=O?G.bind(A):function(){}}return $<j.DiagLogLevel.NONE?$=j.DiagLogLevel.NONE:$>j.DiagLogLevel.ALL&&($=j.DiagLogLevel.ALL),A=A||{},{error:N("error",j.DiagLogLevel.ERROR),warn:N("warn",j.DiagLogLevel.WARN),info:N("info",j.DiagLogLevel.INFO),debug:N("debug",j.DiagLogLevel.DEBUG),verbose:N("verbose",j.DiagLogLevel.VERBOSE)}}},957:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.DiagLogLevel=void 0,function(x){x[x.NONE=0]="NONE",x[x.ERROR=30]="ERROR",x[x.WARN=50]="WARN",x[x.INFO=60]="INFO",x[x.DEBUG=70]="DEBUG",x[x.VERBOSE=80]="VERBOSE",x[x.ALL=9999]="ALL"}(C.DiagLogLevel||(C.DiagLogLevel={}))},172:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.unregisterGlobal=C.getGlobal=C.registerGlobal=void 0;let j=x(200),$=x(521),A=x(130),N=$.VERSION.split(".")[0],J=Symbol.for(`opentelemetry.js.api.${N}`),O=j._globalThis;C.registerGlobal=function(G,B,fe,re=!1){var Ee;let we=O[J]=(Ee=O[J])!=null?Ee:{version:$.VERSION};if(!re&&we[G]){let Pe=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${G}`);return fe.error(Pe.stack||Pe.message),!1}if(we.version!==$.VERSION){let Pe=Error(`@opentelemetry/api: Registration of version v${we.version} for ${G} does not match previously registered API v${$.VERSION}`);return fe.error(Pe.stack||Pe.message),!1}return we[G]=B,fe.debug(`@opentelemetry/api: Registered a global for ${G} v${$.VERSION}.`),!0},C.getGlobal=function(G){var B,fe;let re=(B=O[J])==null?void 0:B.version;if(re&&(0,A.isCompatible)(re))return(fe=O[J])==null?void 0:fe[G]},C.unregisterGlobal=function(G,B){B.debug(`@opentelemetry/api: Unregistering a global for ${G} v${$.VERSION}.`);let fe=O[J];fe&&delete fe[G]}},130:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.isCompatible=C._makeCompatibilityCheck=void 0;let j=x(521),$=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function A(N){let J=new Set([N]),O=new Set,G=N.match($);if(!G)return()=>!1;let B={major:+G[1],minor:+G[2],patch:+G[3],prerelease:G[4]};if(B.prerelease!=null)return function(re){return re===N};function fe(re){return O.add(re),!1}return function(re){if(J.has(re))return!0;if(O.has(re))return!1;let Ee=re.match($);if(!Ee)return fe(re);let we={major:+Ee[1],minor:+Ee[2],patch:+Ee[3],prerelease:Ee[4]};return we.prerelease!=null||B.major!==we.major?fe(re):B.major===0?B.minor===we.minor&&B.patch<=we.patch?(J.add(re),!0):fe(re):B.minor<=we.minor?(J.add(re),!0):fe(re)}}C._makeCompatibilityCheck=A,C.isCompatible=A(j.VERSION)},886:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.metrics=void 0,C.metrics=x(653).MetricsAPI.getInstance()},901:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.ValueType=void 0,function(x){x[x.INT=0]="INT",x[x.DOUBLE=1]="DOUBLE"}(C.ValueType||(C.ValueType={}))},102:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.createNoopMeter=C.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=C.NOOP_OBSERVABLE_GAUGE_METRIC=C.NOOP_OBSERVABLE_COUNTER_METRIC=C.NOOP_UP_DOWN_COUNTER_METRIC=C.NOOP_HISTOGRAM_METRIC=C.NOOP_COUNTER_METRIC=C.NOOP_METER=C.NoopObservableUpDownCounterMetric=C.NoopObservableGaugeMetric=C.NoopObservableCounterMetric=C.NoopObservableMetric=C.NoopHistogramMetric=C.NoopUpDownCounterMetric=C.NoopCounterMetric=C.NoopMetric=C.NoopMeter=void 0;class x{constructor(){}createHistogram(re,Ee){return C.NOOP_HISTOGRAM_METRIC}createCounter(re,Ee){return C.NOOP_COUNTER_METRIC}createUpDownCounter(re,Ee){return C.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(re,Ee){return C.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(re,Ee){return C.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(re,Ee){return C.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(re,Ee){}removeBatchObservableCallback(re){}}C.NoopMeter=x;class j{}C.NoopMetric=j;class $ extends j{add(re,Ee){}}C.NoopCounterMetric=$;class A extends j{add(re,Ee){}}C.NoopUpDownCounterMetric=A;class N extends j{record(re,Ee){}}C.NoopHistogramMetric=N;class J{addCallback(re){}removeCallback(re){}}C.NoopObservableMetric=J;class O extends J{}C.NoopObservableCounterMetric=O;class G extends J{}C.NoopObservableGaugeMetric=G;class B extends J{}C.NoopObservableUpDownCounterMetric=B,C.NOOP_METER=new x,C.NOOP_COUNTER_METRIC=new $,C.NOOP_HISTOGRAM_METRIC=new N,C.NOOP_UP_DOWN_COUNTER_METRIC=new A,C.NOOP_OBSERVABLE_COUNTER_METRIC=new O,C.NOOP_OBSERVABLE_GAUGE_METRIC=new G,C.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new B,C.createNoopMeter=function(){return C.NOOP_METER}},660:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.NOOP_METER_PROVIDER=C.NoopMeterProvider=void 0;let j=x(102);class ${getMeter(N,J,O){return j.NOOP_METER}}C.NoopMeterProvider=$,C.NOOP_METER_PROVIDER=new $},200:function(le,C,x){var j=this&&this.__createBinding||(Object.create?function(A,N,J,O){O===void 0&&(O=J),Object.defineProperty(A,O,{enumerable:!0,get:function(){return N[J]}})}:function(A,N,J,O){O===void 0&&(O=J),A[O]=N[J]}),$=this&&this.__exportStar||function(A,N){for(var J in A)J==="default"||Object.prototype.hasOwnProperty.call(N,J)||j(N,A,J)};Object.defineProperty(C,"__esModule",{value:!0}),$(x(46),C)},651:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C._globalThis=void 0,C._globalThis=typeof Tt=="object"?Tt:F.g},46:function(le,C,x){var j=this&&this.__createBinding||(Object.create?function(A,N,J,O){O===void 0&&(O=J),Object.defineProperty(A,O,{enumerable:!0,get:function(){return N[J]}})}:function(A,N,J,O){O===void 0&&(O=J),A[O]=N[J]}),$=this&&this.__exportStar||function(A,N){for(var J in A)J==="default"||Object.prototype.hasOwnProperty.call(N,J)||j(N,A,J)};Object.defineProperty(C,"__esModule",{value:!0}),$(x(651),C)},939:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.propagation=void 0,C.propagation=x(181).PropagationAPI.getInstance()},874:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.NoopTextMapPropagator=void 0,C.NoopTextMapPropagator=class{inject(x,j){}extract(x,j){return x}fields(){return[]}}},194:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.defaultTextMapSetter=C.defaultTextMapGetter=void 0,C.defaultTextMapGetter={get(x,j){if(x!=null)return x[j]},keys:x=>x==null?[]:Object.keys(x)},C.defaultTextMapSetter={set(x,j,$){x!=null&&(x[j]=$)}}},845:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.trace=void 0,C.trace=x(997).TraceAPI.getInstance()},403:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.NonRecordingSpan=void 0;let j=x(476);C.NonRecordingSpan=class{constructor($=j.INVALID_SPAN_CONTEXT){this._spanContext=$}spanContext(){return this._spanContext}setAttribute($,A){return this}setAttributes($){return this}addEvent($,A){return this}setStatus($){return this}updateName($){return this}end($){}isRecording(){return!1}recordException($,A){}}},614:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.NoopTracer=void 0;let j=x(491),$=x(607),A=x(403),N=x(139),J=j.ContextAPI.getInstance();C.NoopTracer=class{startSpan(O,G,B=J.active()){var fe;if(G?.root)return new A.NonRecordingSpan;let re=B&&(0,$.getSpanContext)(B);return typeof(fe=re)=="object"&&typeof fe.spanId=="string"&&typeof fe.traceId=="string"&&typeof fe.traceFlags=="number"&&(0,N.isSpanContextValid)(re)?new A.NonRecordingSpan(re):new A.NonRecordingSpan}startActiveSpan(O,G,B,fe){let re,Ee,we;if(arguments.length<2)return;arguments.length==2?we=G:arguments.length==3?(re=G,we=B):(re=G,Ee=B,we=fe);let Pe=Ee??J.active(),Qe=this.startSpan(O,re,Pe),st=(0,$.setSpan)(Pe,Qe);return J.with(st,we,void 0,Qe)}}},124:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.NoopTracerProvider=void 0;let j=x(614);C.NoopTracerProvider=class{getTracer($,A,N){return new j.NoopTracer}}},125:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.ProxyTracer=void 0;let j=new(x(614)).NoopTracer;C.ProxyTracer=class{constructor($,A,N,J){this._provider=$,this.name=A,this.version=N,this.options=J}startSpan($,A,N){return this._getTracer().startSpan($,A,N)}startActiveSpan($,A,N,J){let O=this._getTracer();return Reflect.apply(O.startActiveSpan,O,arguments)}_getTracer(){if(this._delegate)return this._delegate;let $=this._provider.getDelegateTracer(this.name,this.version,this.options);return $?(this._delegate=$,this._delegate):j}}},846:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.ProxyTracerProvider=void 0;let j=x(125),$=new(x(124)).NoopTracerProvider;C.ProxyTracerProvider=class{getTracer(A,N,J){var O;return(O=this.getDelegateTracer(A,N,J))!=null?O:new j.ProxyTracer(this,A,N,J)}getDelegate(){var A;return(A=this._delegate)!=null?A:$}setDelegate(A){this._delegate=A}getDelegateTracer(A,N,J){var O;return(O=this._delegate)==null?void 0:O.getTracer(A,N,J)}}},996:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.SamplingDecision=void 0,function(x){x[x.NOT_RECORD=0]="NOT_RECORD",x[x.RECORD=1]="RECORD",x[x.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(C.SamplingDecision||(C.SamplingDecision={}))},607:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.getSpanContext=C.setSpanContext=C.deleteSpan=C.setSpan=C.getActiveSpan=C.getSpan=void 0;let j=x(780),$=x(403),A=x(491),N=(0,j.createContextKey)("OpenTelemetry Context Key SPAN");function J(G){return G.getValue(N)||void 0}function O(G,B){return G.setValue(N,B)}C.getSpan=J,C.getActiveSpan=function(){return J(A.ContextAPI.getInstance().active())},C.setSpan=O,C.deleteSpan=function(G){return G.deleteValue(N)},C.setSpanContext=function(G,B){return O(G,new $.NonRecordingSpan(B))},C.getSpanContext=function(G){var B;return(B=J(G))==null?void 0:B.spanContext()}},325:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.TraceStateImpl=void 0;let j=x(564);class ${constructor(N){this._internalState=new Map,N&&this._parse(N)}set(N,J){let O=this._clone();return O._internalState.has(N)&&O._internalState.delete(N),O._internalState.set(N,J),O}unset(N){let J=this._clone();return J._internalState.delete(N),J}get(N){return this._internalState.get(N)}serialize(){return this._keys().reduce((N,J)=>(N.push(J+"="+this.get(J)),N),[]).join(",")}_parse(N){!(N.length>512)&&(this._internalState=N.split(",").reverse().reduce((J,O)=>{let G=O.trim(),B=G.indexOf("=");if(B!==-1){let fe=G.slice(0,B),re=G.slice(B+1,O.length);(0,j.validateKey)(fe)&&(0,j.validateValue)(re)&&J.set(fe,re)}return J},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let N=new $;return N._internalState=new Map(this._internalState),N}}C.TraceStateImpl=$},564:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.validateValue=C.validateKey=void 0;let x="[_0-9a-z-*/]",j=`[a-z]${x}{0,255}`,$=`[a-z0-9]${x}{0,240}@[a-z]${x}{0,13}`,A=RegExp(`^(?:${j}|${$})$`),N=/^[ -~]{0,255}[!-~]$/,J=/,|=/;C.validateKey=function(O){return A.test(O)},C.validateValue=function(O){return N.test(O)&&!J.test(O)}},98:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.createTraceState=void 0;let j=x(325);C.createTraceState=function($){return new j.TraceStateImpl($)}},476:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.INVALID_SPAN_CONTEXT=C.INVALID_TRACEID=C.INVALID_SPANID=void 0;let j=x(475);C.INVALID_SPANID="0000000000000000",C.INVALID_TRACEID="00000000000000000000000000000000",C.INVALID_SPAN_CONTEXT={traceId:C.INVALID_TRACEID,spanId:C.INVALID_SPANID,traceFlags:j.TraceFlags.NONE}},357:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.SpanKind=void 0,function(x){x[x.INTERNAL=0]="INTERNAL",x[x.SERVER=1]="SERVER",x[x.CLIENT=2]="CLIENT",x[x.PRODUCER=3]="PRODUCER",x[x.CONSUMER=4]="CONSUMER"}(C.SpanKind||(C.SpanKind={}))},139:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.wrapSpanContext=C.isSpanContextValid=C.isValidSpanId=C.isValidTraceId=void 0;let j=x(476),$=x(403),A=/^([0-9a-f]{32})$/i,N=/^[0-9a-f]{16}$/i;function J(G){return A.test(G)&&G!==j.INVALID_TRACEID}function O(G){return N.test(G)&&G!==j.INVALID_SPANID}C.isValidTraceId=J,C.isValidSpanId=O,C.isSpanContextValid=function(G){return J(G.traceId)&&O(G.spanId)},C.wrapSpanContext=function(G){return new $.NonRecordingSpan(G)}},847:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.SpanStatusCode=void 0,function(x){x[x.UNSET=0]="UNSET",x[x.OK=1]="OK",x[x.ERROR=2]="ERROR"}(C.SpanStatusCode||(C.SpanStatusCode={}))},475:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.TraceFlags=void 0,function(x){x[x.NONE=0]="NONE",x[x.SAMPLED=1]="SAMPLED"}(C.TraceFlags||(C.TraceFlags={}))},521:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.VERSION=void 0,C.VERSION="1.6.0"}},At={};function at(le){var C=At[le];if(C!==void 0)return C.exports;var x=At[le]={exports:{}},j=!0;try{ke[le].call(x.exports,x,x.exports,at),j=!1}finally{j&&delete At[le]}return x.exports}at.ab="/ROOT/node_modules/.pnpm/next@15.5.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/@opentelemetry/api/";var ne={};(()=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.trace=ne.propagation=ne.metrics=ne.diag=ne.context=ne.INVALID_SPAN_CONTEXT=ne.INVALID_TRACEID=ne.INVALID_SPANID=ne.isValidSpanId=ne.isValidTraceId=ne.isSpanContextValid=ne.createTraceState=ne.TraceFlags=ne.SpanStatusCode=ne.SpanKind=ne.SamplingDecision=ne.ProxyTracerProvider=ne.ProxyTracer=ne.defaultTextMapSetter=ne.defaultTextMapGetter=ne.ValueType=ne.createNoopMeter=ne.DiagLogLevel=ne.DiagConsoleLogger=ne.ROOT_CONTEXT=ne.createContextKey=ne.baggageEntryMetadataFromString=void 0;var le=at(369);Object.defineProperty(ne,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return le.baggageEntryMetadataFromString}});var C=at(780);Object.defineProperty(ne,"createContextKey",{enumerable:!0,get:function(){return C.createContextKey}}),Object.defineProperty(ne,"ROOT_CONTEXT",{enumerable:!0,get:function(){return C.ROOT_CONTEXT}});var x=at(972);Object.defineProperty(ne,"DiagConsoleLogger",{enumerable:!0,get:function(){return x.DiagConsoleLogger}});var j=at(957);Object.defineProperty(ne,"DiagLogLevel",{enumerable:!0,get:function(){return j.DiagLogLevel}});var $=at(102);Object.defineProperty(ne,"createNoopMeter",{enumerable:!0,get:function(){return $.createNoopMeter}});var A=at(901);Object.defineProperty(ne,"ValueType",{enumerable:!0,get:function(){return A.ValueType}});var N=at(194);Object.defineProperty(ne,"defaultTextMapGetter",{enumerable:!0,get:function(){return N.defaultTextMapGetter}}),Object.defineProperty(ne,"defaultTextMapSetter",{enumerable:!0,get:function(){return N.defaultTextMapSetter}});var J=at(125);Object.defineProperty(ne,"ProxyTracer",{enumerable:!0,get:function(){return J.ProxyTracer}});var O=at(846);Object.defineProperty(ne,"ProxyTracerProvider",{enumerable:!0,get:function(){return O.ProxyTracerProvider}});var G=at(996);Object.defineProperty(ne,"SamplingDecision",{enumerable:!0,get:function(){return G.SamplingDecision}});var B=at(357);Object.defineProperty(ne,"SpanKind",{enumerable:!0,get:function(){return B.SpanKind}});var fe=at(847);Object.defineProperty(ne,"SpanStatusCode",{enumerable:!0,get:function(){return fe.SpanStatusCode}});var re=at(475);Object.defineProperty(ne,"TraceFlags",{enumerable:!0,get:function(){return re.TraceFlags}});var Ee=at(98);Object.defineProperty(ne,"createTraceState",{enumerable:!0,get:function(){return Ee.createTraceState}});var we=at(139);Object.defineProperty(ne,"isSpanContextValid",{enumerable:!0,get:function(){return we.isSpanContextValid}}),Object.defineProperty(ne,"isValidTraceId",{enumerable:!0,get:function(){return we.isValidTraceId}}),Object.defineProperty(ne,"isValidSpanId",{enumerable:!0,get:function(){return we.isValidSpanId}});var Pe=at(476);Object.defineProperty(ne,"INVALID_SPANID",{enumerable:!0,get:function(){return Pe.INVALID_SPANID}}),Object.defineProperty(ne,"INVALID_TRACEID",{enumerable:!0,get:function(){return Pe.INVALID_TRACEID}}),Object.defineProperty(ne,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Pe.INVALID_SPAN_CONTEXT}});let Qe=at(67);Object.defineProperty(ne,"context",{enumerable:!0,get:function(){return Qe.context}});let st=at(506);Object.defineProperty(ne,"diag",{enumerable:!0,get:function(){return st.diag}});let jt=at(886);Object.defineProperty(ne,"metrics",{enumerable:!0,get:function(){return jt.metrics}});let Et=at(939);Object.defineProperty(ne,"propagation",{enumerable:!0,get:function(){return Et.propagation}});let de=at(845);Object.defineProperty(ne,"trace",{enumerable:!0,get:function(){return de.trace}}),ne.default={context:Qe.context,diag:st.diag,metrics:jt.metrics,propagation:Et.propagation,trace:de.trace}})(),Ct.exports=ne})()},9312,(F,Ct,Ye)=>{(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="/ROOT/node_modules/.pnpm/next@15.5.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/cookie/");var ke={};(()=>{ke.parse=function(C,x){if(typeof C!="string")throw TypeError("argument str must be a string");for(var j={},$=C.split(ne),A=(x||{}).decode||At,N=0;N<$.length;N++){var J=$[N],O=J.indexOf("=");if(!(O<0)){var G=J.substr(0,O).trim(),B=J.substr(++O,J.length).trim();B[0]=='"'&&(B=B.slice(1,-1)),j[G]==null&&(j[G]=function(fe,re){try{return re(fe)}catch{return fe}}(B,A))}}return j},ke.serialize=function(C,x,j){var $=j||{},A=$.encode||at;if(typeof A!="function")throw TypeError("option encode is invalid");if(!le.test(C))throw TypeError("argument name is invalid");var N=A(x);if(N&&!le.test(N))throw TypeError("argument val is invalid");var J=C+"="+N;if($.maxAge!=null){var O=$.maxAge-0;if(isNaN(O)||!isFinite(O))throw TypeError("option maxAge is invalid");J+="; Max-Age="+Math.floor(O)}if($.domain){if(!le.test($.domain))throw TypeError("option domain is invalid");J+="; Domain="+$.domain}if($.path){if(!le.test($.path))throw TypeError("option path is invalid");J+="; Path="+$.path}if($.expires){if(typeof $.expires.toUTCString!="function")throw TypeError("option expires is invalid");J+="; Expires="+$.expires.toUTCString()}if($.httpOnly&&(J+="; HttpOnly"),$.secure&&(J+="; Secure"),$.sameSite)switch(typeof $.sameSite=="string"?$.sameSite.toLowerCase():$.sameSite){case!0:case"strict":J+="; SameSite=Strict";break;case"lax":J+="; SameSite=Lax";break;case"none":J+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return J};var At=decodeURIComponent,at=encodeURIComponent,ne=/; */,le=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),Ct.exports=ke})()},67039,(F,Ct,Ye)=>{(()=>{"use strict";var ke={993:le=>{var C=Object.prototype.hasOwnProperty,x="~";function j(){}function $(O,G,B){this.fn=O,this.context=G,this.once=B||!1}function A(O,G,B,fe,re){if(typeof B!="function")throw TypeError("The listener must be a function");var Ee=new $(B,fe||O,re),we=x?x+G:G;return O._events[we]?O._events[we].fn?O._events[we]=[O._events[we],Ee]:O._events[we].push(Ee):(O._events[we]=Ee,O._eventsCount++),O}function N(O,G){--O._eventsCount==0?O._events=new j:delete O._events[G]}function J(){this._events=new j,this._eventsCount=0}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(x=!1)),J.prototype.eventNames=function(){var O,G,B=[];if(this._eventsCount===0)return B;for(G in O=this._events)C.call(O,G)&&B.push(x?G.slice(1):G);return Object.getOwnPropertySymbols?B.concat(Object.getOwnPropertySymbols(O)):B},J.prototype.listeners=function(O){var G=x?x+O:O,B=this._events[G];if(!B)return[];if(B.fn)return[B.fn];for(var fe=0,re=B.length,Ee=Array(re);fe<re;fe++)Ee[fe]=B[fe].fn;return Ee},J.prototype.listenerCount=function(O){var G=x?x+O:O,B=this._events[G];return B?B.fn?1:B.length:0},J.prototype.emit=function(O,G,B,fe,re,Ee){var we=x?x+O:O;if(!this._events[we])return!1;var Pe,Qe,st=this._events[we],jt=arguments.length;if(st.fn){switch(st.once&&this.removeListener(O,st.fn,void 0,!0),jt){case 1:return st.fn.call(st.context),!0;case 2:return st.fn.call(st.context,G),!0;case 3:return st.fn.call(st.context,G,B),!0;case 4:return st.fn.call(st.context,G,B,fe),!0;case 5:return st.fn.call(st.context,G,B,fe,re),!0;case 6:return st.fn.call(st.context,G,B,fe,re,Ee),!0}for(Qe=1,Pe=Array(jt-1);Qe<jt;Qe++)Pe[Qe-1]=arguments[Qe];st.fn.apply(st.context,Pe)}else{var Et,de=st.length;for(Qe=0;Qe<de;Qe++)switch(st[Qe].once&&this.removeListener(O,st[Qe].fn,void 0,!0),jt){case 1:st[Qe].fn.call(st[Qe].context);break;case 2:st[Qe].fn.call(st[Qe].context,G);break;case 3:st[Qe].fn.call(st[Qe].context,G,B);break;case 4:st[Qe].fn.call(st[Qe].context,G,B,fe);break;default:if(!Pe)for(Et=1,Pe=Array(jt-1);Et<jt;Et++)Pe[Et-1]=arguments[Et];st[Qe].fn.apply(st[Qe].context,Pe)}}return!0},J.prototype.on=function(O,G,B){return A(this,O,G,B,!1)},J.prototype.once=function(O,G,B){return A(this,O,G,B,!0)},J.prototype.removeListener=function(O,G,B,fe){var re=x?x+O:O;if(!this._events[re])return this;if(!G)return N(this,re),this;var Ee=this._events[re];if(Ee.fn)Ee.fn!==G||fe&&!Ee.once||B&&Ee.context!==B||N(this,re);else{for(var we=0,Pe=[],Qe=Ee.length;we<Qe;we++)(Ee[we].fn!==G||fe&&!Ee[we].once||B&&Ee[we].context!==B)&&Pe.push(Ee[we]);Pe.length?this._events[re]=Pe.length===1?Pe[0]:Pe:N(this,re)}return this},J.prototype.removeAllListeners=function(O){var G;return O?(G=x?x+O:O,this._events[G]&&N(this,G)):(this._events=new j,this._eventsCount=0),this},J.prototype.off=J.prototype.removeListener,J.prototype.addListener=J.prototype.on,J.prefixed=x,J.EventEmitter=J,le.exports=J},213:le=>{le.exports=(C,x)=>(x=x||(()=>{}),C.then(j=>new Promise($=>{$(x())}).then(()=>j),j=>new Promise($=>{$(x())}).then(()=>{throw j})))},574:(le,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(x,j,$){let A=0,N=x.length;for(;N>0;){let J=N/2|0,O=A+J;0>=$(x[O],j)?(A=++O,N-=J+1):N=J}return A}},821:(le,C,x)=>{Object.defineProperty(C,"__esModule",{value:!0});let j=x(574);C.default=class{constructor(){this._queue=[]}enqueue($,A){let N={priority:(A=Object.assign({priority:0},A)).priority,run:$};if(this.size&&this._queue[this.size-1].priority>=A.priority)return void this._queue.push(N);let J=j.default(this._queue,N,(O,G)=>G.priority-O.priority);this._queue.splice(J,0,N)}dequeue(){let $=this._queue.shift();return $?.run}filter($){return this._queue.filter(A=>A.priority===$.priority).map(A=>A.run)}get size(){return this._queue.length}}},816:(le,C,x)=>{let j=x(213);class $ extends Error{constructor(J){super(J),this.name="TimeoutError"}}let A=(N,J,O)=>new Promise((G,B)=>{if(typeof J!="number"||J<0)throw TypeError("Expected `milliseconds` to be a positive number");if(J===1/0)return void G(N);let fe=setTimeout(()=>{if(typeof O=="function"){try{G(O())}catch(we){B(we)}return}let re=typeof O=="string"?O:`Promise timed out after ${J} milliseconds`,Ee=O instanceof Error?O:new $(re);typeof N.cancel=="function"&&N.cancel(),B(Ee)},J);j(N.then(G,B),()=>{clearTimeout(fe)})});le.exports=A,le.exports.default=A,le.exports.TimeoutError=$}},At={};function at(le){var C=At[le];if(C!==void 0)return C.exports;var x=At[le]={exports:{}},j=!0;try{ke[le](x,x.exports,at),j=!1}finally{j&&delete At[le]}return x.exports}at.ab="/ROOT/node_modules/.pnpm/next@15.5.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/p-queue/";var ne={};(()=>{Object.defineProperty(ne,"__esModule",{value:!0});let le=at(993),C=at(816),x=at(821),j=()=>{},$=new C.TimeoutError;ne.default=class extends le{constructor(A){var N,J,O,G;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=j,this._resolveIdle=j,!(typeof(A=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:x.default},A)).intervalCap=="number"&&A.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(J=(N=A.intervalCap)==null?void 0:N.toString())!=null?J:""}\` (${typeof A.intervalCap})`);if(A.interval===void 0||!(Number.isFinite(A.interval)&&A.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(G=(O=A.interval)==null?void 0:O.toString())!=null?G:""}\` (${typeof A.interval})`);this._carryoverConcurrencyCount=A.carryoverConcurrencyCount,this._isIntervalIgnored=A.intervalCap===1/0||A.interval===0,this._intervalCap=A.intervalCap,this._interval=A.interval,this._queue=new A.queueClass,this._queueClass=A.queueClass,this.concurrency=A.concurrency,this._timeout=A.timeout,this._throwOnTimeout=A.throwOnTimeout===!0,this._isPaused=A.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=j,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=j,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let A=Date.now();if(this._intervalId===void 0){let N=this._intervalEnd-A;if(!(N<0))return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},N)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let A=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let N=this._queue.dequeue();return!!N&&(this.emit("active"),N(),A&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(A){if(!(typeof A=="number"&&A>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${A}\` (${typeof A})`);this._concurrency=A,this._processQueue()}async add(A,N={}){return new Promise((J,O)=>{let G=async()=>{this._pendingCount++,this._intervalCount++;try{let B=this._timeout===void 0&&N.timeout===void 0?A():C.default(Promise.resolve(A()),N.timeout===void 0?this._timeout:N.timeout,()=>{(N.throwOnTimeout===void 0?this._throwOnTimeout:N.throwOnTimeout)&&O($)});J(await B)}catch(B){O(B)}this._next()};this._queue.enqueue(G,N),this._tryToStartAnother(),this.emit("add")})}async addAll(A,N){return Promise.all(A.map(async J=>this.add(J,N)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(A=>{let N=this._resolveEmpty;this._resolveEmpty=()=>{N(),A()}})}async onIdle(){if(this._pendingCount!==0||this._queue.size!==0)return new Promise(A=>{let N=this._resolveIdle;this._resolveIdle=()=>{N(),A()}})}get size(){return this._queue.size}sizeBy(A){return this._queue.filter(A).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(A){this._timeout=A}}})(),Ct.exports=ne})()},51615,(F,Ct,Ye)=>{Ct.exports=F.x("node:buffer",()=>(Do(),Io(Yi)))},72095,F=>{"use strict";function Ct(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}F.s(["getEdgePreviewProps",()=>Ct])},78500,(F,Ct,Ye)=>{Ct.exports=F.x("node:async_hooks",()=>(Uo(),Io(Qi)))},89130,(F,Ct,Ye)=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0}),function(le,C){for(var x in C)Object.defineProperty(le,x,{enumerable:!0,get:C[x]})}(Ye,{getTestReqInfo:function(){return ne},withRequest:function(){return at}});let ke=new(F.r(78500)).AsyncLocalStorage;function At(le,C){let x=C.header(le,"next-test-proxy-port");return x?{url:C.url(le),proxyPort:Number(x),testData:C.header(le,"next-test-data")||""}:void 0}function at(le,C,x){let j=At(le,C);return j?ke.run(j,x):x()}function ne(le,C){return ke.getStore()||(le&&C?At(le,C):void 0)}},844,(F,Ct,Ye)=>{"use strict";var ke=F.i(51615);Object.defineProperty(Ye,"__esModule",{value:!0}),function(x,j){for(var $ in j)Object.defineProperty(x,$,{enumerable:!0,get:j[$]})}(Ye,{handleFetch:function(){return le},interceptFetch:function(){return C},reader:function(){return at}});let At=F.r(89130),at={url:x=>x.url,header:(x,j)=>x.headers.get(j)};async function ne(x,j){let{url:$,method:A,headers:N,body:J,cache:O,credentials:G,integrity:B,mode:fe,redirect:re,referrer:Ee,referrerPolicy:we}=j;return{testData:x,api:"fetch",request:{url:$,method:A,headers:[...Array.from(N),["next-test-stack",function(){let Pe=(Error().stack??"").split(`
`);for(let Qe=1;Qe<Pe.length;Qe++)if(Pe[Qe].length>0){Pe=Pe.slice(Qe);break}return(Pe=(Pe=(Pe=Pe.filter(Qe=>!Qe.includes("/next/dist/"))).slice(0,5)).map(Qe=>Qe.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:J?ke.Buffer.from(await j.arrayBuffer()).toString("base64"):null,cache:O,credentials:G,integrity:B,mode:fe,redirect:re,referrer:Ee,referrerPolicy:we}}}async function le(x,j){let $=(0,At.getTestReqInfo)(j,at);if(!$)return x(j);let{testData:A,proxyPort:N}=$,J=await ne(A,j),O=await x(`http://localhost:${N}`,{method:"POST",body:JSON.stringify(J),next:{internal:!0}});if(!O.ok)throw Object.defineProperty(Error(`Proxy request failed: ${O.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let G=await O.json(),{api:B}=G;switch(B){case"continue":return x(j);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${j.method} ${j.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":let{status:fe,headers:re,body:Ee}=G.response;return new Response(Ee?ke.Buffer.from(Ee,"base64"):null,{status:fe,headers:new Headers(re)});default:return B}}function C(x){return F.g.fetch=function(j,$){var A;return!($==null||(A=$.next)==null)&&A.internal?x(j,$):le(x,new Request(j,$))},()=>{F.g.fetch=x}}},63042,(F,Ct,Ye)=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0}),function(le,C){for(var x in C)Object.defineProperty(le,x,{enumerable:!0,get:C[x]})}(Ye,{interceptTestApis:function(){return at},wrapRequestHandler:function(){return ne}});let ke=F.r(89130),At=F.r(844);function at(){return(0,At.interceptFetch)(F.g.fetch)}function ne(le){return(C,x)=>(0,ke.withRequest)(C,At.reader,()=>le(C,x))}},95293,(F,Ct,Ye)=>{(function(){"use strict";var ke={114:function(ne){function le(j){if(typeof j!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(j))}function C(j,$){for(var A,N="",J=0,O=-1,G=0,B=0;B<=j.length;++B){if(B<j.length)A=j.charCodeAt(B);else{if(A===47)break;A=47}if(A===47){if(!(O===B-1||G===1))if(O!==B-1&&G===2){if(N.length<2||J!==2||N.charCodeAt(N.length-1)!==46||N.charCodeAt(N.length-2)!==46){if(N.length>2){var fe=N.lastIndexOf("/");if(fe!==N.length-1){fe===-1?(N="",J=0):J=(N=N.slice(0,fe)).length-1-N.lastIndexOf("/"),O=B,G=0;continue}}else if(N.length===2||N.length===1){N="",J=0,O=B,G=0;continue}}$&&(N.length>0?N+="/..":N="..",J=2)}else N.length>0?N+="/"+j.slice(O+1,B):N=j.slice(O+1,B),J=B-O-1;O=B,G=0}else A===46&&G!==-1?++G:G=-1}return N}var x={resolve:function(){for(var j,$,A="",N=!1,J=arguments.length-1;J>=-1&&!N;J--)J>=0?$=arguments[J]:(j===void 0&&(j=""),$=j),le($),$.length!==0&&(A=$+"/"+A,N=$.charCodeAt(0)===47);return A=C(A,!N),N?A.length>0?"/"+A:"/":A.length>0?A:"."},normalize:function(j){if(le(j),j.length===0)return".";var $=j.charCodeAt(0)===47,A=j.charCodeAt(j.length-1)===47;return(j=C(j,!$)).length!==0||$||(j="."),j.length>0&&A&&(j+="/"),$?"/"+j:j},isAbsolute:function(j){return le(j),j.length>0&&j.charCodeAt(0)===47},join:function(){if(arguments.length==0)return".";for(var j,$=0;$<arguments.length;++$){var A=arguments[$];le(A),A.length>0&&(j===void 0?j=A:j+="/"+A)}return j===void 0?".":x.normalize(j)},relative:function(j,$){if(le(j),le($),j===$||(j=x.resolve(j))===($=x.resolve($)))return"";for(var A=1;A<j.length&&j.charCodeAt(A)===47;++A);for(var N=j.length,J=N-A,O=1;O<$.length&&$.charCodeAt(O)===47;++O);for(var G=$.length-O,B=J<G?J:G,fe=-1,re=0;re<=B;++re){if(re===B){if(G>B){if($.charCodeAt(O+re)===47)return $.slice(O+re+1);if(re===0)return $.slice(O+re)}else J>B&&(j.charCodeAt(A+re)===47?fe=re:re===0&&(fe=0));break}var Ee=j.charCodeAt(A+re);if(Ee!==$.charCodeAt(O+re))break;Ee===47&&(fe=re)}var we="";for(re=A+fe+1;re<=N;++re)(re===N||j.charCodeAt(re)===47)&&(we.length===0?we+="..":we+="/..");return we.length>0?we+$.slice(O+fe):(O+=fe,$.charCodeAt(O)===47&&++O,$.slice(O))},_makeLong:function(j){return j},dirname:function(j){if(le(j),j.length===0)return".";for(var $=j.charCodeAt(0),A=$===47,N=-1,J=!0,O=j.length-1;O>=1;--O)if(($=j.charCodeAt(O))===47){if(!J){N=O;break}}else J=!1;return N===-1?A?"/":".":A&&N===1?"//":j.slice(0,N)},basename:function(j,$){if($!==void 0&&typeof $!="string")throw TypeError('"ext" argument must be a string');le(j);var A,N=0,J=-1,O=!0;if($!==void 0&&$.length>0&&$.length<=j.length){if($.length===j.length&&$===j)return"";var G=$.length-1,B=-1;for(A=j.length-1;A>=0;--A){var fe=j.charCodeAt(A);if(fe===47){if(!O){N=A+1;break}}else B===-1&&(O=!1,B=A+1),G>=0&&(fe===$.charCodeAt(G)?--G==-1&&(J=A):(G=-1,J=B))}return N===J?J=B:J===-1&&(J=j.length),j.slice(N,J)}for(A=j.length-1;A>=0;--A)if(j.charCodeAt(A)===47){if(!O){N=A+1;break}}else J===-1&&(O=!1,J=A+1);return J===-1?"":j.slice(N,J)},extname:function(j){le(j);for(var $=-1,A=0,N=-1,J=!0,O=0,G=j.length-1;G>=0;--G){var B=j.charCodeAt(G);if(B===47){if(!J){A=G+1;break}continue}N===-1&&(J=!1,N=G+1),B===46?$===-1?$=G:O!==1&&(O=1):$!==-1&&(O=-1)}return $===-1||N===-1||O===0||O===1&&$===N-1&&$===A+1?"":j.slice($,N)},format:function(j){var $,A;if(j===null||typeof j!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof j);return $=j.dir||j.root,A=j.base||(j.name||"")+(j.ext||""),$?$===j.root?$+A:$+"/"+A:A},parse:function(j){le(j);var $,A={root:"",dir:"",base:"",ext:"",name:""};if(j.length===0)return A;var N=j.charCodeAt(0),J=N===47;J?(A.root="/",$=1):$=0;for(var O=-1,G=0,B=-1,fe=!0,re=j.length-1,Ee=0;re>=$;--re){if((N=j.charCodeAt(re))===47){if(!fe){G=re+1;break}continue}B===-1&&(fe=!1,B=re+1),N===46?O===-1?O=re:Ee!==1&&(Ee=1):O!==-1&&(Ee=-1)}return O===-1||B===-1||Ee===0||Ee===1&&O===B-1&&O===G+1?B!==-1&&(G===0&&J?A.base=A.name=j.slice(1,B):A.base=A.name=j.slice(G,B)):(G===0&&J?(A.name=j.slice(1,O),A.base=j.slice(1,B)):(A.name=j.slice(G,O),A.base=j.slice(G,B)),A.ext=j.slice(O,B)),G>0?A.dir=j.slice(0,G-1):J&&(A.dir="/"),A},sep:"/",delimiter:":",win32:null,posix:null};x.posix=x,ne.exports=x}},At={};function at(ne){var le=At[ne];if(le!==void 0)return le.exports;var C=At[ne]={exports:{}},x=!0;try{ke[ne](C,C.exports,at),x=!1}finally{x&&delete At[ne]}return C.exports}at.ab="/ROOT/node_modules/.pnpm/next@15.5.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/path-browserify/",Ct.exports=at(114)})()},12569,(F,Ct,Ye)=>{Ct.exports=F.r(95293)},22153,(F,Ct,Ye)=>{(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="/ROOT/node_modules/.pnpm/next@15.5.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/path-to-regexp/");var ke={};(()=>{function At($,A){A===void 0&&(A={});for(var N=function(Ge){for(var gt=[],yt=0;yt<Ge.length;){var Vt=Ge[yt];if(Vt==="*"||Vt==="+"||Vt==="?"){gt.push({type:"MODIFIER",index:yt,value:Ge[yt++]});continue}if(Vt==="\\"){gt.push({type:"ESCAPED_CHAR",index:yt++,value:Ge[yt++]});continue}if(Vt==="{"){gt.push({type:"OPEN",index:yt,value:Ge[yt++]});continue}if(Vt==="}"){gt.push({type:"CLOSE",index:yt,value:Ge[yt++]});continue}if(Vt===":"){for(var q="",V=yt+1;V<Ge.length;){var Q=Ge.charCodeAt(V);if(Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122||Q===95){q+=Ge[V++];continue}break}if(!q)throw TypeError("Missing parameter name at ".concat(yt));gt.push({type:"NAME",index:yt,value:q}),yt=V;continue}if(Vt==="("){var ce=1,Te="",V=yt+1;if(Ge[V]==="?")throw TypeError('Pattern cannot start with "?" at '.concat(V));for(;V<Ge.length;){if(Ge[V]==="\\"){Te+=Ge[V++]+Ge[V++];continue}if(Ge[V]===")"){if(--ce==0){V++;break}}else if(Ge[V]==="("&&(ce++,Ge[V+1]!=="?"))throw TypeError("Capturing groups are not allowed at ".concat(V));Te+=Ge[V++]}if(ce)throw TypeError("Unbalanced pattern at ".concat(yt));if(!Te)throw TypeError("Missing pattern at ".concat(yt));gt.push({type:"PATTERN",index:yt,value:Te}),yt=V;continue}gt.push({type:"CHAR",index:yt,value:Ge[yt++]})}return gt.push({type:"END",index:yt,value:""}),gt}($),J=A.prefixes,O=J===void 0?"./":J,G=A.delimiter,B=G===void 0?"/#?":G,fe=[],re=0,Ee=0,we="",Pe=function(Ge){if(Ee<N.length&&N[Ee].type===Ge)return N[Ee++].value},Qe=function(Ge){var gt=Pe(Ge);if(gt!==void 0)return gt;var yt=N[Ee],Vt=yt.type,q=yt.index;throw TypeError("Unexpected ".concat(Vt," at ").concat(q,", expected ").concat(Ge))},st=function(){for(var Ge,gt="";Ge=Pe("CHAR")||Pe("ESCAPED_CHAR");)gt+=Ge;return gt},jt=function(Ge){for(var gt=0;gt<B.length;gt++){var yt=B[gt];if(Ge.indexOf(yt)>-1)return!0}return!1},Et=function(Ge){var gt=fe[fe.length-1],yt=Ge||(gt&&typeof gt=="string"?gt:"");if(gt&&!yt)throw TypeError('Must have text between two parameters, missing text after "'.concat(gt.name,'"'));return!yt||jt(yt)?"[^".concat(le(B),"]+?"):"(?:(?!".concat(le(yt),")[^").concat(le(B),"])+?")};Ee<N.length;){var de=Pe("CHAR"),ye=Pe("NAME"),L=Pe("PATTERN");if(ye||L){var H=de||"";O.indexOf(H)===-1&&(we+=H,H=""),we&&(fe.push(we),we=""),fe.push({name:ye||re++,prefix:H,suffix:"",pattern:L||Et(H),modifier:Pe("MODIFIER")||""});continue}var z=de||Pe("ESCAPED_CHAR");if(z){we+=z;continue}if(we&&(fe.push(we),we=""),Pe("OPEN")){var H=st(),ie=Pe("NAME")||"",ge=Pe("PATTERN")||"",ut=st();Qe("CLOSE"),fe.push({name:ie||(ge?re++:""),pattern:ie&&!ge?Et(H):ge,prefix:H,suffix:ut,modifier:Pe("MODIFIER")||""});continue}Qe("END")}return fe}function at($,A){A===void 0&&(A={});var N=C(A),J=A.encode,O=J===void 0?function(re){return re}:J,G=A.validate,B=G===void 0||G,fe=$.map(function(re){if(typeof re=="object")return new RegExp("^(?:".concat(re.pattern,")$"),N)});return function(re){for(var Ee="",we=0;we<$.length;we++){var Pe=$[we];if(typeof Pe=="string"){Ee+=Pe;continue}var Qe=re?re[Pe.name]:void 0,st=Pe.modifier==="?"||Pe.modifier==="*",jt=Pe.modifier==="*"||Pe.modifier==="+";if(Array.isArray(Qe)){if(!jt)throw TypeError('Expected "'.concat(Pe.name,'" to not repeat, but got an array'));if(Qe.length===0){if(st)continue;throw TypeError('Expected "'.concat(Pe.name,'" to not be empty'))}for(var Et=0;Et<Qe.length;Et++){var de=O(Qe[Et],Pe);if(B&&!fe[we].test(de))throw TypeError('Expected all "'.concat(Pe.name,'" to match "').concat(Pe.pattern,'", but got "').concat(de,'"'));Ee+=Pe.prefix+de+Pe.suffix}continue}if(typeof Qe=="string"||typeof Qe=="number"){var de=O(String(Qe),Pe);if(B&&!fe[we].test(de))throw TypeError('Expected "'.concat(Pe.name,'" to match "').concat(Pe.pattern,'", but got "').concat(de,'"'));Ee+=Pe.prefix+de+Pe.suffix;continue}if(!st){var ye=jt?"an array":"a string";throw TypeError('Expected "'.concat(Pe.name,'" to be ').concat(ye))}}return Ee}}function ne($,A,N){N===void 0&&(N={});var J=N.decode,O=J===void 0?function(G){return G}:J;return function(G){var B=$.exec(G);if(!B)return!1;for(var fe=B[0],re=B.index,Ee=Object.create(null),we=1;we<B.length;we++)(function(Pe){if(B[Pe]!==void 0){var Qe=A[Pe-1];Qe.modifier==="*"||Qe.modifier==="+"?Ee[Qe.name]=B[Pe].split(Qe.prefix+Qe.suffix).map(function(st){return O(st,Qe)}):Ee[Qe.name]=O(B[Pe],Qe)}})(we);return{path:fe,index:re,params:Ee}}}function le($){return $.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function C($){return $&&$.sensitive?"":"i"}function x($,A,N){N===void 0&&(N={});for(var J=N.strict,O=J!==void 0&&J,G=N.start,B=N.end,fe=N.encode,re=fe===void 0?function(ie){return ie}:fe,Ee=N.delimiter,we=N.endsWith,Pe="[".concat(le(we===void 0?"":we),"]|$"),Qe="[".concat(le(Ee===void 0?"/#?":Ee),"]"),st=G===void 0||G?"^":"",jt=0;jt<$.length;jt++){var Et=$[jt];if(typeof Et=="string")st+=le(re(Et));else{var de=le(re(Et.prefix)),ye=le(re(Et.suffix));if(Et.pattern)if(A&&A.push(Et),de||ye)if(Et.modifier==="+"||Et.modifier==="*"){var L=Et.modifier==="*"?"?":"";st+="(?:".concat(de,"((?:").concat(Et.pattern,")(?:").concat(ye).concat(de,"(?:").concat(Et.pattern,"))*)").concat(ye,")").concat(L)}else st+="(?:".concat(de,"(").concat(Et.pattern,")").concat(ye,")").concat(Et.modifier);else{if(Et.modifier==="+"||Et.modifier==="*")throw TypeError('Can not repeat "'.concat(Et.name,'" without a prefix and suffix'));st+="(".concat(Et.pattern,")").concat(Et.modifier)}else st+="(?:".concat(de).concat(ye,")").concat(Et.modifier)}}if(B===void 0||B)O||(st+="".concat(Qe,"?")),st+=N.endsWith?"(?=".concat(Pe,")"):"$";else{var H=$[$.length-1],z=typeof H=="string"?Qe.indexOf(H[H.length-1])>-1:H===void 0;O||(st+="(?:".concat(Qe,"(?=").concat(Pe,"))?")),z||(st+="(?=".concat(Qe,"|").concat(Pe,")"))}return new RegExp(st,C(N))}function j($,A,N){if($ instanceof RegExp){var J;if(!A)return $;for(var O=/\((?:\?<(.*?)>)?(?!\?)/g,G=0,B=O.exec($.source);B;)A.push({name:B[1]||G++,prefix:"",suffix:"",modifier:"",pattern:""}),B=O.exec($.source);return $}return Array.isArray($)?(J=$.map(function(fe){return j(fe,A,N).source}),new RegExp("(?:".concat(J.join("|"),")"),C(N))):x(At($,N),A,N)}Object.defineProperty(ke,"__esModule",{value:!0}),ke.pathToRegexp=ke.tokensToRegexp=ke.regexpToFunction=ke.match=ke.tokensToFunction=ke.compile=ke.parse=void 0,ke.parse=At,ke.compile=function($,A){return at(At($,A),A)},ke.tokensToFunction=at,ke.match=function($,A){var N=[];return ne(j($,N,A),N,A)},ke.regexpToFunction=ne,ke.tokensToRegexp=x,ke.pathToRegexp=j})(),Ct.exports=ke})()},92294,(F,Ct,Ye)=>{(()=>{typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="/ROOT/node_modules/.pnpm/next@15.5.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/superstruct/");var ke={};({318:function(At,at){(function(ne){"use strict";class le extends TypeError{constructor(H,z){let ie,{message:ge,explanation:ut,...Ge}=H,{path:gt}=H,yt=gt.length===0?ge:`At path: ${gt.join(".")} -- ${ge}`;super(ut??yt),ut!=null&&(this.cause=yt),Object.assign(this,Ge),this.name=this.constructor.name,this.failures=()=>ie??(ie=[H,...z()])}}function C(L){return typeof L=="object"&&L!=null}function x(L){if(Object.prototype.toString.call(L)!=="[object Object]")return!1;let H=Object.getPrototypeOf(L);return H===null||H===Object.prototype}function j(L){return typeof L=="symbol"?L.toString():typeof L=="string"?JSON.stringify(L):`${L}`}function*$(L,H,z,ie){var ge;for(let ut of(C(ge=L)&&typeof ge[Symbol.iterator]=="function"||(L=[L]),L)){let Ge=function(gt,yt,Vt,q){if(gt===!0)return;gt===!1?gt={}:typeof gt=="string"&&(gt={message:gt});let{path:V,branch:Q}=yt,{type:ce}=Vt,{refinement:Te,message:dt=`Expected a value of type \`${ce}\`${Te?` with refinement \`${Te}\``:""}, but received: \`${j(q)}\``}=gt;return{value:q,type:ce,refinement:Te,key:V[V.length-1],path:V,branch:Q,...gt,message:dt}}(ut,H,z,ie);Ge&&(yield Ge)}}function*A(L,H,z={}){let{path:ie=[],branch:ge=[L],coerce:ut=!1,mask:Ge=!1}=z,gt={path:ie,branch:ge};if(ut&&(L=H.coercer(L,gt),Ge&&H.type!=="type"&&C(H.schema)&&C(L)&&!Array.isArray(L)))for(let Vt in L)H.schema[Vt]===void 0&&delete L[Vt];let yt="valid";for(let Vt of H.validator(L,gt))Vt.explanation=z.message,yt="not_valid",yield[Vt,void 0];for(let[Vt,q,V]of H.entries(L,gt))for(let Q of A(q,V,{path:Vt===void 0?ie:[...ie,Vt],branch:Vt===void 0?ge:[...ge,q],coerce:ut,mask:Ge,message:z.message}))Q[0]?(yt=Q[0].refinement!=null?"not_refined":"not_valid",yield[Q[0],void 0]):ut&&(q=Q[1],Vt===void 0?L=q:L instanceof Map?L.set(Vt,q):L instanceof Set?L.add(q):C(L)&&(q!==void 0||Vt in L)&&(L[Vt]=q));if(yt!=="not_valid")for(let Vt of H.refiner(L,gt))Vt.explanation=z.message,yt="not_refined",yield[Vt,void 0];yt==="valid"&&(yield[void 0,L])}class N{constructor(H){let{type:z,schema:ie,validator:ge,refiner:ut,coercer:Ge=yt=>yt,entries:gt=function*(){}}=H;this.type=z,this.schema=ie,this.entries=gt,this.coercer=Ge,ge?this.validator=(yt,Vt)=>$(ge(yt,Vt),Vt,this,yt):this.validator=()=>[],ut?this.refiner=(yt,Vt)=>$(ut(yt,Vt),Vt,this,yt):this.refiner=()=>[]}assert(H,z){return J(H,this,z)}create(H,z){return O(H,this,z)}is(H){return B(H,this)}mask(H,z){return G(H,this,z)}validate(H,z={}){return fe(H,this,z)}}function J(L,H,z){let ie=fe(L,H,{message:z});if(ie[0])throw ie[0]}function O(L,H,z){let ie=fe(L,H,{coerce:!0,message:z});if(!ie[0])return ie[1];throw ie[0]}function G(L,H,z){let ie=fe(L,H,{coerce:!0,mask:!0,message:z});if(!ie[0])return ie[1];throw ie[0]}function B(L,H){return!fe(L,H)[0]}function fe(L,H,z={}){let ie=A(L,H,z),ge=function(ut){let{done:Ge,value:gt}=ut.next();return Ge?void 0:gt}(ie);return ge[0]?[new le(ge[0],function*(){for(let ut of ie)ut[0]&&(yield ut[0])}),void 0]:[void 0,ge[1]]}function re(L,H){return new N({type:L,schema:null,validator:H})}function Ee(){return re("never",()=>!1)}function we(L){let H=L?Object.keys(L):[],z=Ee();return new N({type:"object",schema:L||null,*entries(ie){if(L&&C(ie)){let ge=new Set(Object.keys(ie));for(let ut of H)ge.delete(ut),yield[ut,ie[ut],L[ut]];for(let ut of ge)yield[ut,ie[ut],z]}},validator:ie=>C(ie)||`Expected an object, but received: ${j(ie)}`,coercer:ie=>C(ie)?{...ie}:ie})}function Pe(L){return new N({...L,validator:(H,z)=>H===void 0||L.validator(H,z),refiner:(H,z)=>H===void 0||L.refiner(H,z)})}function Qe(){return re("string",L=>typeof L=="string"||`Expected a string, but received: ${j(L)}`)}function st(L){let H=Object.keys(L);return new N({type:"type",schema:L,*entries(z){if(C(z))for(let ie of H)yield[ie,z[ie],L[ie]]},validator:z=>C(z)||`Expected an object, but received: ${j(z)}`,coercer:z=>C(z)?{...z}:z})}function jt(){return re("unknown",()=>!0)}function Et(L,H,z){return new N({...L,coercer:(ie,ge)=>B(ie,H)?L.coercer(z(ie,ge),ge):L.coercer(ie,ge)})}function de(L){return L instanceof Map||L instanceof Set?L.size:L.length}function ye(L,H,z){return new N({...L,*refiner(ie,ge){for(let ut of(yield*L.refiner(ie,ge),$(z(ie,ge),ge,L,ie)))yield{...ut,refinement:H}}})}ne.Struct=N,ne.StructError=le,ne.any=function(){return re("any",()=>!0)},ne.array=function(L){return new N({type:"array",schema:L,*entries(H){if(L&&Array.isArray(H))for(let[z,ie]of H.entries())yield[z,ie,L]},coercer:H=>Array.isArray(H)?H.slice():H,validator:H=>Array.isArray(H)||`Expected an array value, but received: ${j(H)}`})},ne.assert=J,ne.assign=function(...L){let H=L[0].type==="type",z=Object.assign({},...L.map(ie=>ie.schema));return H?st(z):we(z)},ne.bigint=function(){return re("bigint",L=>typeof L=="bigint")},ne.boolean=function(){return re("boolean",L=>typeof L=="boolean")},ne.coerce=Et,ne.create=O,ne.date=function(){return re("date",L=>L instanceof Date&&!isNaN(L.getTime())||`Expected a valid \`Date\` object, but received: ${j(L)}`)},ne.defaulted=function(L,H,z={}){return Et(L,jt(),ie=>{let ge=typeof H=="function"?H():H;if(ie===void 0)return ge;if(!z.strict&&x(ie)&&x(ge)){let ut={...ie},Ge=!1;for(let gt in ge)ut[gt]===void 0&&(ut[gt]=ge[gt],Ge=!0);if(Ge)return ut}return ie})},ne.define=re,ne.deprecated=function(L,H){return new N({...L,refiner:(z,ie)=>z===void 0||L.refiner(z,ie),validator:(z,ie)=>z===void 0||(H(z,ie),L.validator(z,ie))})},ne.dynamic=function(L){return new N({type:"dynamic",schema:null,*entries(H,z){yield*L(H,z).entries(H,z)},validator:(H,z)=>L(H,z).validator(H,z),coercer:(H,z)=>L(H,z).coercer(H,z),refiner:(H,z)=>L(H,z).refiner(H,z)})},ne.empty=function(L){return ye(L,"empty",H=>{let z=de(H);return z===0||`Expected an empty ${L.type} but received one with a size of \`${z}\``})},ne.enums=function(L){let H={},z=L.map(ie=>j(ie)).join();for(let ie of L)H[ie]=ie;return new N({type:"enums",schema:H,validator:ie=>L.includes(ie)||`Expected one of \`${z}\`, but received: ${j(ie)}`})},ne.func=function(){return re("func",L=>typeof L=="function"||`Expected a function, but received: ${j(L)}`)},ne.instance=function(L){return re("instance",H=>H instanceof L||`Expected a \`${L.name}\` instance, but received: ${j(H)}`)},ne.integer=function(){return re("integer",L=>typeof L=="number"&&!isNaN(L)&&Number.isInteger(L)||`Expected an integer, but received: ${j(L)}`)},ne.intersection=function(L){return new N({type:"intersection",schema:null,*entries(H,z){for(let ie of L)yield*ie.entries(H,z)},*validator(H,z){for(let ie of L)yield*ie.validator(H,z)},*refiner(H,z){for(let ie of L)yield*ie.refiner(H,z)}})},ne.is=B,ne.lazy=function(L){let H;return new N({type:"lazy",schema:null,*entries(z,ie){H??(H=L()),yield*H.entries(z,ie)},validator:(z,ie)=>(H??(H=L()),H.validator(z,ie)),coercer:(z,ie)=>(H??(H=L()),H.coercer(z,ie)),refiner:(z,ie)=>(H??(H=L()),H.refiner(z,ie))})},ne.literal=function(L){let H=j(L),z=typeof L;return new N({type:"literal",schema:z==="string"||z==="number"||z==="boolean"?L:null,validator:ie=>ie===L||`Expected the literal \`${H}\`, but received: ${j(ie)}`})},ne.map=function(L,H){return new N({type:"map",schema:null,*entries(z){if(L&&H&&z instanceof Map)for(let[ie,ge]of z.entries())yield[ie,ie,L],yield[ie,ge,H]},coercer:z=>z instanceof Map?new Map(z):z,validator:z=>z instanceof Map||`Expected a \`Map\` object, but received: ${j(z)}`})},ne.mask=G,ne.max=function(L,H,z={}){let{exclusive:ie}=z;return ye(L,"max",ge=>ie?ge<H:ge<=H||`Expected a ${L.type} less than ${ie?"":"or equal to "}${H} but received \`${ge}\``)},ne.min=function(L,H,z={}){let{exclusive:ie}=z;return ye(L,"min",ge=>ie?ge>H:ge>=H||`Expected a ${L.type} greater than ${ie?"":"or equal to "}${H} but received \`${ge}\``)},ne.never=Ee,ne.nonempty=function(L){return ye(L,"nonempty",H=>de(H)>0||`Expected a nonempty ${L.type} but received an empty one`)},ne.nullable=function(L){return new N({...L,validator:(H,z)=>H===null||L.validator(H,z),refiner:(H,z)=>H===null||L.refiner(H,z)})},ne.number=function(){return re("number",L=>typeof L=="number"&&!isNaN(L)||`Expected a number, but received: ${j(L)}`)},ne.object=we,ne.omit=function(L,H){let{schema:z}=L,ie={...z};for(let ge of H)delete ie[ge];return L.type==="type"?st(ie):we(ie)},ne.optional=Pe,ne.partial=function(L){let H=L instanceof N?{...L.schema}:{...L};for(let z in H)H[z]=Pe(H[z]);return we(H)},ne.pattern=function(L,H){return ye(L,"pattern",z=>H.test(z)||`Expected a ${L.type} matching \`/${H.source}/\` but received "${z}"`)},ne.pick=function(L,H){let{schema:z}=L,ie={};for(let ge of H)ie[ge]=z[ge];return we(ie)},ne.record=function(L,H){return new N({type:"record",schema:null,*entries(z){if(C(z))for(let ie in z){let ge=z[ie];yield[ie,ie,L],yield[ie,ge,H]}},validator:z=>C(z)||`Expected an object, but received: ${j(z)}`})},ne.refine=ye,ne.regexp=function(){return re("regexp",L=>L instanceof RegExp)},ne.set=function(L){return new N({type:"set",schema:null,*entries(H){if(L&&H instanceof Set)for(let z of H)yield[z,z,L]},coercer:H=>H instanceof Set?new Set(H):H,validator:H=>H instanceof Set||`Expected a \`Set\` object, but received: ${j(H)}`})},ne.size=function(L,H,z=H){let ie=`Expected a ${L.type}`,ge=H===z?`of \`${H}\``:`between \`${H}\` and \`${z}\``;return ye(L,"size",ut=>{if(typeof ut=="number"||ut instanceof Date)return H<=ut&&ut<=z||`${ie} ${ge} but received \`${ut}\``;if(ut instanceof Map||ut instanceof Set){let{size:Ge}=ut;return H<=Ge&&Ge<=z||`${ie} with a size ${ge} but received one with a size of \`${Ge}\``}{let{length:Ge}=ut;return H<=Ge&&Ge<=z||`${ie} with a length ${ge} but received one with a length of \`${Ge}\``}})},ne.string=Qe,ne.struct=function(L,H){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),re(L,H)},ne.trimmed=function(L){return Et(L,Qe(),H=>H.trim())},ne.tuple=function(L){let H=Ee();return new N({type:"tuple",schema:null,*entries(z){if(Array.isArray(z)){let ie=Math.max(L.length,z.length);for(let ge=0;ge<ie;ge++)yield[ge,z[ge],L[ge]||H]}},validator:z=>Array.isArray(z)||`Expected an array, but received: ${j(z)}`})},ne.type=st,ne.union=function(L){let H=L.map(z=>z.type).join(" | ");return new N({type:"union",schema:null,coercer(z){for(let ie of L){let[ge,ut]=ie.validate(z,{coerce:!0});if(!ge)return ut}return z},validator(z,ie){let ge=[];for(let ut of L){let[...Ge]=A(z,ut,ie),[gt]=Ge;if(!gt[0])return[];for(let[yt]of Ge)yt&&ge.push(yt)}return[`Expected the value to satisfy a union of \`${H}\`, but received: ${j(z)}`,...ge]}})},ne.unknown=jt,ne.validate=fe})(at)}})[318](0,ke),Ct.exports=ke})()},5570,(F,Ct,Ye)=>{Ct.exports=["chrome 64","edge 79","firefox 67","opera 51","safari 12"]},22358,(F,Ct,Ye)=>{"use strict";var ke={H:null,A:null};function At(de){var ye="https://react.dev/errors/"+de;if(1<arguments.length){ye+="?args[]="+encodeURIComponent(arguments[1]);for(var L=2;L<arguments.length;L++)ye+="&args[]="+encodeURIComponent(arguments[L])}return"Minified React error #"+de+"; visit "+ye+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var at=Array.isArray;function ne(){}var le=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),J=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),G=Symbol.iterator,B=Object.prototype.hasOwnProperty,fe=Object.assign;function re(de,ye,L){var H=L.ref;return{$$typeof:le,type:de,key:ye,ref:H!==void 0?H:null,props:L}}function Ee(de){return typeof de=="object"&&de!==null&&de.$$typeof===le}var we=/\/+/g;function Pe(de,ye){var L,H;return typeof de=="object"&&de!==null&&de.key!=null?(L=""+de.key,H={"=":"=0",":":"=2"},"$"+L.replace(/[=:]/g,function(z){return H[z]})):ye.toString(36)}function Qe(de,ye,L){if(de==null)return de;var H=[],z=0;return function ie(ge,ut,Ge,gt,yt){var Vt,q,V,Q=typeof ge;(Q==="undefined"||Q==="boolean")&&(ge=null);var ce=!1;if(ge===null)ce=!0;else switch(Q){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(ge.$$typeof){case le:case C:ce=!0;break;case O:return ie((ce=ge._init)(ge._payload),ut,Ge,gt,yt)}}if(ce)return yt=yt(ge),ce=gt===""?"."+Pe(ge,0):gt,at(yt)?(Ge="",ce!=null&&(Ge=ce.replace(we,"$&/")+"/"),ie(yt,ut,Ge,"",function(qe){return qe})):yt!=null&&(Ee(yt)&&(Vt=yt,q=Ge+(yt.key==null||ge&&ge.key===yt.key?"":(""+yt.key).replace(we,"$&/")+"/")+ce,yt=re(Vt.type,q,Vt.props)),ut.push(yt)),1;ce=0;var Te=gt===""?".":gt+":";if(at(ge))for(var dt=0;dt<ge.length;dt++)Q=Te+Pe(gt=ge[dt],dt),ce+=ie(gt,ut,Ge,Q,yt);else if(typeof(dt=(V=ge)===null||typeof V!="object"?null:typeof(V=G&&V[G]||V["@@iterator"])=="function"?V:null)=="function")for(ge=dt.call(ge),dt=0;!(gt=ge.next()).done;)Q=Te+Pe(gt=gt.value,dt++),ce+=ie(gt,ut,Ge,Q,yt);else if(Q==="object"){if(typeof ge.then=="function")return ie(function(qe){switch(qe.status){case"fulfilled":return qe.value;case"rejected":throw qe.reason;default:switch(typeof qe.status=="string"?qe.then(ne,ne):(qe.status="pending",qe.then(function(Ke){qe.status==="pending"&&(qe.status="fulfilled",qe.value=Ke)},function(Ke){qe.status==="pending"&&(qe.status="rejected",qe.reason=Ke)})),qe.status){case"fulfilled":return qe.value;case"rejected":throw qe.reason}}throw qe}(ge),ut,Ge,gt,yt);throw Error(At(31,(ut=String(ge))==="[object Object]"?"object with keys {"+Object.keys(ge).join(", ")+"}":ut))}return ce}(de,H,"","",function(ie){return ye.call(L,ie,z++)}),H}function st(de){if(de._status===-1){var ye=de._result;(ye=ye()).then(function(L){(de._status===0||de._status===-1)&&(de._status=1,de._result=L)},function(L){(de._status===0||de._status===-1)&&(de._status=2,de._result=L)}),de._status===-1&&(de._status=0,de._result=ye)}if(de._status===1)return de._result.default;throw de._result}function jt(){return new WeakMap}function Et(){return{s:0,v:void 0,o:null,p:null}}Ye.Children={map:Qe,forEach:function(de,ye,L){Qe(de,function(){ye.apply(this,arguments)},L)},count:function(de){var ye=0;return Qe(de,function(){ye++}),ye},toArray:function(de){return Qe(de,function(ye){return ye})||[]},only:function(de){if(!Ee(de))throw Error(At(143));return de}},Ye.Fragment=x,Ye.Profiler=$,Ye.StrictMode=j,Ye.Suspense=N,Ye.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ke,Ye.cache=function(de){return function(){var ye=ke.A;if(!ye)return de.apply(null,arguments);var L=ye.getCacheForType(jt);(ye=L.get(de))===void 0&&(ye=Et(),L.set(de,ye)),L=0;for(var H=arguments.length;L<H;L++){var z=arguments[L];if(typeof z=="function"||typeof z=="object"&&z!==null){var ie=ye.o;ie===null&&(ye.o=ie=new WeakMap),(ye=ie.get(z))===void 0&&(ye=Et(),ie.set(z,ye))}else(ie=ye.p)===null&&(ye.p=ie=new Map),(ye=ie.get(z))===void 0&&(ye=Et(),ie.set(z,ye))}if(ye.s===1)return ye.v;if(ye.s===2)throw ye.v;try{var ge=de.apply(null,arguments);return(L=ye).s=1,L.v=ge}catch(ut){throw(ge=ye).s=2,ge.v=ut,ut}}},Ye.cacheSignal=function(){var de=ke.A;return de?de.cacheSignal():null},Ye.captureOwnerStack=function(){return null},Ye.cloneElement=function(de,ye,L){if(de==null)throw Error(At(267,de));var H=fe({},de.props),z=de.key;if(ye!=null)for(ie in ye.key!==void 0&&(z=""+ye.key),ye)B.call(ye,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ie!=="ref"||ye.ref!==void 0)&&(H[ie]=ye[ie]);var ie=arguments.length-2;if(ie===1)H.children=L;else if(1<ie){for(var ge=Array(ie),ut=0;ut<ie;ut++)ge[ut]=arguments[ut+2];H.children=ge}return re(de.type,z,H)},Ye.createElement=function(de,ye,L){var H,z={},ie=null;if(ye!=null)for(H in ye.key!==void 0&&(ie=""+ye.key),ye)B.call(ye,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(z[H]=ye[H]);var ge=arguments.length-2;if(ge===1)z.children=L;else if(1<ge){for(var ut=Array(ge),Ge=0;Ge<ge;Ge++)ut[Ge]=arguments[Ge+2];z.children=ut}if(de&&de.defaultProps)for(H in ge=de.defaultProps)z[H]===void 0&&(z[H]=ge[H]);return re(de,ie,z)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(de){return{$$typeof:A,render:de}},Ye.isValidElement=Ee,Ye.lazy=function(de){return{$$typeof:O,_payload:{_status:-1,_result:de},_init:st}},Ye.memo=function(de,ye){return{$$typeof:J,type:de,compare:ye===void 0?null:ye}},Ye.use=function(de){return ke.H.use(de)},Ye.useCallback=function(de,ye){return ke.H.useCallback(de,ye)},Ye.useDebugValue=function(){},Ye.useId=function(){return ke.H.useId()},Ye.useMemo=function(de,ye){return ke.H.useMemo(de,ye)},Ye.version="19.2.0-canary-0bdb9206-20250818"},80114,(F,Ct,Ye)=>{"use strict";Ct.exports=F.r(22358)},88926,(F,Ct,Ye)=>{(()=>{"use strict";var ke={328:ne=>{ne.exports=function(le){for(var C=5381,x=le.length;x;)C=33*C^le.charCodeAt(--x);return C>>>0}}},At={};function at(ne){var le=At[ne];if(le!==void 0)return le.exports;var C=At[ne]={exports:{}},x=!0;try{ke[ne](C,C.exports,at),x=!1}finally{x&&delete At[ne]}return C.exports}at.ab="/ROOT/node_modules/.pnpm/next@15.5.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/string-hash/",Ct.exports=at(328)})()},20312,43538,69171,41338,4878,3998,65320,87130,95149,94499,61405,55116,93663,13140,68290,74714,14655,35006,12984,56289,57690,24219,81029,8749,33672,53801,94129,34942,19222,58184,98775,39812,43303,95614,62662,66822,57452,25067,82444,22821,6201,29928,19749,33852,81373,80116,27165,3516,75773,96079,89087,52836,91093,84274,62895,20349,90812,25927,91304,F=>{"use strict";let Ct,Ye,ke;function At(m){return m.startsWith("/")?m:"/"+m}function at(m){return At(m.split("/").reduce((c,b,w,W)=>b?b[0]==="("&&b.endsWith(")")||b[0]==="@"||(b==="page"||b==="route")&&w===W.length-1?c:c+"/"+b:c,""))}function ne(m){return m.replace(/\.rsc($|\?)/,"$1")}function le(m){let c=m.indexOf("#"),b=m.indexOf("?"),w=b>-1&&(c<0||b<c);return w||c>-1?{pathname:m.substring(0,w?b:c),query:w?m.substring(b,c>-1?c:void 0):"",hash:c>-1?m.slice(c):""}:{pathname:m,query:"",hash:""}}function C(m,c){if(typeof m!="string")return!1;let{pathname:b}=le(m);return b===c||b.startsWith(c+"/")}function x(m,c){if(!C(m,c))return m;let b=m.slice(c.length);return b.startsWith("/")?b:"/"+b}F.s(["normalizeAppPath",()=>at,"normalizeRscURL",()=>ne],20312),F.s(["pathHasPrefix",()=>C],43538),F.s(["removePathPrefix",()=>x],69171),F.s([],41338);var j=F.i(31239);let $=(0,j.createAsyncLocalStorage)();F.s(["workAsyncStorage",()=>$],4878),F.s(["InvariantError",()=>A],3998);class A extends Error{constructor(c,b){super("Invariant: "+(c.endsWith(".")?c:c+".")+" This is a bug in Next.js.",b),this.name="InvariantError"}}F.s(["PageSignatureError",()=>N,"RemovedPageError",()=>J,"RemovedUAError",()=>O],65320);class N extends Error{constructor({page:c}){super(`The middleware "${c}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class J extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class O extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}F.s(["fromNodeOutgoingHttpHeaders",()=>gt,"normalizeNextQueryParam",()=>V,"splitCookiesString",()=>yt,"toNodeOutgoingHttpHeaders",()=>Vt,"validateURL",()=>q],95149),F.s(["CACHE_ONE_YEAR",()=>ge,"HTML_CONTENT_TYPE_HEADER",()=>G,"INFINITE_CACHE",()=>ut,"NEXT_CACHE_IMPLICIT_TAG_ID",()=>ie,"NEXT_CACHE_REVALIDATED_TAGS_HEADER",()=>ye,"NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER",()=>L,"NEXT_CACHE_TAGS_HEADER",()=>de,"NEXT_CACHE_TAG_MAX_ITEMS",()=>H,"NEXT_CACHE_TAG_MAX_LENGTH",()=>z,"NEXT_DATA_SUFFIX",()=>jt,"NEXT_INTERCEPTION_MARKER_PREFIX",()=>fe,"NEXT_META_SUFFIX",()=>Et,"NEXT_QUERY_PARAM_PREFIX",()=>B,"PRERENDER_REVALIDATE_HEADER",()=>re,"PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER",()=>Ee,"RSC_PREFETCH_SUFFIX",()=>we,"RSC_SEGMENTS_DIR_SUFFIX",()=>Pe,"RSC_SEGMENT_SUFFIX",()=>Qe,"RSC_SUFFIX",()=>st],87130);let G="text/html; charset=utf-8",B="nxtP",fe="nxtI",re="x-prerender-revalidate",Ee="x-prerender-revalidate-if-generated",we=".prefetch.rsc",Pe=".segments",Qe=".segment.rsc",st=".rsc",jt=".json",Et=".meta",de="x-next-cache-tags",ye="x-next-revalidated-tags",L="x-next-revalidate-tag-token",H=128,z=256,ie="_N_T_",ge=31536e3,ut=4294967294,Ge={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function gt(m){let c=new Headers;for(let[b,w]of Object.entries(m))for(let W of Array.isArray(w)?w:[w])W!==void 0&&(typeof W=="number"&&(W=W.toString()),c.append(b,W));return c}function yt(m){var c,b,w,W,ee,se=[],pe=0;function Ve(){for(;pe<m.length&&/\s/.test(m.charAt(pe));)pe+=1;return pe<m.length}for(;pe<m.length;){for(c=pe,ee=!1;Ve();)if((b=m.charAt(pe))===","){for(w=pe,pe+=1,Ve(),W=pe;pe<m.length&&(b=m.charAt(pe))!=="="&&b!==";"&&b!==",";)pe+=1;pe<m.length&&m.charAt(pe)==="="?(ee=!0,pe=W,se.push(m.substring(c,w)),c=pe):pe=w+1}else pe+=1;(!ee||pe>=m.length)&&se.push(m.substring(c,m.length))}return se}function Vt(m){let c={},b=[];if(m)for(let[w,W]of m.entries())w.toLowerCase()==="set-cookie"?(b.push(...yt(W)),c[w]=b.length===1?b[0]:b):c[w]=W;return c}function q(m){try{return String(new URL(String(m)))}catch(c){throw Object.defineProperty(Error(`URL is malformed "${String(m)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:c}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function V(m){for(let c of[B,fe])if(m!==c&&m.startsWith(c))return m.substring(c.length);return null}function Q(m,c,b){if(m)for(let ee of(b&&(b=b.toLowerCase()),m)){var w,W;if(c===((w=ee.domain)==null?void 0:w.split(":",1)[0].toLowerCase())||b===ee.defaultLocale.toLowerCase()||((W=ee.locales)==null?void 0:W.some(se=>se.toLowerCase()===b)))return ee}}function ce(m){return m.replace(/\/$/,"")||"/"}function Te(m,c){if(!m.startsWith("/")||!c)return m;let{pathname:b,query:w,hash:W}=le(m);return""+c+b+w+W}function dt(m,c){if(!m.startsWith("/")||!c)return m;let{pathname:b,query:w,hash:W}=le(m);return""+b+c+w+W}function qe(m,c){let b;if(c?.host&&!Array.isArray(c.host))b=c.host.toString().split(":",1)[0];else{if(!m.hostname)return;b=m.hostname}return b.toLowerCase()}Ge.reactServerComponents,Ge.actionBrowser,Ge.reactServerComponents,Ge.actionBrowser,Ge.instrument,Ge.middleware,Ge.apiNode,Ge.apiEdge,Ge.serverSideRendering,Ge.appPagesBrowser,Ge.reactServerComponents,Ge.actionBrowser,Ge.serverSideRendering,Ge.appPagesBrowser,Ge.shared,Ge.instrument,Ge.middleware,Ge.reactServerComponents,Ge.serverSideRendering,Ge.appPagesBrowser,Ge.actionBrowser,F.s(["NextRequest",()=>vn],74714),F.s(["NextURL",()=>en],13140),F.s(["detectDomainLocale",()=>Q],94499),F.s(["removeTrailingSlash",()=>ce],61405),F.s(["getHostname",()=>qe],55116),F.s(["normalizeLocalePath",()=>$e],93663);let Ke=new WeakMap;function $e(m,c){let b;if(!c)return{pathname:m};let w=Ke.get(c);w||(w=c.map(pe=>pe.toLowerCase()),Ke.set(c,w));let W=m.split("/",2);if(!W[1])return{pathname:m};let ee=W[1].toLowerCase(),se=w.indexOf(ee);return se<0?{pathname:m}:(b=c[se],{pathname:m=m.slice(b.length+1)||"/",detectedLocale:b})}let vt=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function St(m,c){return new URL(String(m).replace(vt,"localhost"),c&&String(c).replace(vt,"localhost"))}let et=Symbol("NextURLInternal");class en{constructor(c,b,w){let W,ee;typeof b=="object"&&"pathname"in b||typeof b=="string"?(W=b,ee=w||{}):ee=w||b||{},this[et]={url:St(c,W??ee.base),options:ee,basePath:""},this.analyze()}analyze(){var c,b,w,W,ee;let se=function(Je,Fe){var _e,r;let{basePath:n,i18n:i,trailingSlash:s}=(_e=Fe.nextConfig)!=null?_e:{},l={pathname:Je,trailingSlash:Je!=="/"?Je.endsWith("/"):s};n&&C(l.pathname,n)&&(l.pathname=x(l.pathname,n),l.basePath=n);let v=l.pathname;if(l.pathname.startsWith("/_next/data/")&&l.pathname.endsWith(".json")){let f=l.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");l.buildId=f[0],v=f[1]!=="index"?"/"+f.slice(1).join("/"):"/",Fe.parseData===!0&&(l.pathname=v)}if(i){let f=Fe.i18nProvider?Fe.i18nProvider.analyze(l.pathname):$e(l.pathname,i.locales);l.locale=f.detectedLocale,l.pathname=(r=f.pathname)!=null?r:l.pathname,!f.detectedLocale&&l.buildId&&(f=Fe.i18nProvider?Fe.i18nProvider.analyze(v):$e(v,i.locales)).detectedLocale&&(l.locale=f.detectedLocale)}return l}(this[et].url.pathname,{nextConfig:this[et].options.nextConfig,parseData:!0,i18nProvider:this[et].options.i18nProvider}),pe=qe(this[et].url,this[et].options.headers);this[et].domainLocale=this[et].options.i18nProvider?this[et].options.i18nProvider.detectDomainLocale(pe):Q((b=this[et].options.nextConfig)==null||(c=b.i18n)==null?void 0:c.domains,pe);let Ve=((w=this[et].domainLocale)==null?void 0:w.defaultLocale)||((ee=this[et].options.nextConfig)==null||(W=ee.i18n)==null?void 0:W.defaultLocale);this[et].url.pathname=se.pathname,this[et].defaultLocale=Ve,this[et].basePath=se.basePath??"",this[et].buildId=se.buildId,this[et].locale=se.locale??Ve,this[et].trailingSlash=se.trailingSlash}formatPathname(){var c;let b;return b=function(w,W,ee,se){if(!W||W===ee)return w;let pe=w.toLowerCase();return!se&&(C(pe,"/api")||C(pe,"/"+W.toLowerCase()))?w:Te(w,"/"+W)}((c={basePath:this[et].basePath,buildId:this[et].buildId,defaultLocale:this[et].options.forceLocale?void 0:this[et].defaultLocale,locale:this[et].locale,pathname:this[et].url.pathname,trailingSlash:this[et].trailingSlash}).pathname,c.locale,c.buildId?void 0:c.defaultLocale,c.ignorePrefix),(c.buildId||!c.trailingSlash)&&(b=ce(b)),c.buildId&&(b=dt(Te(b,"/_next/data/"+c.buildId),c.pathname==="/"?"index.json":".json")),b=Te(b,c.basePath),!c.buildId&&c.trailingSlash?b.endsWith("/")?b:dt(b,"/"):ce(b)}formatSearch(){return this[et].url.search}get buildId(){return this[et].buildId}set buildId(c){this[et].buildId=c}get locale(){return this[et].locale??""}set locale(c){var b,w;if(!this[et].locale||!(!((w=this[et].options.nextConfig)==null||(b=w.i18n)==null)&&b.locales.includes(c)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${c}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[et].locale=c}get defaultLocale(){return this[et].defaultLocale}get domainLocale(){return this[et].domainLocale}get searchParams(){return this[et].url.searchParams}get host(){return this[et].url.host}set host(c){this[et].url.host=c}get hostname(){return this[et].url.hostname}set hostname(c){this[et].url.hostname=c}get port(){return this[et].url.port}set port(c){this[et].url.port=c}get protocol(){return this[et].url.protocol}set protocol(c){this[et].url.protocol=c}get href(){let c=this.formatPathname(),b=this.formatSearch();return`${this.protocol}//${this.host}${c}${b}${this.hash}`}set href(c){this[et].url=St(c),this.analyze()}get origin(){return this[et].url.origin}get pathname(){return this[et].url.pathname}set pathname(c){this[et].url.pathname=c}get hash(){return this[et].url.hash}set hash(c){this[et].url.hash=c}get search(){return this[et].url.search}set search(c){this[et].url.search=c}get password(){return this[et].url.password}set password(c){this[et].url.password=c}get username(){return this[et].url.username}set username(c){this[et].url.username=c}get basePath(){return this[et].basePath}set basePath(c){this[et].basePath=c.startsWith("/")?c:`/${c}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new en(String(this),this[et].options)}}F.s([],68290);var gn=F.i(62812);let pr=Symbol("internal request");class vn extends Request{constructor(c,b={}){let w=typeof c!="string"&&"url"in c?c.url:String(c);q(w),c instanceof Request?super(c,b):super(w,b);let W=new en(w,{headers:Vt(this.headers),nextConfig:b.nextConfig});this[pr]={cookies:new gn.RequestCookies(this.headers),nextUrl:W,url:W.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[pr].cookies}get nextUrl(){return this[pr].nextUrl}get page(){throw new J}get ua(){throw new O}get url(){return this[pr].url}}F.s(["ReflectAdapter",()=>En],14655);class En{static get(c,b,w){let W=Reflect.get(c,b,w);return typeof W=="function"?W.bind(c):W}static set(c,b,w,W){return Reflect.set(c,b,w,W)}static has(c,b){return Reflect.has(c,b)}static deleteProperty(c,b){return Reflect.deleteProperty(c,b)}}F.s(["ACTION_HEADER",()=>Gn,"FLIGHT_HEADERS",()=>Tr,"NEXT_HMR_REFRESH_HASH_COOKIE",()=>Nr,"NEXT_REWRITTEN_PATH_HEADER",()=>Kn,"NEXT_REWRITTEN_QUERY_HEADER",()=>Hr,"NEXT_ROUTER_PREFETCH_HEADER",()=>Nn,"NEXT_ROUTER_STATE_TREE_HEADER",()=>bn,"NEXT_RSC_UNION_QUERY",()=>Yn,"NEXT_URL",()=>fr,"RSC_HEADER",()=>$t],35006);let $t="rsc",Gn="next-action",bn="next-router-state-tree",Nn="next-router-prefetch",Nr="__next_hmr_refresh_hash__",fr="next-url",Tr=[$t,bn,Nn,"next-hmr-refresh","next-router-segment-prefetch"],Yn="_rsc",Kn="x-nextjs-rewritten-path",Hr="x-nextjs-rewritten-query";F.s(["createRequestStoreForAPI",()=>zt],8749),F.s(["HeadersAdapter",()=>Bn],12984);class hr extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new hr}}class Bn extends Headers{constructor(c){super(),this.headers=new Proxy(c,{get(b,w,W){if(typeof w=="symbol")return En.get(b,w,W);let ee=w.toLowerCase(),se=Object.keys(c).find(pe=>pe.toLowerCase()===ee);if(se!==void 0)return En.get(b,se,W)},set(b,w,W,ee){if(typeof w=="symbol")return En.set(b,w,W,ee);let se=w.toLowerCase(),pe=Object.keys(c).find(Ve=>Ve.toLowerCase()===se);return En.set(b,pe??w,W,ee)},has(b,w){if(typeof w=="symbol")return En.has(b,w);let W=w.toLowerCase(),ee=Object.keys(c).find(se=>se.toLowerCase()===W);return ee!==void 0&&En.has(b,ee)},deleteProperty(b,w){if(typeof w=="symbol")return En.deleteProperty(b,w);let W=w.toLowerCase(),ee=Object.keys(c).find(se=>se.toLowerCase()===W);return ee===void 0||En.deleteProperty(b,ee)}})}static seal(c){return new Proxy(c,{get(b,w,W){switch(w){case"append":case"delete":case"set":return hr.callable;default:return En.get(b,w,W)}}})}merge(c){return Array.isArray(c)?c.join(", "):c}static from(c){return c instanceof Headers?c:new Bn(c)}append(c,b){let w=this.headers[c];typeof w=="string"?this.headers[c]=[w,b]:Array.isArray(w)?w.push(b):this.headers[c]=b}delete(c){delete this.headers[c]}get(c){let b=this.headers[c];return b!==void 0?this.merge(b):null}has(c){return this.headers[c]!==void 0}set(c,b){this.headers[c]=b}forEach(c,b){for(let[w,W]of this.entries())c.call(b,W,w,this)}*entries(){for(let c of Object.keys(this.headers)){let b=c.toLowerCase(),w=this.get(b);yield[b,w]}}*keys(){for(let c of Object.keys(this.headers))yield c.toLowerCase()}*values(){for(let c of Object.keys(this.headers))yield this.get(c)}[Symbol.iterator](){return this.entries()}}F.s(["MutableRequestCookiesAdapter",()=>Ar,"RequestCookiesAdapter",()=>kr,"appendMutableCookies",()=>$n,"createCookiesWithMutableAccessCheck",()=>_n,"responseCookiesToRequestCookies",()=>Gr],56289);class Rr extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new Rr}}class kr{static seal(c){return new Proxy(c,{get(b,w,W){switch(w){case"clear":case"delete":case"set":return Rr.callable;default:return En.get(b,w,W)}}})}}let er=Symbol.for("next.mutated.cookies");function $n(m,c){let b=function(ee){let se=ee[er];return se&&Array.isArray(se)&&se.length!==0?se:[]}(c);if(b.length===0)return!1;let w=new gn.ResponseCookies(m),W=w.getAll();for(let ee of b)w.set(ee);for(let ee of W)w.set(ee);return!0}class Ar{static wrap(c,b){let w=new gn.ResponseCookies(new Headers);for(let Ve of c.getAll())w.set(Ve);let W=[],ee=new Set,se=()=>{let Ve=$.getStore();if(Ve&&(Ve.pathWasRevalidated=!0),W=w.getAll().filter(Je=>ee.has(Je.name)),b){let Je=[];for(let Fe of W){let _e=new gn.ResponseCookies(new Headers);_e.set(Fe),Je.push(_e.toString())}b(Je)}},pe=new Proxy(w,{get(Ve,Je,Fe){switch(Je){case er:return W;case"delete":return function(..._e){ee.add(typeof _e[0]=="string"?_e[0]:_e[0].name);try{return Ve.delete(..._e),pe}finally{se()}};case"set":return function(..._e){ee.add(typeof _e[0]=="string"?_e[0]:_e[0].name);try{return Ve.set(..._e),pe}finally{se()}};default:return En.get(Ve,Je,Fe)}}});return pe}}function _n(m){let c=new Proxy(m.mutableCookies,{get(b,w,W){switch(w){case"delete":return function(...ee){return Fr(m,"cookies().delete"),b.delete(...ee),c};case"set":return function(...ee){return Fr(m,"cookies().set"),b.set(...ee),c};default:return En.get(b,w,W)}}});return c}function Fr(m,c){if(m.phase!=="action")throw new Rr}function Gr(m){let c=new gn.RequestCookies(new Headers);for(let b of m.getAll())c.set(b);return c}F.s(["COOKIE_NAME_PRERENDER_BYPASS",()=>kt,"SYMBOL_CLEARED_COOKIES",()=>Wt,"checkIsOnDemandRevalidate",()=>bt],81029),F.s(["SpanKind",()=>Ur,"SpanStatusCode",()=>Dr,"getTracer",()=>ct],24219),F.s(["AppRenderSpan",()=>Rn,"AppRouteRouteHandlersSpan",()=>or,"BaseServerSpan",()=>Br,"LogSpanAllowList",()=>Jn,"MiddlewareSpan",()=>lr,"NextNodeServerSpan",()=>mr,"NextVanillaSpanAllowlist",()=>Qn,"NodeSpan",()=>Vr],57690);var Br=function(m){return m.handleRequest="BaseServer.handleRequest",m.run="BaseServer.run",m.pipe="BaseServer.pipe",m.getStaticHTML="BaseServer.getStaticHTML",m.render="BaseServer.render",m.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",m.renderToResponse="BaseServer.renderToResponse",m.renderToHTML="BaseServer.renderToHTML",m.renderError="BaseServer.renderError",m.renderErrorToResponse="BaseServer.renderErrorToResponse",m.renderErrorToHTML="BaseServer.renderErrorToHTML",m.render404="BaseServer.render404",m}(Br||{}),ir=function(m){return m.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",m.loadComponents="LoadComponents.loadComponents",m}(ir||{}),tr=function(m){return m.getRequestHandler="NextServer.getRequestHandler",m.getServer="NextServer.getServer",m.getServerRequestHandler="NextServer.getServerRequestHandler",m.createServer="createServer.createServer",m}(tr||{}),mr=function(m){return m.compression="NextNodeServer.compression",m.getBuildId="NextNodeServer.getBuildId",m.createComponentTree="NextNodeServer.createComponentTree",m.clientComponentLoading="NextNodeServer.clientComponentLoading",m.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",m.generateStaticRoutes="NextNodeServer.generateStaticRoutes",m.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",m.generatePublicRoutes="NextNodeServer.generatePublicRoutes",m.generateImageRoutes="NextNodeServer.generateImageRoutes.route",m.sendRenderResult="NextNodeServer.sendRenderResult",m.proxyRequest="NextNodeServer.proxyRequest",m.runApi="NextNodeServer.runApi",m.render="NextNodeServer.render",m.renderHTML="NextNodeServer.renderHTML",m.imageOptimizer="NextNodeServer.imageOptimizer",m.getPagePath="NextNodeServer.getPagePath",m.getRoutesManifest="NextNodeServer.getRoutesManifest",m.findPageComponents="NextNodeServer.findPageComponents",m.getFontManifest="NextNodeServer.getFontManifest",m.getServerComponentManifest="NextNodeServer.getServerComponentManifest",m.getRequestHandler="NextNodeServer.getRequestHandler",m.renderToHTML="NextNodeServer.renderToHTML",m.renderError="NextNodeServer.renderError",m.renderErrorToHTML="NextNodeServer.renderErrorToHTML",m.render404="NextNodeServer.render404",m.startResponse="NextNodeServer.startResponse",m.route="route",m.onProxyReq="onProxyReq",m.apiResolver="apiResolver",m.internalFetch="internalFetch",m}(mr||{}),Xn=function(m){return m.startServer="startServer.startServer",m}(Xn||{}),gr=function(m){return m.getServerSideProps="Render.getServerSideProps",m.getStaticProps="Render.getStaticProps",m.renderToString="Render.renderToString",m.renderDocument="Render.renderDocument",m.createBodyResult="Render.createBodyResult",m}(gr||{}),Rn=function(m){return m.renderToString="AppRender.renderToString",m.renderToReadableStream="AppRender.renderToReadableStream",m.getBodyResult="AppRender.getBodyResult",m.fetch="AppRender.fetch",m}(Rn||{}),ei=function(m){return m.executeRoute="Router.executeRoute",m}(ei||{}),Vr=function(m){return m.runHandler="Node.runHandler",m}(Vr||{}),or=function(m){return m.runHandler="AppRouteRouteHandlers.runHandler",m}(or||{}),Vn=function(m){return m.generateMetadata="ResolveMetadata.generateMetadata",m.generateViewport="ResolveMetadata.generateViewport",m}(Vn||{}),lr=function(m){return m.execute="Middleware.execute",m}(lr||{});let Qn=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],Jn=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function ar(m){return m!==null&&typeof m=="object"&&"then"in m&&typeof m.then=="function"}let{context:Dn,propagation:Mr,trace:Tn,SpanStatusCode:Dr,SpanKind:Ur,ROOT_CONTEXT:sr}=Ct=F.r(24768);class Er extends Error{constructor(c,b){super(),this.bubble=c,this.result=b}}let wr=(m,c)=>{(function(b){return typeof b=="object"&&b!==null&&b instanceof Er})(c)&&c.bubble?m.setAttribute("next.bubble",!0):(c&&(m.recordException(c),m.setAttribute("error.type",c.name)),m.setStatus({code:Dr.ERROR,message:c?.message})),m.end()},Or=new Map,ur=Ct.createContextKey("next.rootSpanId"),jr=0,be={set(m,c,b){m.push({key:c,value:b})}};class ae{getTracerInstance(){return Tn.getTracer("next.js","0.0.1")}getContext(){return Dn}getTracePropagationData(){let c=Dn.active(),b=[];return Mr.inject(c,b,be),b}getActiveScopeSpan(){return Tn.getSpan(Dn?.active())}withPropagatedContext(c,b,w){let W=Dn.active();if(Tn.getSpanContext(W))return b();let ee=Mr.extract(W,c,w);return Dn.with(ee,b)}trace(...c){var b;let[w,W,ee]=c,{fn:se,options:pe}=typeof W=="function"?{fn:W,options:{}}:{fn:ee,options:{...W}},Ve=pe.spanName??w;if(!Qn.includes(w)&&process.env.NEXT_OTEL_VERBOSE!=="1"||pe.hideSpan)return se();let Je=this.getSpanContext(pe?.parentSpan??this.getActiveScopeSpan()),Fe=!1;Je?(b=Tn.getSpanContext(Je))!=null&&b.isRemote&&(Fe=!0):(Je=Dn?.active()??sr,Fe=!0);let _e=jr++;return pe.attributes={"next.span_name":Ve,"next.span_type":w,...pe.attributes},Dn.with(Je.setValue(ur,_e),()=>this.getTracerInstance().startActiveSpan(Ve,pe,r=>{let n="performance"in Tt&&"measure"in performance?Tt.performance.now():void 0,i=()=>{Or.delete(_e),n&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&Jn.includes(w||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(w.split(".").pop()||"").replace(/[A-Z]/g,s=>"-"+s.toLowerCase())}`,{start:n,end:performance.now()})};Fe&&Or.set(_e,new Map(Object.entries(pe.attributes??{})));try{if(se.length>1)return se(r,l=>wr(r,l));let s=se(r);return ar(s)?s.then(l=>(r.end(),l)).catch(l=>{throw wr(r,l),l}).finally(i):(r.end(),i(),s)}catch(s){throw wr(r,s),i(),s}}))}wrap(...c){let b=this,[w,W,ee]=c.length===3?c:[c[0],{},c[1]];return Qn.includes(w)||process.env.NEXT_OTEL_VERBOSE==="1"?function(){let se=W;typeof se=="function"&&typeof ee=="function"&&(se=se.apply(this,arguments));let pe=arguments.length-1,Ve=arguments[pe];if(typeof Ve!="function")return b.trace(w,se,()=>ee.apply(this,arguments));{let Je=b.getContext().bind(Dn.active(),Ve);return b.trace(w,se,(Fe,_e)=>(arguments[pe]=function(r){return _e?.(r),Je.apply(this,arguments)},ee.apply(this,arguments)))}}:ee}startSpan(...c){let[b,w]=c,W=this.getSpanContext(w?.parentSpan??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(b,w,W)}getSpanContext(c){return c?Tn.setSpan(Dn.active(),c):void 0}getRootSpanAttributes(){let c=Dn.active().getValue(ur);return Or.get(c)}setRootSpanAttribute(c,b){let w=Dn.active().getValue(ur),W=Or.get(w);W&&W.set(c,b)}}let ct=(()=>{let m=new ae;return()=>m})();function bt(m,c){let b=Bn.from(m.headers);return{isOnDemandRevalidate:b.get(re)===c.previewModeId,revalidateOnlyGenerated:b.has(Ee)}}let kt="__prerender_bypass";Symbol("__next_preview_data");let Wt=Symbol(kt);class cn{constructor(c,b,w,W){var ee;let se=c&&bt(b,c).isOnDemandRevalidate,pe=(ee=w.get(kt))==null?void 0:ee.value;this._isEnabled=!!(!se&&pe&&c&&pe===c.previewModeId),this._previewModeId=c?.previewModeId,this._mutableCookies=W}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:kt,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:kt,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function Qt(m,c){if("x-middleware-set-cookie"in m.headers&&typeof m.headers["x-middleware-set-cookie"]=="string"){let b=m.headers["x-middleware-set-cookie"],w=new Headers;for(let W of yt(b))w.append("set-cookie",W);for(let W of new gn.ResponseCookies(w).getAll())c.set(W)}}function zt(m,c,b,w,W){return function(ee,se,pe,Ve,Je,Fe,_e,r,n,i,s,l){function v(p){pe&&pe.setHeader("Set-Cookie",p)}let f={};return{type:"request",phase:ee,implicitTags:Fe,url:{pathname:Ve.pathname,search:Ve.search??""},rootParams:Je,get headers(){return f.headers||(f.headers=function(p){let o=Bn.from(p);for(let u of Tr)o.delete(u);return Bn.seal(o)}(se.headers)),f.headers},get cookies(){if(!f.cookies){let p=new gn.RequestCookies(Bn.from(se.headers));Qt(se,p),f.cookies=kr.seal(p)}return f.cookies},set cookies(p){f.cookies=p},get mutableCookies(){if(!f.mutableCookies){let p=function(o,u){let h=new gn.RequestCookies(Bn.from(o));return Ar.wrap(h,u)}(se.headers,_e||(pe?v:void 0));Qt(se,p),f.mutableCookies=p}return f.mutableCookies},get userspaceMutableCookies(){return f.userspaceMutableCookies||(f.userspaceMutableCookies=_n(this)),f.userspaceMutableCookies},get draftMode(){return f.draftMode||(f.draftMode=new cn(n,se,this.cookies,this.mutableCookies)),f.draftMode},renderResumeDataCache:r??null,isHmrRefresh:i,serverComponentsHmrCache:s||Tt.__serverComponentsHmrCache,devFallbackParams:null}}("action",m,void 0,c,{},b,w,void 0,W,!1,void 0,null)}F.s(["getCacheSignal",()=>Zt,"getPrerenderResumeDataCache",()=>ln,"getRenderResumeDataCache",()=>An,"getRuntimeStagePromise",()=>an,"throwInvariantForMissingStore",()=>on],33672);let Cn=(0,j.createAsyncLocalStorage)();function on(){throw Object.defineProperty(new A("Expected workUnitAsyncStorage to have a store."),"__NEXT_ERROR_CODE",{value:"E696",enumerable:!1,configurable:!0})}function ln(m){switch(m.type){case"prerender":case"prerender-runtime":case"prerender-ppr":case"prerender-client":return m.prerenderResumeDataCache;case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return null;default:return m}}function An(m){switch(m.type){case"request":return m.renderResumeDataCache;case"prerender":case"prerender-runtime":case"prerender-client":if(m.renderResumeDataCache)return m.renderResumeDataCache;case"prerender-ppr":return m.prerenderResumeDataCache;case"cache":case"private-cache":case"unstable-cache":case"prerender-legacy":return null;default:return m}}function Zt(m){switch(m.type){case"prerender":case"prerender-client":case"prerender-runtime":return m.cacheSignal;case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return null;default:return m}}function an(m){switch(m.type){case"prerender-runtime":case"private-cache":return m.runtimeStagePromise;case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"unstable-cache":return null;default:return m}}F.s(["workUnitAsyncStorage",()=>Cn],53801),F.s(["createWorkStore",()=>vi],98775);var ht=F.i(67039);F.s(["executeRevalidates",()=>kn,"withExecuteRevalidates",()=>In],19222),F.s(["getCacheHandlerEntries",()=>Wn,"getCacheHandlers",()=>nr],34942);var t=F.i(51615);F.s(["LRUCache",()=>pn],94129);class e{constructor(c,b,w){this.prev=null,this.next=null,this.key=c,this.data=b,this.size=w}}class nn{constructor(){this.prev=null,this.next=null}}class pn{constructor(c,b){this.cache=new Map,this.totalSize=0,this.maxSize=c,this.calculateSize=b,this.head=new nn,this.tail=new nn,this.head.next=this.tail,this.tail.prev=this.head}addToHead(c){c.prev=this.head,c.next=this.head.next,this.head.next.prev=c,this.head.next=c}removeNode(c){c.prev.next=c.next,c.next.prev=c.prev}moveToHead(c){this.removeNode(c),this.addToHead(c)}removeTail(){let c=this.tail.prev;return this.removeNode(c),c}set(c,b){let w=(this.calculateSize==null?void 0:this.calculateSize.call(this,b))??1;if(w>this.maxSize)return void console.warn("Single item size exceeds maxSize");let W=this.cache.get(c);if(W)W.data=b,this.totalSize=this.totalSize-W.size+w,W.size=w,this.moveToHead(W);else{let ee=new e(c,b,w);this.cache.set(c,ee),this.addToHead(ee),this.totalSize+=w}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let ee=this.removeTail();this.cache.delete(ee.key),this.totalSize-=ee.size}}has(c){return this.cache.has(c)}get(c){let b=this.cache.get(c);if(b)return this.moveToHead(b),b.data}*[Symbol.iterator](){let c=this.head.next;for(;c&&c!==this.tail;){let b=c;yield[b.key,b.data],c=c.next}}remove(c){let b=this.cache.get(c);b&&(this.removeNode(b),this.cache.delete(c),this.totalSize-=b.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}let dn=new Map,Un=(m,c)=>{for(let b of m){let w=dn.get(b);if(typeof w=="number"&&w>=c)return!0}return!1};new pn(52428800,m=>m.size),process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.debug.bind(console,"DefaultCacheHandler:"),process.env.NEXT_PRIVATE_DEBUG_CACHE,Symbol.for("@next/cache-handlers");let Xt=Symbol.for("@next/cache-handlers-map"),Hn=Symbol.for("@next/cache-handlers-set"),qn=Tt;function nr(){if(qn[Hn])return qn[Hn].values()}function Wn(){if(qn[Xt])return qn[Xt].entries()}async function In(m,c){if(!m)return c();let b=hn(m);try{return await c()}finally{let w=function(W,ee){let se=new Set(W.pendingRevalidatedTags),pe=new Set(W.pendingRevalidateWrites);return{pendingRevalidatedTags:ee.pendingRevalidatedTags.filter(Ve=>!se.has(Ve)),pendingRevalidates:Object.fromEntries(Object.entries(ee.pendingRevalidates).filter(([Ve])=>!(Ve in W.pendingRevalidates))),pendingRevalidateWrites:ee.pendingRevalidateWrites.filter(Ve=>!pe.has(Ve))}}(b,hn(m));await kn(m,w)}}function hn(m){return{pendingRevalidatedTags:m.pendingRevalidatedTags?[...m.pendingRevalidatedTags]:[],pendingRevalidates:{...m.pendingRevalidates},pendingRevalidateWrites:m.pendingRevalidateWrites?[...m.pendingRevalidateWrites]:[]}}async function jn(m,c){if(m.length===0)return;let b=[];c&&b.push(c.revalidateTag(m));let w=nr();if(w)for(let W of w)b.push(W.expireTags(...m));await Promise.all(b)}async function kn(m,c){let b=c?.pendingRevalidatedTags??m.pendingRevalidatedTags??[],w=c?.pendingRevalidates??m.pendingRevalidates??{},W=c?.pendingRevalidateWrites??m.pendingRevalidateWrites??[];return Promise.all([jn(b,m.incrementalCache),...Object.values(w),...W])}F.s(["bindSnapshot",()=>br,"createAsyncLocalStorage",()=>yr,"createSnapshot",()=>vr],58184);let xn=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class Mn{disable(){throw xn}getStore(){}run(){throw xn}exit(){throw xn}enterWith(){throw xn}static bind(c){return c}}let fn=typeof Tt<"u"&&Tt.AsyncLocalStorage;function yr(){return fn?new fn:new Mn}function br(m){return fn?fn.bind(m):Mn.bind(m)}function vr(){return fn?fn.snapshot():function(m,...c){return m(...c)}}let Sn=(0,j.createAsyncLocalStorage)();class sn{constructor({waitUntil:c,onClose:b,onTaskError:w}){this.workUnitStores=new Set,this.waitUntil=c,this.onClose=b,this.onTaskError=w,this.callbackQueue=new ht.default,this.callbackQueue.pause()}after(c){if(ar(c))this.waitUntil||Fn(),this.waitUntil(c.catch(b=>this.reportTaskError("promise",b)));else if(typeof c=="function")this.addCallback(c);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(c){this.waitUntil||Fn();let b=Cn.getStore();b&&this.workUnitStores.add(b);let w=Sn.getStore(),W=w?w.rootTaskSpawnPhase:b?.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let ee=br(async()=>{try{await Sn.run({rootTaskSpawnPhase:W},()=>c())}catch(se){this.reportTaskError("function",se)}});this.callbackQueue.add(ee)}async runCallbacksOnClose(){return await new Promise(c=>this.onClose(c)),this.runCallbacks()}async runCallbacks(){if(this.callbackQueue.size===0)return;for(let b of this.workUnitStores)b.phase="after";let c=$.getStore();if(!c)throw Object.defineProperty(new A("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return In(c,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(c,b){if(console.error(c==="promise"?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",b),this.onTaskError)try{this.onTaskError==null||this.onTaskError.call(this,b)}catch(w){console.error(Object.defineProperty(new A("`onTaskError` threw while handling an error thrown from an `after` task",{cause:w}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function Fn(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function rr(m){let c,b={then:(w,W)=>(c||(c=m()),c.then(ee=>{b.value=ee}).catch(()=>{}),c.then(w,W))};return b}function vi({page:m,renderOpts:c,isPrefetchRequest:b,buildId:w,previouslyRevalidatedTags:W}){let ee=!c.shouldWaitOnAllReady&&!c.supportsDynamicResponse&&!c.isDraftMode&&!c.isPossibleServerAction,se=c.dev??!1,pe=se||ee&&(!!process.env.NEXT_DEBUG_BUILD||process.env.NEXT_SSG_FETCH_METRICS==="1"),Ve={isStaticGeneration:ee,page:m,route:at(m),incrementalCache:c.incrementalCache||Tt.__incrementalCache,cacheLifeProfiles:c.cacheLifeProfiles,isRevalidate:c.isRevalidate,isBuildTimePrerendering:c.nextExport,hasReadableErrorStacks:c.hasReadableErrorStacks,fetchCache:c.fetchCache,isOnDemandRevalidate:c.isOnDemandRevalidate,isDraftMode:c.isDraftMode,isPrefetchRequest:b,buildId:w,reactLoadableManifest:c?.reactLoadableManifest||{},assetPrefix:c?.assetPrefix||"",afterContext:function(Je){let{waitUntil:Fe,onClose:_e,onAfterTaskError:r}=Je;return new sn({waitUntil:Fe,onClose:_e,onTaskError:r})}(c),cacheComponentsEnabled:c.experimental.cacheComponents,dev:se,previouslyRevalidatedTags:W,refreshTagsByCacheKind:function(){let Je=new Map,Fe=Wn();if(Fe)for(let[_e,r]of Fe)"refreshTags"in r&&Je.set(_e,rr(async()=>r.refreshTags()));return Je}(),runInCleanSnapshot:vr(),shouldTrackFetchMetrics:pe};return c.store=Ve,Ve}async function a(m,c,b){let w=[],W=b&&b.size>0;for(let ee of(se=>{let pe=["/layout"];if(se.startsWith("/")){let Ve=se.split("/");for(let Je=1;Je<Ve.length+1;Je++){let Fe=Ve.slice(0,Je).join("/");Fe&&(Fe.endsWith("/page")||Fe.endsWith("/route")||(Fe=`${Fe}${Fe.endsWith("/")?"":"/"}layout`),pe.push(Fe))}}return pe})(m))ee=`${ie}${ee}`,w.push(ee);if(c.pathname&&!W){let ee=`${ie}${c.pathname}`;w.push(ee)}return{tags:w,expirationsByCacheKind:function(ee){let se=new Map,pe=Wn();if(pe)for(let[Ve,Je]of pe)"getExpiration"in Je&&se.set(Ve,rr(async()=>Je.getExpiration(...ee)));return se}(w)}}F.s(["getImplicitTags",()=>a],39812),F.s(["IncrementalCache",()=>Qr],52836),F.s(["default",()=>pi],22821);class R{constructor(){let c,b;this.promise=new Promise((w,W)=>{c=w,b=W}),this.resolve=c,this.reject=b}}class P{constructor(c,b=w=>w()){this.cacheKeyFn=c,this.schedulerFn=b,this.pending=new Map}static create(c){return new P(c?.cacheKeyFn,c?.schedulerFn)}async batch(c,b){let w=this.cacheKeyFn?await this.cacheKeyFn(c):c;if(w===null)return b(w,Promise.resolve);let W=this.pending.get(w);if(W)return W;let{promise:ee,resolve:se,reject:pe}=new R;return this.pending.set(w,ee),this.schedulerFn(async()=>{try{let Ve=await b(w,se);se(Ve)}catch(Ve){pe(Ve)}finally{this.pending.delete(w)}}),ee}}F.s(["atLeastOneTask",()=>Ce,"scheduleImmediate",()=>D,"scheduleOnNextTick",()=>U,"waitAtLeastOneReactRenderTask",()=>Re],43303);let U=m=>{Promise.resolve().then(()=>{setTimeout(m,0)})},D=m=>{setTimeout(m,0)};function Ce(){return new Promise(m=>D(m))}function Re(){return new Promise(m=>setTimeout(m,0))}F.s(["CachedRouteKind",()=>He,"IncrementalCacheKind",()=>ve],95614);var He=function(m){return m.APP_PAGE="APP_PAGE",m.APP_ROUTE="APP_ROUTE",m.PAGES="PAGES",m.FETCH="FETCH",m.REDIRECT="REDIRECT",m.IMAGE="IMAGE",m}({}),ve=function(m){return m.APP_PAGE="APP_PAGE",m.APP_ROUTE="APP_ROUTE",m.PAGES="PAGES",m.FETCH="FETCH",m.IMAGE="IMAGE",m}({});function it(){}new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62]),new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34]);let Mt=new TextEncoder;function Rt(m){return new ReadableStream({start(c){c.enqueue(Mt.encode(m)),c.close()}})}function Ht(m){return new ReadableStream({start(c){c.enqueue(m),c.close()}})}async function Kt(m,c){let b=new TextDecoder("utf-8",{fatal:!0}),w="";for await(let W of m){if(c?.aborted)return w;w+=b.decode(W,{stream:!0})}return w+b.decode()}F.s(["isAbortError",()=>ni,"pipeToNodeResponse",()=>ci],25067),F.s(["NextRequestAdapter",()=>Pr,"ResponseAbortedName",()=>Jr,"createAbortController",()=>Wr,"signalFromNodeResponse",()=>ui],57452),F.s(["NEXT_REQUEST_META",()=>Lt,"addRequestMeta",()=>Jt,"getRequestMeta",()=>It],62662);let Lt=Symbol.for("NextInternalRequestMeta");function It(m,c){let b=m[Lt]||{};return typeof c=="string"?b[c]:b}function Jt(m,c,b){let w=It(m);return w[c]=b,m[Lt]=w,w}F.s(["isNodeNextRequest",()=>Bt,"isNodeNextResponse",()=>Zn,"isWebNextRequest",()=>un],66822);let un=m=>!0,Bt=m=>!1,Zn=m=>!1,Jr="ResponseAborted";class Lr extends Error{constructor(...c){super(...c),this.name=Jr}}function Wr(m){let c=new AbortController;return m.once("close",()=>{m.writableFinished||c.abort(new Lr)}),c}function ui(m){let{errored:c,destroyed:b}=m;if(c||b)return AbortSignal.abort(c??new Lr);let{signal:w}=Wr(m);return w}class Pr{static fromBaseNextRequest(c,b){if(un(c))return Pr.fromWebNextRequest(c);throw Object.defineProperty(Error("Invariant: Unsupported NextRequest type"),"__NEXT_ERROR_CODE",{value:"E345",enumerable:!1,configurable:!0})}static fromNodeNextRequest(c,b){let w,W=null;if(c.method!=="GET"&&c.method!=="HEAD"&&c.body&&(W=c.body),c.url.startsWith("http"))w=new URL(c.url);else{let ee=It(c,"initURL");w=ee&&ee.startsWith("http")?new URL(c.url,ee):new URL(c.url,"http://n")}return new vn(w,{method:c.method,headers:gt(c.headers),duplex:"half",signal:b,...b.aborted?{}:{body:W}})}static fromWebNextRequest(c){let b=null;return c.method!=="GET"&&c.method!=="HEAD"&&(b=c.body),new vn(c.url,{method:c.method,headers:gt(c.headers),duplex:"half",signal:c.request.signal,...c.request.signal.aborted?{}:{body:b}})}}let zn=0,Ir=0,ti=0;function ni(m){return m?.name==="AbortError"||m?.name===Jr}async function ci(m,c,b){try{let{errored:w,destroyed:W}=c;if(w||W)return;let ee=Wr(c),se=function(pe,Ve){let Je=!1,Fe=new R;function _e(){Fe.resolve()}pe.on("drain",_e),pe.once("close",()=>{pe.off("drain",_e),Fe.resolve()});let r=new R;return pe.once("finish",()=>{r.resolve()}),new WritableStream({write:async n=>{if(!Je){if(Je=!0,"performance"in Tt&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let i=function(s={}){let l=zn===0?void 0:{clientComponentLoadStart:zn,clientComponentLoadTimes:Ir,clientComponentLoadCount:ti};return s.reset&&(zn=0,Ir=0,ti=0),l}();i&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:i.clientComponentLoadStart,end:i.clientComponentLoadStart+i.clientComponentLoadTimes})}pe.flushHeaders(),ct().trace(mr.startResponse,{spanName:"start response"},()=>{})}try{let i=pe.write(n);"flush"in pe&&typeof pe.flush=="function"&&pe.flush(),i||(await Fe.promise,Fe=new R)}catch(i){throw pe.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:i}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:n=>{pe.writableFinished||pe.destroy(n)},close:async()=>{if(Ve&&await Ve,!pe.writableFinished)return pe.end(),r.promise}})}(c,b);await m.pipeTo(se,{signal:ee.signal})}catch(w){if(ni(w))return;throw Object.defineProperty(Error("failed to pipe response",{cause:w}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}class Cr{static#e=this.EMPTY=new Cr(null,{metadata:{},contentType:null});static fromStatic(c,b){return new Cr(c,{metadata:{},contentType:b})}constructor(c,{contentType:b,waitUntil:w,metadata:W}){this.response=c,this.contentType=b,this.metadata=W,this.waitUntil=w}assignMetadata(c){Object.assign(this.metadata,c)}get isNull(){return this.response===null}get isDynamic(){return typeof this.response!="string"}toUnchunkedString(c=!1){if(this.response===null)return"";if(typeof this.response!="string"){if(!c)throw Object.defineProperty(new A("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return Kt(this.readable)}return this.response}get readable(){return this.response===null?new ReadableStream({start(c){c.close()}}):typeof this.response=="string"?Rt(this.response):t.Buffer.isBuffer(this.response)?Ht(this.response):Array.isArray(this.response)?function(...c){if(c.length===0)return new ReadableStream({start(pe){pe.close()}});if(c.length===1)return c[0];let{readable:b,writable:w}=new TransformStream,W=c[0].pipeTo(w,{preventClose:!0}),ee=1;for(;ee<c.length-1;ee++){let pe=c[ee];W=W.then(()=>pe.pipeTo(w,{preventClose:!0}))}let se=c[ee];return(W=W.then(()=>se.pipeTo(w))).catch(it),b}(...this.response):this.response}coerce(){return this.response===null?[]:typeof this.response=="string"?[Rt(this.response)]:Array.isArray(this.response)?this.response:t.Buffer.isBuffer(this.response)?[Ht(this.response)]:[this.response]}unshift(c){this.response=this.coerce(),this.response.unshift(c)}push(c){this.response=this.coerce(),this.response.push(c)}async pipeTo(c){try{await this.readable.pipeTo(c,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await c.close()}catch(b){if(ni(b))return void await c.abort(b);throw b}}async pipeToNodeResponse(c){await ci(this.readable,c,this.waitUntil)}}F.s(["RouteKind",()=>cr],82444);var cr=function(m){return m.PAGES="PAGES",m.PAGES_API="PAGES_API",m.APP_PAGE="APP_PAGE",m.APP_ROUTE="APP_ROUTE",m.IMAGE="IMAGE",m}({});async function di(m){var c,b;return{...m,value:((c=m.value)==null?void 0:c.kind)===He.PAGES?{kind:He.PAGES,html:await m.value.html.toUnchunkedString(!0),pageData:m.value.pageData,headers:m.value.headers,status:m.value.status}:((b=m.value)==null?void 0:b.kind)===He.APP_PAGE?{kind:He.APP_PAGE,html:await m.value.html.toUnchunkedString(!0),postponed:m.value.postponed,rscData:m.value.rscData,headers:m.value.headers,status:m.value.status,segmentData:m.value.segmentData}:m.value}}async function Ni(m){var c,b;return m?{isMiss:m.isMiss,isStale:m.isStale,cacheControl:m.cacheControl,value:((c=m.value)==null?void 0:c.kind)===He.PAGES?{kind:He.PAGES,html:Cr.fromStatic(m.value.html,G),pageData:m.value.pageData,headers:m.value.headers,status:m.value.status}:((b=m.value)==null?void 0:b.kind)===He.APP_PAGE?{kind:He.APP_PAGE,html:Cr.fromStatic(m.value.html,G),rscData:m.value.rscData,headers:m.value.headers,status:m.value.status,postponed:m.value.postponed,segmentData:m.value.segmentData}:m.value}:null}class pi{constructor(c){this.batcher=P.create({cacheKeyFn:({key:b,isOnDemandRevalidate:w})=>`${b}-${w?"1":"0"}`,schedulerFn:U}),this.minimal_mode=c}async get(c,b,w){if(!c)return b({hasResolved:!1,previousCacheEntry:null});let{incrementalCache:W,isOnDemandRevalidate:ee=!1,isFallback:se=!1,isRoutePPREnabled:pe=!1,waitUntil:Ve}=w,Je=await this.batcher.batch({key:c,isOnDemandRevalidate:ee},(Fe,_e)=>{let r=(async()=>{var n;if(this.minimal_mode&&((n=this.previousCacheItem)==null?void 0:n.key)===Fe&&this.previousCacheItem.expiresAt>Date.now())return this.previousCacheItem.entry;let i=function(v){switch(v){case cr.PAGES:return ve.PAGES;case cr.APP_PAGE:return ve.APP_PAGE;case cr.IMAGE:return ve.IMAGE;case cr.APP_ROUTE:return ve.APP_ROUTE;case cr.PAGES_API:throw Object.defineProperty(Error(`Unexpected route kind ${v}`),"__NEXT_ERROR_CODE",{value:"E64",enumerable:!1,configurable:!0});default:return v}}(w.routeKind),s=!1,l=null;try{if((l=this.minimal_mode?null:await W.get(c,{kind:i,isRoutePPREnabled:w.isRoutePPREnabled,isFallback:se}))&&!ee&&(_e(l),s=!0,!l.isStale||w.isPrefetch))return null;let v=await b({hasResolved:s,previousCacheEntry:l,isRevalidating:!0});if(!v)return this.minimal_mode&&(this.previousCacheItem=void 0),null;let f=await di({...v,isMiss:!l});return f?(ee||s||(_e(f),s=!0),f.cacheControl&&(this.minimal_mode?this.previousCacheItem={key:Fe,entry:f,expiresAt:Date.now()+1e3}:await W.set(c,f.value,{cacheControl:f.cacheControl,isRoutePPREnabled:pe,isFallback:se})),f):(this.minimal_mode&&(this.previousCacheItem=void 0),null)}catch(v){if(l?.cacheControl){let f=Math.min(Math.max(l.cacheControl.revalidate||3,3),30),p=l.cacheControl.expire===void 0?void 0:Math.max(f+3,l.cacheControl.expire);await W.set(c,l.value,{cacheControl:{revalidate:f,expire:p},isRoutePPREnabled:pe,isFallback:se})}if(s)return console.error(v),null;throw v}})();return Ve&&Ve(r),r});return Ni(Je)}}var _i=F.i(12569);class eo{constructor(c){this.fs=c,this.tasks=[]}findOrCreateTask(c){for(let W of this.tasks)if(W[0]===c)return W;let b=this.fs.mkdir(c);b.catch(()=>{});let w=[c,b,[]];return this.tasks.push(w),w}append(c,b){let w=this.findOrCreateTask(_i.default.dirname(c)),W=w[1].then(()=>this.fs.writeFile(c,b));W.catch(()=>{}),w[2].push(W)}wait(){return Promise.all(this.tasks.flatMap(c=>c[2]))}}class dr{static#e=this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;constructor(c){if(this.fs=c.fs,this.flushToDisk=c.flushToDisk,this.serverDistDir=c.serverDistDir,this.revalidatedTags=c.revalidatedTags,c.maxMemoryCacheSize)if(dr.memoryCache)dr.debug&&console.log("memory store already initialized");else{var b;dr.debug&&console.log("using memory store for fetch cache"),b=c.maxMemoryCacheSize,Ye||(Ye=new pn(b,function({value:w}){var W;if(!w)return 25;if(w.kind===He.REDIRECT)return JSON.stringify(w.props).length;if(w.kind===He.IMAGE)throw Object.defineProperty(Error("invariant image should not be incremental-cache"),"__NEXT_ERROR_CODE",{value:"E501",enumerable:!1,configurable:!0});return w.kind===He.FETCH?JSON.stringify(w.data||"").length:w.kind===He.APP_ROUTE?w.body.length:w.html.length+(((W=JSON.stringify(w.kind===He.APP_PAGE?w.rscData:w.pageData))==null?void 0:W.length)||0)})),dr.memoryCache=Ye}else dr.debug&&console.log("not using memory store for fetch cache")}resetRequestCache(){}async revalidateTag(...c){let[b]=c;if(b=typeof b=="string"?[b]:b,dr.debug&&console.log("revalidateTag",b),b.length!==0)for(let w of b)dn.has(w)||dn.set(w,Date.now())}async get(...c){var b,w,W,ee,se,pe;let[Ve,Je]=c,{kind:Fe}=Je,_e=(b=dr.memoryCache)==null?void 0:b.get(Ve);if(dr.debug&&(Fe===ve.FETCH?console.log("get",Ve,Je.tags,Fe,!!_e):console.log("get",Ve,Fe,!!_e)),(_e==null||(w=_e.value)==null?void 0:w.kind)===He.APP_PAGE||(_e==null||(W=_e.value)==null?void 0:W.kind)===He.APP_ROUTE||(_e==null||(ee=_e.value)==null?void 0:ee.kind)===He.PAGES){let r,n=(pe=_e.value.headers)==null?void 0:pe[de];if(typeof n=="string"&&(r=n.split(",")),r?.length&&Un(r,_e?.lastModified||Date.now()))return null}else(_e==null||(se=_e.value)==null?void 0:se.kind)===He.FETCH&&(Je.kind===ve.FETCH?[...Je.tags||[],...Je.softTags||[]]:[]).some(r=>!!this.revalidatedTags.includes(r)||Un([r],_e?.lastModified||Date.now()))&&(_e=void 0);return _e??null}async set(c,b,w){var W;if((W=dr.memoryCache)==null||W.set(c,{value:b,lastModified:Date.now()}),dr.debug&&console.log("set",c),!this.flushToDisk||!b)return;let ee=new eo(this.fs);if(b.kind===He.APP_ROUTE){let se=this.getFilePath(`${c}.body`,ve.APP_ROUTE);ee.append(se,b.body);let pe={headers:b.headers,status:b.status,postponed:void 0,segmentPaths:void 0};ee.append(se.replace(/\.body$/,Et),JSON.stringify(pe,null,2))}else if(b.kind===He.PAGES||b.kind===He.APP_PAGE){let se=b.kind===He.APP_PAGE,pe=this.getFilePath(`${c}.html`,se?ve.APP_PAGE:ve.PAGES);if(ee.append(pe,b.html),w.fetchCache||w.isFallback||ee.append(this.getFilePath(`${c}${se?w.isRoutePPREnabled?we:st:jt}`,se?ve.APP_PAGE:ve.PAGES),se?b.rscData:JSON.stringify(b.pageData)),b?.kind===He.APP_PAGE){let Ve;if(b.segmentData){Ve=[];let Fe=pe.replace(/\.html$/,Pe);for(let[_e,r]of b.segmentData){Ve.push(_e);let n=Fe+_e+Qe;ee.append(n,r)}}let Je={headers:b.headers,status:b.status,postponed:b.postponed,segmentPaths:Ve};ee.append(pe.replace(/\.html$/,Et),JSON.stringify(Je))}}else if(b.kind===He.FETCH){let se=this.getFilePath(c,ve.FETCH);ee.append(se,JSON.stringify({...b,tags:w.fetchCache?w.tags:[]}))}await ee.wait()}getFilePath(c,b){switch(b){case ve.FETCH:return _i.default.join(this.serverDistDir,"..","cache","fetch-cache",c);case ve.PAGES:return _i.default.join(this.serverDistDir,"pages",c);case ve.IMAGE:case ve.APP_PAGE:case ve.APP_ROUTE:return _i.default.join(this.serverDistDir,"app",c);default:throw Object.defineProperty(Error(`Unexpected file path kind: ${b}`),"__NEXT_ERROR_CODE",{value:"E479",enumerable:!1,configurable:!0})}}}F.s(["normalizePagePath",()=>ki],33852),F.s([],29928),F.s(["isDynamicRoute",()=>Kr],6201);let qr=["(..)(..)","(.)","(..)","(...)"];function fi(m){return m.split("/").find(c=>qr.find(b=>c.startsWith(b)))!==void 0}let mo=/\/[^/]*\[[^/]+\][^/]*(?=\/|$)/,On=/\/\[[^/]+\](?=\/|$)/;function Kr(m,c){return c===void 0&&(c=!0),fi(m)&&(m=function(b){let w,W,ee;for(let se of b.split("/"))if(W=qr.find(pe=>se.startsWith(pe))){[w,ee]=b.split(W,2);break}if(!w||!W||!ee)throw Object.defineProperty(Error("Invalid interception route: "+b+". Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>"),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(w=at(w),W){case"(.)":ee=w==="/"?"/"+ee:w+"/"+ee;break;case"(..)":if(w==="/")throw Object.defineProperty(Error("Invalid interception route: "+b+". Cannot use (..) marker at the root level, use (.) instead."),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});ee=w.split("/").slice(0,-1).concat(ee).join("/");break;case"(...)":ee="/"+ee;break;case"(..)(..)":let se=w.split("/");if(se.length<=2)throw Object.defineProperty(Error("Invalid interception route: "+b+". Cannot use (..)(..) marker at the root level or one level up."),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});ee=se.slice(0,-2).concat(ee).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:w,interceptedRoute:ee}}(m).interceptedRoute),c?On.test(m):mo.test(m)}F.s(["DecodeError",()=>ri],19749),typeof performance<"u"&&["mark","measure","getEntriesByName"].every(m=>typeof performance[m]=="function");class ri extends Error{}function ki(m){return/^\/index(\/|$)/.test(m)&&!Kr(m)?"/index"+m:m==="/"?"/index":At(m)}function Ei(m){return m.replace(/(?:\/index)?\/?$/,"")||"/"}class hi{static#e=this.cacheControls=new Map;constructor(c){this.prerenderManifest=c}get(c){let b=hi.cacheControls.get(c);if(b)return b;let w=this.prerenderManifest.routes[c];if(w){let{initialRevalidateSeconds:ee,initialExpireSeconds:se}=w;if(ee!==void 0)return{revalidate:ee,expire:se}}let W=this.prerenderManifest.dynamicRoutes[c];if(W){let{fallbackRevalidate:ee,fallbackExpire:se}=W;if(ee!==void 0)return{revalidate:ee,expire:se}}}set(c,b){hi.cacheControls.set(c,b)}clear(){hi.cacheControls.clear()}}F.s(["getPreviouslyRevalidatedTags",()=>Oi,"getServerUtils",()=>Wi],89087);var Xr=F.i(22153);F.s(["getNamedRouteRegex",()=>Li,"getRouteRegex",()=>Ui],81373);let bi=/[|\\{}()[\]^$+*?.-]/,Mi=/[|\\{}()[\]^$+*?.-]/g;function xr(m){return bi.test(m)?m.replace(Mi,"\\$&"):m}let Di=/^([^[]*)\[((?:\[[^\]]*\])|[^\]]+)\](.*)$/;function Ci(m){let c=m.startsWith("[")&&m.endsWith("]");c&&(m=m.slice(1,-1));let b=m.startsWith("...");return b&&(m=m.slice(3)),{key:m,repeat:b,optional:c}}function Ui(m,c){let{includeSuffix:b=!1,includePrefix:w=!1,excludeOptionalTrailingSlash:W=!1}=c===void 0?{}:c,{parameterizedRoute:ee,groups:se}=function(Ve,Je,Fe){let _e={},r=1,n=[];for(let i of ce(Ve).slice(1).split("/")){let s=qr.find(v=>i.startsWith(v)),l=i.match(Di);if(s&&l&&l[2]){let{key:v,optional:f,repeat:p}=Ci(l[2]);_e[v]={pos:r++,repeat:p,optional:f},n.push("/"+xr(s)+"([^/]+?)")}else if(l&&l[2]){let{key:v,repeat:f,optional:p}=Ci(l[2]);_e[v]={pos:r++,repeat:f,optional:p},Fe&&l[1]&&n.push("/"+xr(l[1]));let o=f?p?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)";Fe&&l[1]&&(o=o.substring(1)),n.push(o)}else n.push("/"+xr(i));Je&&l&&l[3]&&n.push(xr(l[3]))}return{parameterizedRoute:n.join(""),groups:_e}}(m,b,w),pe=ee;return W||(pe+="(?:/)?"),{re:RegExp("^"+pe+"$"),groups:se}}function ji(m){let c,{interceptionMarker:b,getSafeRouteKey:w,segment:W,routeKeys:ee,keyPrefix:se,backreferenceDuplicateKeys:pe}=m,{key:Ve,optional:Je,repeat:Fe}=Ci(W),_e=Ve.replace(/\W/g,"");se&&(_e=""+se+_e);let r=!1;(_e.length===0||_e.length>30)&&(r=!0),isNaN(parseInt(_e.slice(0,1)))||(r=!0),r&&(_e=w());let n=_e in ee;se?ee[_e]=""+se+Ve:ee[_e]=Ve;let i=b?xr(b):"";return c=n&&pe?"\\k<"+_e+">":Fe?"(?<"+_e+">.+?)":"(?<"+_e+">[^/]+?)",Je?"(?:/"+i+c+")?":"/"+i+c}function Li(m,c){var b,w,W;let ee=function(pe,Ve,Je,Fe,_e){let r,n=(r=0,()=>{let l="",v=++r;for(;v>0;)l+=String.fromCharCode(97+(v-1)%26),v=Math.floor((v-1)/26);return l}),i={},s=[];for(let l of ce(pe).slice(1).split("/")){let v=qr.some(p=>l.startsWith(p)),f=l.match(Di);if(v&&f&&f[2])s.push(ji({getSafeRouteKey:n,interceptionMarker:f[1],segment:f[2],routeKeys:i,keyPrefix:Ve?fe:void 0,backreferenceDuplicateKeys:_e}));else if(f&&f[2]){Fe&&f[1]&&s.push("/"+xr(f[1]));let p=ji({getSafeRouteKey:n,segment:f[2],routeKeys:i,keyPrefix:Ve?B:void 0,backreferenceDuplicateKeys:_e});Fe&&f[1]&&(p=p.substring(1)),s.push(p)}else s.push("/"+xr(l));Je&&f&&f[3]&&s.push(xr(f[3]))}return{namedParameterizedRoute:s.join(""),routeKeys:i}}(m,c.prefixRouteKeys,(b=c.includeSuffix)!=null&&b,(w=c.includePrefix)!=null&&w,(W=c.backreferenceDuplicateKeys)!=null&&W),se=ee.namedParameterizedRoute;return c.excludeOptionalTrailingSlash||(se+="(?:/)?"),{...Ui(m,c),namedRegex:"^"+se+"$",routeKeys:ee.routeKeys}}F.s(["getRouteMatcher",()=>li],80116);let ii="_NEXTSEP_";function qi(m){return typeof m=="string"&&!!(/\/\(\.{1,3}\):[^/\s]+/.test(m)||/:[a-zA-Z_][a-zA-Z0-9_]*:[a-zA-Z_][a-zA-Z0-9_]*/.test(m))}function zr(m){let c=m;return(c=c.replace(/(\([^)]*\)):([^/\s]+)/g,`$1${ii}:$2`)).replace(/:([^:/\s)]+)(?=:)/g,`:$1${ii}`)}function $i(m,c,b){if(typeof m!="string")return(0,Xr.pathToRegexp)(m,c,b);let w=qi(m),W=w?zr(m):m;try{return(0,Xr.pathToRegexp)(W,c,b)}catch(ee){if(!w)try{let se=zr(m);return(0,Xr.pathToRegexp)(se,c,b)}catch{}throw ee}}function oi(m,c){let b=qi(m),w=b?zr(m):m;try{return(0,Xr.compile)(w,c)}catch(W){if(!b)try{let ee=zr(m);return(0,Xr.compile)(ee,c)}catch{}throw W}}function li(m){var c;let{re:b,groups:w}=m;return c=W=>{let ee=b.exec(W);if(!ee)return!1;let se=Ve=>{try{return decodeURIComponent(Ve)}catch{throw Object.defineProperty(new ri("failed to decode param"),"__NEXT_ERROR_CODE",{value:"E528",enumerable:!1,configurable:!0})}},pe={};for(let[Ve,Je]of Object.entries(w)){let Fe=ee[Je.pos];Fe!==void 0&&(Je.repeat?pe[Ve]=Fe.split("/").map(_e=>se(_e)):pe[Ve]=se(Fe))}return pe},W=>{let ee=c(W);if(!ee)return!1;let se={};for(let[pe,Ve]of Object.entries(ee))typeof Ve=="string"?se[pe]=Ve.replace(RegExp(`^${ii}`),""):Array.isArray(Ve)?se[pe]=Ve.map(Je=>typeof Je=="string"?Je.replace(RegExp(`^${ii}`),""):Je):se[pe]=Ve;return se}}function Si(m){let c={};for(let[b,w]of m.entries()){let W=c[b];W===void 0?c[b]=w:Array.isArray(W)?W.push(w):c[b]=[W,w]}return c}function Hi(m){return typeof m=="string"?m:(typeof m!="number"||isNaN(m))&&typeof m!="boolean"?"":String(m)}function Fi(m){let c=new URLSearchParams;for(let[b,w]of Object.entries(m))if(Array.isArray(w))for(let W of w)c.append(b,Hi(W));else c.set(b,Hi(w));return c}function Yr(m){return function(){let{cookie:c}=m;if(!c)return{};let{parse:b}=F.r(9312);return b(Array.isArray(c)?c.join("; "):c)}}function $r(m){return m.replace(/__ESC_COLON_/gi,":")}function Ri(m,c){if(!m.includes(":"))return m;for(let b of Object.keys(c))m.includes(":"+b)&&(m=m.replace(RegExp(":"+b+"\\*","g"),":"+b+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+b+"\\?","g"),":"+b+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+b+"\\+","g"),":"+b+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+b+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+b));return oi("/"+(m=m.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*")),{validate:!1})(c).slice(1)}function Sr(m){try{return decodeURIComponent(m)}catch{return m}}function Gi(m){let c=function(w){let W;try{W=new URL(w,"http://n")}catch{}return W}(m);if(!c)return;let b={};for(let w of c.searchParams.keys()){let W=c.searchParams.getAll(w);b[w]=W.length>1?W:W[0]}return{query:b,hash:c.hash,search:c.search,path:c.pathname,pathname:c.pathname,href:`${c.pathname}${c.search}${c.hash}`,host:"",hostname:"",auth:"",protocol:"",slashes:null,port:""}}F.s(["searchParamsToUrlQuery",()=>Si,"urlQueryToSearchParams",()=>Fi],27165),F.s(["getCookieParser",()=>Yr],3516),F.s(["parseReqUrl",()=>Gi],75773);let to=/https?|ftp|gopher|file/;var wn=F.i(92294);let Bi=wn.default.enums(["c","ci","oc","d","di"]),no=wn.default.union([wn.default.string(),wn.default.tuple([wn.default.string(),wn.default.string(),Bi])]),Vi=wn.default.tuple([no,wn.default.record(wn.default.string(),wn.default.lazy(()=>Vi)),wn.default.optional(wn.default.nullable(wn.default.string())),wn.default.optional(wn.default.nullable(wn.default.union([wn.default.literal("refetch"),wn.default.literal("refresh"),wn.default.literal("inside-shared-layout"),wn.default.literal("metadata-only")]))),wn.default.optional(wn.default.boolean())]);function Ji(m){var c,b;return((b=m.has)==null||(c=b[0])==null?void 0:c.key)===fr}function mi(m,c){for(let b in delete m.nextInternalLocale,m){let w=b!==B&&b.startsWith(B),W=b!==fe&&b.startsWith(fe);(w||W||c.includes(b))&&delete m[b]}}function Wi({page:m,i18n:c,basePath:b,rewrites:w,pageIsDynamic:W,trailingSlash:ee,caseSensitive:se}){let pe,Ve,Je;return W&&(Je=(Ve=li(pe=Li(m,{prefixRouteKeys:!1})))(m)),{handleRewrites:function(Fe,_e){let r={},n=_e.pathname,i=s=>{let l=function(f,p){let o=[],u=(0,Xr.pathToRegexp)(f,o,{delimiter:"/",sensitive:typeof p?.sensitive=="boolean"&&p.sensitive,strict:p?.strict}),h=(0,Xr.regexpToFunction)(p?.regexModifier?new RegExp(p.regexModifier(u.source),u.flags):u,o);return(d,E)=>{if(typeof d!="string")return!1;let g=h(d);if(!g)return!1;if(p?.removeUnnamedParams)for(let y of o)typeof y.name=="number"&&delete g.params[y.name];return{...E,...g.params}}}(s.source+(ee?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!se});if(!_e.pathname)return!1;let v=l(_e.pathname);if((s.has||s.missing)&&v){let f=function(p,o,u,h){u===void 0&&(u=[]),h===void 0&&(h=[]);let d={},E=g=>{let y,_=g.key;switch(g.type){case"header":_=_.toLowerCase(),y=p.headers[_];break;case"cookie":y="cookies"in p?p.cookies[g.key]:Yr(p.headers)()[g.key];break;case"query":y=o[_];break;case"host":{let{host:S}=p?.headers||{};y=S?.split(":",1)[0].toLowerCase()}}if(!g.value&&y)return d[function(S){let T="";for(let k=0;k<S.length;k++){let I=S.charCodeAt(k);(I>64&&I<91||I>96&&I<123)&&(T+=S[k])}return T}(_)]=y,!0;if(y){let S=RegExp("^"+g.value+"$"),T=Array.isArray(y)?y.slice(-1)[0].match(S):y.match(S);if(T)return Array.isArray(T)&&(T.groups?Object.keys(T.groups).forEach(k=>{d[k]=T.groups[k]}):g.type==="host"&&T[0]&&(d.host=T[0])),!0}return!1};return!(!u.every(g=>E(g))||h.some(g=>E(g)))&&d}(Fe,_e.query,s.has,s.missing);f?Object.assign(v,f):v=!1}if(v){try{if(Ji(s)){let o=Fe.headers[bn];o&&(v={...function u(h,d){for(let E of(d===void 0&&(d={}),Object.values(h[1]))){let g=E[0],y=Array.isArray(g),_=y?g[1]:g;!_||_.startsWith("__PAGE__")||(y&&(g[2]==="c"||g[2]==="oc")?d[g[0]]=g[1].split("/"):y&&(d[g[0]]=g[1]),d=u(E,d))}return d}(function(u){if(u!==void 0){if(Array.isArray(u))throw Object.defineProperty(Error("Multiple router state headers were sent. This is not allowed."),"__NEXT_ERROR_CODE",{value:"E418",enumerable:!1,configurable:!0});if(u.length>4e4)throw Object.defineProperty(Error("The router state header was too large."),"__NEXT_ERROR_CODE",{value:"E142",enumerable:!1,configurable:!0});try{let h=JSON.parse(decodeURIComponent(u));return(0,wn.assert)(h,Vi),h}catch{throw Object.defineProperty(Error("The router state header was sent but could not be parsed."),"__NEXT_ERROR_CODE",{value:"E10",enumerable:!1,configurable:!0})}}}(o)),...v})}}catch{}let{parsedDestination:f,destQuery:p}=function(o){let u,h,d=function(M){let K=M.destination;for(let Oe of Object.keys({...M.params,...M.query}))Oe&&(K=K.replace(RegExp(":"+xr(Oe),"g"),"__ESC_COLON_"+Oe));let X=function(Oe){if(Oe.startsWith("/"))return function(Y,pt,_t){_t===void 0&&(_t=!0);let Ne=new URL("http://n"),Be=Y.startsWith(".")?new URL("http://n"):Ne,{pathname:Ze,searchParams:ze,search:Ie,hash:xe,href:ot,origin:lt}=new URL(Y,Be);if(lt!==Ne.origin)throw Object.defineProperty(Error("invariant: invalid relative URL, router received "+Y),"__NEXT_ERROR_CODE",{value:"E159",enumerable:!1,configurable:!0});return{pathname:Ze,query:_t?Si(ze):void 0,search:Ie,hash:xe,href:ot.slice(lt.length),slashes:void 0}}(Oe);let ue=new URL(Oe);return{hash:ue.hash,hostname:ue.hostname,href:ue.href,pathname:ue.pathname,port:ue.port,protocol:ue.protocol,query:Si(ue.searchParams),search:ue.search,slashes:ue.href.slice(ue.protocol.length,ue.protocol.length+2)==="//"}}(K),he=X.pathname;he&&(he=$r(he));let te=X.href;te&&(te=$r(te));let Z=X.hostname;Z&&(Z=$r(Z));let oe=X.hash;oe&&(oe=$r(oe));let me=X.search;return me&&(me=$r(me)),{...X,pathname:he,hostname:Z,href:te,hash:oe,search:me}}(o),{hostname:E,query:g,search:y}=d,_=d.pathname;d.hash&&(_=""+_+d.hash);let S=[],T=[];for(let M of($i(_,T),T))S.push(M.name);if(E){let M=[];for(let K of($i(E,M),M))S.push(K.name)}let k=oi(_,{validate:!1});for(let[M,K]of(E&&(u=oi(E,{validate:!1})),Object.entries(g)))Array.isArray(K)?g[M]=K.map(X=>Ri($r(X),o.params)):typeof K=="string"&&(g[M]=Ri($r(K),o.params));let I=Object.keys(o.params).filter(M=>M!=="nextInternalLocale");if(o.appendParamsToQuery&&!I.some(M=>S.includes(M)))for(let M of I)M in g||(g[M]=o.params[M]);if(fi(_))for(let M of _.split("/")){let K=qr.find(X=>M.startsWith(X));if(K){K==="(..)(..)"?(o.params[0]="(..)",o.params[1]="(..)"):o.params[0]=K;break}}try{let[M,K]=(h=k(o.params)).split("#",2);u&&(d.hostname=u(o.params)),d.pathname=M,d.hash=(K?"#":"")+(K||""),d.search=y?Ri(y,o.params):""}catch(M){throw M.message.match(/Expected .*? to not repeat, but got an array/)?Object.defineProperty(Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match"),"__NEXT_ERROR_CODE",{value:"E329",enumerable:!1,configurable:!0}):M}return d.query={...o.query,...d.query},{newUrl:h,destQuery:g,parsedDestination:d}}({appendParamsToQuery:!0,destination:s.destination,params:v,query:_e.query});if(f.protocol)return!0;if(Object.assign(r,p,v),Object.assign(_e.query,f.query),delete f.query,Object.entries(_e.query).forEach(([o,u])=>{if(u&&typeof u=="string"&&u.startsWith(":")){let h=r[u.slice(1)];h&&(_e.query[o]=h)}}),Object.assign(_e,f),!(n=_e.pathname))return!1;if(b&&(n=n.replace(RegExp(`^${b}`),"")||"/"),c){let o=$e(n,c.locales);n=o.pathname,_e.query.nextInternalLocale=o.detectedLocale||v.nextInternalLocale}if(n===m)return!0;if(W&&Ve){let o=Ve(n);if(o)return _e.query={..._e.query,...o},!0}}return!1};for(let s of w.beforeFiles||[])i(s);if(n!==m){let s=!1;for(let l of w.afterFiles||[])if(s=i(l))break;if(!s&&!(()=>{let l=ce(n||"");return l===ce(m)||Ve?.(l)})()){for(let l of w.fallback||[])if(s=i(l))break}}return r},defaultRouteRegex:pe,dynamicRouteMatcher:Ve,defaultRouteMatches:Je,normalizeQueryParams:function(Fe,_e){for(let[r,n]of(delete Fe.nextInternalLocale,Object.entries(Fe))){let i=V(r);i&&(delete Fe[r],_e.add(i),n!==void 0&&(Fe[i]=Array.isArray(n)?n.map(s=>Sr(s)):Sr(n)))}},getParamsFromRouteMatches:function(Fe){if(!pe)return null;let{groups:_e,routeKeys:r}=pe;return li({re:{exec:i=>{let s=Object.fromEntries(new URLSearchParams(i));for(let[v,f]of Object.entries(s)){let p=V(v);p&&(s[p]=f,delete s[v])}let l={};for(let v of Object.keys(r)){let f=r[v];if(!f)continue;let p=_e[f],o=s[v];if(!p.optional&&!o)return null;l[p.pos]=o}return l}},groups:_e})(Fe)||null},normalizeDynamicRouteParams:(Fe,_e)=>{if(!pe||!Je)return{params:{},hasValidParams:!1};var r=pe,n=Je;let i={};for(let s of Object.keys(r.groups)){let l=Fe[s];typeof l=="string"?l=ne(l):Array.isArray(l)&&(l=l.map(ne));let v=n[s],f=r.groups[s].optional;if((Array.isArray(v)?v.some(p=>Array.isArray(l)?l.some(o=>o.includes(p)):l?.includes(p)):l?.includes(v))||l===void 0&&!(f&&_e))return{params:{},hasValidParams:!1};f&&(!l||Array.isArray(l)&&l.length===1&&(l[0]==="index"||l[0]===`[[...${s}]]`))&&(l=void 0,delete Fe[s]),l&&typeof l=="string"&&r.groups[s].repeat&&(l=l.split("/")),l&&(i[s]=l)}return{params:i,hasValidParams:!0}},normalizeCdnUrl:(Fe,_e)=>function(r,n){let i=Gi(r.url);if(!i)return r.url;delete i.search,mi(i.query,n),r.url=function(s){let{auth:l,hostname:v}=s,f=s.protocol||"",p=s.pathname||"",o=s.hash||"",u=s.query||"",h=!1;l=l?encodeURIComponent(l).replace(/%3A/i,":")+"@":"",s.host?h=l+s.host:v&&(h=l+(~v.indexOf(":")?"["+v+"]":v),s.port&&(h+=":"+s.port)),u&&typeof u=="object"&&(u=String(Fi(u)));let d=s.search||u&&"?"+u||"";return f&&!f.endsWith(":")&&(f+=":"),s.slashes||(!f||to.test(f))&&h!==!1?(h="//"+(h||""),p&&p[0]!=="/"&&(p="/"+p)):h||(h=""),o&&o[0]!=="#"&&(o="#"+o),d&&d[0]!=="?"&&(d="?"+d),""+f+h+(p=p.replace(/[?#]/g,encodeURIComponent))+(d=d.replace("#","%23"))+o}(i)}(Fe,_e),interpolateDynamicPath:(Fe,_e)=>function(r,n,i){if(!i)return r;for(let s of Object.keys(i.groups)){let l,{optional:v,repeat:f}=i.groups[s],p=`[${f?"...":""}${s}]`;v&&(p=`[${p}]`);let o=n[s];((l=Array.isArray(o)?o.map(u=>u&&encodeURIComponent(u)).join("/"):o?encodeURIComponent(o):"")||v)&&(r=r.replaceAll(p,l))}return r}(Fe,_e,pe),filterInternalQuery:(Fe,_e)=>mi(Fe,_e)}}function Oi(m,c){return typeof m[ye]=="string"&&m[L]===c?m[ye].split(","):[]}F.s(["isInterceptionRouteRewrite",()=>Ji],96079);class Qr{static#e=this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;constructor({fs:c,dev:b,flushToDisk:w,minimalMode:W,serverDistDir:ee,requestHeaders:se,maxMemoryCacheSize:pe,getPrerenderManifest:Ve,fetchCacheKeyPrefix:Je,CurCacheHandler:Fe,allowedRevalidateHeaderKeys:_e}){var r,n,i,s;this.locks=new Map,this.hasCustomCacheHandler=!!Fe;let l=Symbol.for("@next/cache-handlers"),v=Tt;if(Fe)Qr.debug&&console.log("using custom cache handler",Fe.name);else{let p=v[l];p?.FetchCache?Fe=p.FetchCache:c&&ee&&(Qr.debug&&console.log("using filesystem cache handler"),Fe=dr)}process.env.__NEXT_TEST_MAX_ISR_CACHE&&(pe=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=b,this.disableForTestmode=process.env.NEXT_PRIVATE_TEST_PROXY==="true",this.minimalMode=W,this.requestHeaders=se,this.allowedRevalidateHeaderKeys=_e,this.prerenderManifest=Ve(),this.cacheControls=new hi(this.prerenderManifest),this.fetchCacheKeyPrefix=Je;let f=[];se[re]===((n=this.prerenderManifest)==null||(r=n.preview)==null?void 0:r.previewModeId)&&(this.isOnDemandRevalidate=!0),W&&(f=Oi(se,(s=this.prerenderManifest)==null||(i=s.preview)==null?void 0:i.previewModeId)),Fe&&(this.cacheHandler=new Fe({dev:b,fs:c,flushToDisk:w,serverDistDir:ee,revalidatedTags:f,maxMemoryCacheSize:pe,_requestHeaders:se,fetchCacheKeyPrefix:Je}))}calculateRevalidate(c,b,w,W){if(w)return Math.floor(performance.timeOrigin+performance.now()-1e3);let ee=this.cacheControls.get(Ei(c)),se=ee?ee.revalidate:!W&&1;return typeof se=="number"?1e3*se+b:se}_getPathname(c,b){return b?c:ki(c)}resetRequestCache(){var c,b;(b=this.cacheHandler)==null||(c=b.resetRequestCache)==null||c.call(b)}async lock(c){for(;;){let W=this.locks.get(c);if(Qr.debug&&console.log("lock get",c,!!W),!W)break;await W}let{resolve:b,promise:w}=new R;return Qr.debug&&console.log("successfully locked",c),this.locks.set(c,w),()=>{b(),this.locks.delete(c)}}async revalidateTag(c){var b;return(b=this.cacheHandler)==null?void 0:b.revalidateTag(c)}async generateCacheKey(c,b={}){let w=[],W=new TextEncoder,ee=new TextDecoder;if(b.body)if(b.body instanceof Uint8Array)w.push(ee.decode(b.body)),b._ogBody=b.body;else if(typeof b.body.getReader=="function"){let Je=b.body,Fe=[];try{await Je.pipeTo(new WritableStream({write(i){typeof i=="string"?(Fe.push(W.encode(i)),w.push(i)):(Fe.push(i),w.push(ee.decode(i,{stream:!0})))}})),w.push(ee.decode());let _e=Fe.reduce((i,s)=>i+s.length,0),r=new Uint8Array(_e),n=0;for(let i of Fe)r.set(i,n),n+=i.length;b._ogBody=r}catch(_e){console.error("Problem reading body",_e)}}else if(typeof b.body.keys=="function"){let Je=b.body;for(let Fe of(b._ogBody=b.body,new Set([...Je.keys()]))){let _e=Je.getAll(Fe);w.push(`${Fe}=${(await Promise.all(_e.map(async r=>typeof r=="string"?r:await r.text()))).join(",")}`)}}else if(typeof b.body.arrayBuffer=="function"){let Je=b.body,Fe=await Je.arrayBuffer();w.push(await Je.text()),b._ogBody=new Blob([Fe],{type:Je.type})}else typeof b.body=="string"&&(w.push(b.body),b._ogBody=b.body);let se=typeof(b.headers||{}).keys=="function"?Object.fromEntries(b.headers):Object.assign({},b.headers);"traceparent"in se&&delete se.traceparent,"tracestate"in se&&delete se.tracestate;let pe=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",c,b.method,se,b.mode,b.redirect,b.credentials,b.referrer,b.referrerPolicy,b.integrity,b.cache,w]);{var Ve;let Je=W.encode(pe);return Ve=await crypto.subtle.digest("SHA-256",Je),Array.prototype.map.call(new Uint8Array(Ve),Fe=>Fe.toString(16).padStart(2,"0")).join("")}}async get(c,b){var w,W,ee,se;let pe,Ve;if(b.kind===ve.FETCH){let r=Cn.getStore(),n=r?An(r):null;if(n){let i=n.fetch.get(c);if(i?.kind===He.FETCH)return{isStale:!1,value:i}}}if(this.disableForTestmode||this.dev&&(b.kind!==ve.FETCH||this.requestHeaders["cache-control"]==="no-cache"))return null;c=this._getPathname(c,b.kind===ve.FETCH);let Je=await((w=this.cacheHandler)==null?void 0:w.get(c,b));if(b.kind===ve.FETCH){if(!Je)return null;if(((ee=Je.value)==null?void 0:ee.kind)!==He.FETCH)throw Object.defineProperty(new A(`Expected cached value for cache key ${JSON.stringify(c)} to be a "FETCH" kind, got ${JSON.stringify((se=Je.value)==null?void 0:se.kind)} instead.`),"__NEXT_ERROR_CODE",{value:"E653",enumerable:!1,configurable:!0});let r=$.getStore();if([...b.tags||[],...b.softTags||[]].some(l=>{var v,f;return((v=this.revalidatedTags)==null?void 0:v.includes(l))||(r==null||(f=r.pendingRevalidatedTags)==null?void 0:f.includes(l))}))return null;let n=b.revalidate||Je.value.revalidate,i=(performance.timeOrigin+performance.now()-(Je.lastModified||0))/1e3,s=Je.value.data;return{isStale:i>n,value:{kind:He.FETCH,data:s,revalidate:n}}}if((Je==null||(W=Je.value)==null?void 0:W.kind)===He.FETCH)throw Object.defineProperty(new A(`Expected cached value for cache key ${JSON.stringify(c)} not to be a ${JSON.stringify(b.kind)} kind, got "FETCH" instead.`),"__NEXT_ERROR_CODE",{value:"E652",enumerable:!1,configurable:!0});let Fe=null,_e=this.cacheControls.get(Ei(c));return Je?.lastModified===-1?(pe=-1,Ve=-1*ge):pe=(Ve=this.calculateRevalidate(c,Je?.lastModified||performance.timeOrigin+performance.now(),this.dev??!1,b.isFallback))!==!1&&Ve<performance.timeOrigin+performance.now()||void 0,Je&&(Fe={isStale:pe,cacheControl:_e,revalidateAfter:Ve,value:Je.value}),!Je&&this.prerenderManifest.notFoundRoutes.includes(c)&&(Fe={isStale:pe,value:null,cacheControl:_e,revalidateAfter:Ve},this.set(c,Fe.value,{...b,cacheControl:_e})),Fe}async set(c,b,w){if(b?.kind===He.FETCH){let se=Cn.getStore(),pe=se?ln(se):null;pe&&pe.fetch.set(c,b)}if(this.disableForTestmode||this.dev&&!w.fetchCache)return;c=this._getPathname(c,w.fetchCache);let W=JSON.stringify(b).length;if(w.fetchCache&&W>2097152&&!this.hasCustomCacheHandler&&!w.isImplicitBuildTimeCache){let se=`Failed to set Next.js data cache for ${w.fetchUrl||c}, items over 2MB can not be cached (${W} bytes)`;if(this.dev)throw Object.defineProperty(Error(se),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});console.warn(se);return}try{var ee;!w.fetchCache&&w.cacheControl&&this.cacheControls.set(Ei(c),w.cacheControl),await((ee=this.cacheHandler)==null?void 0:ee.set(c,b,w))}catch(se){console.warn("Failed to update prerender cache for",c,se)}}}F.s(["patchFetch",()=>To],25927),F.s(["abortAndThrowOnSynchronousRequestDataAccess",()=>Eo,"createDynamicTrackingState",()=>so,"delayUntilRuntimeStage",()=>Co,"getFirstDynamicReason",()=>_o,"isPrerenderInterruptedError",()=>bo,"markCurrentScopeAsDynamic",()=>wi,"postponeWithTracking",()=>Pi,"throwToInterruptStaticGeneration",()=>uo,"trackSynchronousRequestDataAccessInDev",()=>co],90812);var Ki=F.i(80114);F.s(["DynamicServerError",()=>Ti,"isDynamicServerError",()=>ro],91093);let Xi="DYNAMIC_SERVER_USAGE";class Ti extends Error{constructor(c){super("Dynamic server usage: "+c),this.description=c,this.digest=Xi}}function ro(m){return typeof m=="object"&&m!==null&&"digest"in m&&typeof m.digest=="string"&&m.digest===Xi}F.s(["StaticGenBailoutError",()=>Ai],84274);class Ai extends Error{constructor(...c){super(...c),this.code="NEXT_STATIC_GEN_BAILOUT"}}F.s(["makeDevtoolsIOAwarePromise",()=>yo,"makeHangingPromise",()=>gi],62895);class io extends Error{constructor(c,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${c}".`),this.route=c,this.expression=b,this.digest="HANGING_PROMISE_REJECTION"}}let oo=new WeakMap;function gi(m,c,b){if(m.aborted)return Promise.reject(new io(c,b));{let w=new Promise((W,ee)=>{let se=ee.bind(null,new io(c,b)),pe=oo.get(m);if(pe)pe.push(se);else{let Ve=[se];oo.set(m,Ve),m.addEventListener("abort",()=>{for(let Je=0;Je<Ve.length;Je++)Ve[Je]()},{once:!0})}});return w.catch(go),w}}function go(){}function yo(m){return new Promise(c=>{setTimeout(()=>{c(m)},0)})}F.s(["BailoutToCSRError",()=>vo,"isBailoutToCSRError",()=>ao],20349);let lo="BAILOUT_TO_CLIENT_SIDE_RENDERING";class vo extends Error{constructor(c){super("Bail out to client-side rendering: "+c),this.reason=c,this.digest=lo}}function ao(m){return typeof m=="object"&&m!==null&&"digest"in m&&m.digest===lo}let ai=typeof Ki.default.unstable_postpone=="function";function so(m){return{isDebugDynamicAccesses:m,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function _o(m){var c;return(c=m.dynamicAccesses[0])==null?void 0:c.expression}function wi(m,c,b){if(c)switch(c.type){case"cache":case"unstable-cache":case"private-cache":return}if(!m.forceDynamic&&!m.forceStatic){if(m.dynamicShouldError)throw Object.defineProperty(new Ai(`Route ${m.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${b}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(c)switch(c.type){case"prerender-ppr":return Pi(m.route,b,c.dynamicTracking);case"prerender-legacy":c.revalidate=0;let w=Object.defineProperty(new Ti(`Route ${m.route} couldn't be rendered statically because it used ${b}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw m.dynamicUsageDescription=b,m.dynamicUsageStack=w.stack,w}}}function uo(m,c,b){let w=Object.defineProperty(new Ti(`Route ${c.route} couldn't be rendered statically because it used \`${m}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw b.revalidate=0,c.dynamicUsageDescription=m,c.dynamicUsageStack=w.stack,w}function Eo(m,c,b,w){if(w.controller.signal.aborted===!1){let W=Ii(`Route ${m} needs to bail out of prerendering at this point because it used ${c}.`);w.controller.abort(W);let ee=w.dynamicTracking;ee&&ee.dynamicAccesses.push({stack:ee.isDebugDynamicAccesses?Error().stack:void 0,expression:c});let se=w.dynamicTracking;se&&se.syncDynamicErrorWithStack===null&&(se.syncDynamicErrorWithStack=b)}throw Ii(`Route ${m} needs to bail out of prerendering at this point because it used ${c}.`)}let co=function(m){m.prerenderPhase=!1};function Pi(m,c,b){(function(){if(!ai)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),b&&b.dynamicAccesses.push({stack:b.isDebugDynamicAccesses?Error().stack:void 0,expression:c}),Ki.default.unstable_postpone(po(m,c))}function po(m,c){return`Route ${m} needs to bail out of prerendering at this point because it used ${c}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(function(m){return m.includes("needs to bail out of prerendering at this point because it used")&&m.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}(po("%%%","^^^"))===!1)throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let fo="NEXT_PRERENDER_INTERRUPTED";function Ii(m){let c=Object.defineProperty(Error(m),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return c.digest=fo,c}function bo(m){return typeof m=="object"&&m!==null&&m.digest===fo&&"name"in m&&"message"in m&&m instanceof Error}function Co(m,c){return m.runtimeStagePromise?m.runtimeStagePromise.then(()=>c):c}RegExp("\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)"),RegExp("\\n\\s+at __next_metadata_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_viewport_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_outlet_boundary__[\\n\\s]");let So=()=>{};function xi(m){if(!m.body)return[m,m];let[c,b]=m.body.tee(),w=new Response(c,{status:m.status,statusText:m.statusText,headers:m.headers});Object.defineProperty(w,"url",{value:m.url,configurable:!0,enumerable:!0,writable:!1}),ke&&w.body&&ke.register(w,new WeakRef(w.body));let W=new Response(b,{status:m.status,statusText:m.statusText,headers:m.headers});return Object.defineProperty(W,"url",{value:m.url,configurable:!0,enumerable:!0,writable:!1}),[w,W]}Tt.FinalizationRegistry&&(ke=new FinalizationRegistry(m=>{let c=m.deref();c&&!c.locked&&c.cancel("Response object has been garbage collected").then(So)}));let ho=Symbol.for("next-patch");function zi(m,c){m.shouldTrackFetchMetrics&&(m.fetchMetrics??=[],m.fetchMetrics.push({...c,end:performance.timeOrigin+performance.now(),idx:m.nextFetchId||0}))}async function Ro(m,c,b,w,W,ee){let se=await m.arrayBuffer(),pe={headers:Object.fromEntries(m.headers.entries()),body:t.Buffer.from(se).toString("base64"),status:m.status,url:m.url};return b&&await w.set(c,{kind:He.FETCH,data:pe,revalidate:W},b),await ee(),new Response(se,{headers:m.headers,status:m.status,statusText:m.statusText})}async function Oo(m,c,b,w,W,ee,se,pe,Ve){let[Je,Fe]=xi(c),_e=Je.arrayBuffer().then(async n=>{let i=t.Buffer.from(n),s={headers:Object.fromEntries(Je.headers.entries()),body:i.toString("base64"),status:Je.status,url:Je.url};ee?.set(b,s),w&&await W.set(b,{kind:He.FETCH,data:s,revalidate:se},w)}).catch(n=>console.warn("Failed to set fetch cache",pe,n)).finally(Ve),r=`cache-set-${b}`;return m.pendingRevalidates??={},r in m.pendingRevalidates&&await m.pendingRevalidates[r],m.pendingRevalidates[r]=_e.finally(()=>{var n;(n=m.pendingRevalidates)!=null&&n[r]&&delete m.pendingRevalidates[r]}),Fe}function To(m){if(Tt[ho]===!0)return;let c=function(b){let w=Ki.cache(W=>[]);return function(W,ee){let se,pe;if(ee&&ee.signal)return b(W,ee);if(typeof W!="string"||ee){let _e=typeof W=="string"||W instanceof URL?new Request(W,ee):W;if(_e.method!=="GET"&&_e.method!=="HEAD"||_e.keepalive)return b(W,ee);pe=JSON.stringify([_e.method,Array.from(_e.headers.entries()),null,_e.redirect,null,_e.referrer,_e.referrerPolicy,null]),se=_e.url}else pe='["GET",[],null,"follow",null,null,null,null]',se=W;let Ve=w(se);for(let _e=0,r=Ve.length;_e<r;_e+=1){let[n,i]=Ve[_e];if(n===pe)return i.then(()=>{let s=Ve[_e][2];if(!s)throw Object.defineProperty(new A("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[l,v]=xi(s);return Ve[_e][2]=v,l})}let Je=b(W,ee),Fe=[pe,Je,null];return Ve.push(Fe),Je.then(_e=>{let[r,n]=xi(_e);return Fe[2]=n,r})}}(Tt.fetch);Tt.fetch=function(b,{workAsyncStorage:w,workUnitAsyncStorage:W}){let ee=async function(se,pe){var Ve,Je;let Fe;try{(Fe=new URL(se instanceof Request?se.url:se)).username="",Fe.password=""}catch{Fe=void 0}let _e=Fe?.href??"",r=(pe==null||(Ve=pe.method)==null?void 0:Ve.toUpperCase())||"GET",n=(pe==null||(Je=pe.next)==null?void 0:Je.internal)===!0,i=process.env.NEXT_OTEL_FETCH_DISABLED==="1",s=n?void 0:performance.timeOrigin+performance.now(),l=w.getStore(),v=W.getStore(),f=v?Zt(v):null;f&&f.beginRead();let p=ct().trace(n?mr.internalFetch:Rn.fetch,{hideSpan:i,kind:Ur.CLIENT,spanName:["fetch",r,_e].filter(Boolean).join(" "),attributes:{"http.url":_e,"http.method":r,"net.peer.name":Fe?.hostname,"net.peer.port":Fe?.port||void 0}},async()=>{var o;let u,h,d,E,g,y;if(n||!l||l.isDraftMode)return b(se,pe);let _=se&&typeof se=="object"&&typeof se.method=="string",S=Se=>pe?.[Se]||(_?se[Se]:null),T=Se=>{var Ue,je,Ae;return(pe==null||(Ue=pe.next)==null?void 0:Ue[Se])!==void 0?pe==null||(je=pe.next)==null?void 0:je[Se]:_?(Ae=se.next)==null?void 0:Ae[Se]:void 0},k=T("revalidate"),I=k,M=function(Se,Ue){let je=[],Ae=[];for(let De=0;De<Se.length;De++){let tt=Se[De];if(typeof tt!="string"?Ae.push({tag:tt,reason:"invalid type, must be a string"}):tt.length>z?Ae.push({tag:tt,reason:`exceeded max length of ${z}`}):je.push(tt),je.length>H){console.warn(`Warning: exceeded max tag count for ${Ue}, dropped tags:`,Se.slice(De).join(", "));break}}if(Ae.length>0)for(let{tag:De,reason:tt}of(console.warn(`Warning: invalid tags passed to ${Ue}: `),Ae))console.log(`tag: "${De}" ${tt}`);return je}(T("tags")||[],`fetch ${se.toString()}`);if(v)switch(v.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":u=v}if(u&&Array.isArray(M)){let Se=u.tags??(u.tags=[]);for(let Ue of M)Se.includes(Ue)||Se.push(Ue)}let K=v?.implicitTags,X=l.fetchCache;v&&v.type==="unstable-cache"&&(X="force-no-store");let he=!!l.isUnstableNoStore,te=S("cache"),Z="";typeof te=="string"&&I!==void 0&&(te==="force-cache"&&I===0||te==="no-store"&&(I>0||I===!1))&&(h=`Specified "cache: ${te}" and "revalidate: ${I}", only one should be specified.`,te=void 0,I=void 0);let oe=te==="no-cache"||te==="no-store"||X==="force-no-store"||X==="only-no-store",me=!X&&!te&&!I&&l.forceDynamic;te==="force-cache"&&I===void 0?I=!1:(oe||me)&&(I=0),(te==="no-cache"||te==="no-store")&&(Z=`cache: ${te}`),y=function(Se,Ue){try{let je;if(Se===!1)je=ut;else if(typeof Se=="number"&&!isNaN(Se)&&Se>-1)je=Se;else if(Se!==void 0)throw Object.defineProperty(Error(`Invalid revalidate value "${Se}" on "${Ue}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return je}catch(je){if(je instanceof Error&&je.message.includes("Invalid revalidate"))throw je;return}}(I,l.route);let Oe=S("headers"),ue=typeof Oe?.get=="function"?Oe:new Headers(Oe||{}),Y=ue.get("authorization")||ue.get("cookie"),pt=!["get","head"].includes(((o=S("method"))==null?void 0:o.toLowerCase())||"get"),_t=X==null&&(te==null||te==="default")&&I==null,Ne=!!((Y||pt)&&u?.revalidate===0),Be=!1;if(!Ne&&_t&&(l.isBuildTimePrerendering?Be=!0:Ne=!0),_t&&v!==void 0)switch(v.type){case"prerender":case"prerender-runtime":case"prerender-client":return f&&(f.endRead(),f=null),gi(v.renderSignal,l.route,"fetch()")}switch(X){case"force-no-store":Z="fetchCache = force-no-store";break;case"only-no-store":if(te==="force-cache"||y!==void 0&&y>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${_e} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});Z="fetchCache = only-no-store";break;case"only-cache":if(te==="no-store")throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${_e} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(I===void 0||I===0)&&(Z="fetchCache = force-cache",y=ut)}if(y===void 0?X!=="default-cache"||he?X==="default-no-store"?(y=0,Z="fetchCache = default-no-store"):he?(y=0,Z="noStore call"):Ne?(y=0,Z="auto no cache"):(Z="auto cache",y=u?u.revalidate:ut):(y=ut,Z="fetchCache = default-cache"):Z||(Z=`revalidate: ${y}`),!(l.forceStatic&&y===0)&&!Ne&&u&&y<u.revalidate){if(y===0){if(v)switch(v.type){case"prerender":case"prerender-client":case"prerender-runtime":return f&&(f.endRead(),f=null),gi(v.renderSignal,l.route,"fetch()")}wi(l,v,`revalidate: 0 fetch ${se} ${l.route}`)}u&&k===y&&(u.revalidate=y)}let Ze=typeof y=="number"&&y>0,{incrementalCache:ze}=l,Ie=!1;if(v)switch(v.type){case"request":case"cache":case"private-cache":Ie=v.isHmrRefresh??!1,E=v.serverComponentsHmrCache}if(ze&&(Ze||E))try{d=await ze.generateCacheKey(_e,_?se:pe)}catch{console.error("Failed to generate cache key for",se)}let xe=l.nextFetchId??1;l.nextFetchId=xe+1;let ot=()=>{},lt=async(Se,Ue)=>{let je=["credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...Se?[]:["signal"]];if(_){let De=se,tt={body:De._ogBody||De.body};for(let Le of je)tt[Le]=De[Le];se=new Request(De.url,tt)}else if(pe){let{_ogBody:De,body:tt,signal:Le,...rt}=pe;pe={...rt,body:De||tt,signal:Se?void 0:Le}}let Ae={...pe,next:{...pe?.next,fetchType:"origin",fetchIdx:xe}};return b(se,Ae).then(async De=>{if(!Se&&s&&zi(l,{start:s,url:_e,cacheReason:Ue||Z,cacheStatus:y===0||Ue?"skip":"miss",cacheWarning:h,status:De.status,method:Ae.method||"GET"}),De.status===200&&ze&&d&&(Ze||E)){let tt=y>=ut?ge:y,Le=Ze?{fetchCache:!0,fetchUrl:_e,fetchIdx:xe,tags:M,isImplicitBuildTimeCache:Be}:void 0;switch(v?.type){case"prerender":case"prerender-client":case"prerender-runtime":return Ro(De,d,Le,ze,tt,ot);case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":case void 0:return Oo(l,De,d,Le,ze,E,tt,se,ot)}}return await ot(),De}).catch(De=>{throw ot(),De})},Xe=!1,Me=!1;if(d&&ze){let Se;if(Ie&&E&&(Se=E.get(d),Me=!0),Ze&&!Se){ot=await ze.lock(d);let Ue=l.isOnDemandRevalidate?null:await ze.get(d,{kind:ve.FETCH,revalidate:y,fetchUrl:_e,fetchIdx:xe,tags:M,softTags:K?.tags});if(_t&&v)switch(v.type){case"prerender":case"prerender-client":case"prerender-runtime":await Re()}if(Ue?await ot():g="cache-control: no-cache (hard refresh)",Ue?.value&&Ue.value.kind===He.FETCH)if(l.isRevalidate&&Ue.isStale)Xe=!0;else{if(Ue.isStale&&(l.pendingRevalidates??={},!l.pendingRevalidates[d])){let je=lt(!0).then(async Ae=>({body:await Ae.arrayBuffer(),headers:Ae.headers,status:Ae.status,statusText:Ae.statusText})).finally(()=>{l.pendingRevalidates??={},delete l.pendingRevalidates[d||""]});je.catch(console.error),l.pendingRevalidates[d]=je}Se=Ue.value.data}}if(Se){s&&zi(l,{start:s,url:_e,cacheReason:Z,cacheStatus:Me?"hmr":"hit",cacheWarning:h,status:Se.status||200,method:pe?.method||"GET"});let Ue=new Response(t.Buffer.from(Se.body,"base64"),{headers:Se.headers,status:Se.status});return Object.defineProperty(Ue,"url",{value:Se.url}),Ue}}if(l.isStaticGeneration&&pe&&typeof pe=="object"){let{cache:Se}=pe;if(delete pe.cache,Se==="no-store"){if(v)switch(v.type){case"prerender":case"prerender-client":case"prerender-runtime":return f&&(f.endRead(),f=null),gi(v.renderSignal,l.route,"fetch()")}wi(l,v,`no-store fetch ${se} ${l.route}`)}let Ue="next"in pe,{next:je={}}=pe;if(typeof je.revalidate=="number"&&u&&je.revalidate<u.revalidate){if(je.revalidate===0){if(v)switch(v.type){case"prerender":case"prerender-client":case"prerender-runtime":return gi(v.renderSignal,l.route,"fetch()")}wi(l,v,`revalidate: 0 fetch ${se} ${l.route}`)}l.forceStatic&&je.revalidate===0||(u.revalidate=je.revalidate)}Ue&&delete pe.next}if(!d||!Xe)return lt(!1,g);{let Se=d;l.pendingRevalidates??={};let Ue=l.pendingRevalidates[Se];if(Ue){let Ae=await Ue;return new Response(Ae.body,{headers:Ae.headers,status:Ae.status,statusText:Ae.statusText})}let je=lt(!0,g).then(xi);return(Ue=je.then(async Ae=>{let De=Ae[0];return{body:await De.arrayBuffer(),headers:De.headers,status:De.status,statusText:De.statusText}}).finally(()=>{var Ae;(Ae=l.pendingRevalidates)!=null&&Ae[Se]&&delete l.pendingRevalidates[Se]})).catch(()=>{}),l.pendingRevalidates[Se]=Ue,je.then(Ae=>Ae[1])}});if(f)try{return await p}finally{f&&f.endRead()}return p};return ee.__nextPatched=!0,ee.__nextGetStaticStore=()=>w,ee._nextOriginalFetch=b,Tt[ho]=!0,Object.defineProperty(ee,"name",{value:"fetch",writable:!1}),ee}(c,m)}F.s(["RedirectStatusCode",()=>Ao],91304);var Ao=function(m){return m[m.SeeOther=303]="SeeOther",m[m.TemporaryRedirect=307]="TemporaryRedirect",m[m.PermanentRedirect=308]="PermanentRedirect",m}({})},34462,98825,F=>{"use strict";F.s([],34462),F.s(["actionAsyncStorageInstance",()=>Ct],98825);let Ct=(0,F.i(31239).createAsyncLocalStorage)()},46464,(F,Ct,Ye)=>{"use strict";var ke=F.r(80114);function At(){}var at={d:{f:At,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:At,C:At,L:At,m:At,X:At,S:At,M:At},p:0,findDOMNode:null};if(!ke.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');function ne(le,C){return le==="font"?"":typeof C=="string"?C==="use-credentials"?C:"":void 0}Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Ye.preconnect=function(le,C){typeof le=="string"&&(C=C?typeof(C=C.crossOrigin)=="string"?C==="use-credentials"?C:"":void 0:null,at.d.C(le,C))},Ye.prefetchDNS=function(le){typeof le=="string"&&at.d.D(le)},Ye.preinit=function(le,C){if(typeof le=="string"&&C&&typeof C.as=="string"){var x=C.as,j=ne(x,C.crossOrigin),$=typeof C.integrity=="string"?C.integrity:void 0,A=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;x==="style"?at.d.S(le,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:j,integrity:$,fetchPriority:A}):x==="script"&&at.d.X(le,{crossOrigin:j,integrity:$,fetchPriority:A,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},Ye.preinitModule=function(le,C){if(typeof le=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var x=ne(C.as,C.crossOrigin);at.d.M(le,{crossOrigin:x,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&at.d.M(le)},Ye.preload=function(le,C){if(typeof le=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var x=C.as,j=ne(x,C.crossOrigin);at.d.L(le,x,{crossOrigin:j,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},Ye.preloadModule=function(le,C){if(typeof le=="string")if(C){var x=ne(C.as,C.crossOrigin);at.d.m(le,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:x,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else at.d.m(le)},Ye.version="19.2.0-canary-0bdb9206-20250818"},81779,(F,Ct,Ye)=>{"use strict";Ct.exports=F.r(46464)},39608,(F,Ct,Ye)=>{"use strict";var ke=F.r(81779),At=F.r(80114),at=Symbol.for("react.element"),ne=Symbol.for("react.transitional.element"),le=Symbol.for("react.fragment"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),J=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.postpone");var O=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:typeof(a=O&&a[O]||a["@@iterator"])=="function"?a:null}var B=Symbol.asyncIterator;function fe(a){setTimeout(function(){throw a})}var re=Promise,Ee=typeof queueMicrotask=="function"?queueMicrotask:function(a){re.resolve(null).then(a).catch(fe)},we=null,Pe=0;function Qe(a,R){if(R.byteLength!==0)if(2048<R.byteLength)0<Pe&&(a.enqueue(new Uint8Array(we.buffer,0,Pe)),we=new Uint8Array(2048),Pe=0),a.enqueue(R);else{var P=we.length-Pe;P<R.byteLength&&(P===0?a.enqueue(we):(we.set(R.subarray(0,P),Pe),a.enqueue(we),R=R.subarray(P)),we=new Uint8Array(2048),Pe=0),we.set(R,Pe),Pe+=R.byteLength}return!0}var st=new TextEncoder;function jt(a){return st.encode(a)}function Et(a){return a.byteLength}function de(a,R){typeof a.error=="function"?a.error(R):a.close()}var ye=Symbol.for("react.client.reference"),L=Symbol.for("react.server.reference");function H(a,R,P){return Object.defineProperties(a,{$$typeof:{value:ye},$$id:{value:R},$$async:{value:P}})}var z=Function.prototype.bind,ie=Array.prototype.slice;function ge(){var a=z.apply(this,arguments);if(this.$$typeof===L){var R=ie.call(arguments,1);return Object.defineProperties(a,{$$typeof:{value:L},$$id:{value:this.$$id},$$bound:R={value:this.$$bound?this.$$bound.concat(R):R},bind:{value:ge,configurable:!0}})}return a}var ut=Promise.prototype,Ge={get:function(a,R){switch(R){case"$$typeof":return a.$$typeof;case"$$id":return a.$$id;case"$$async":return a.$$async;case"name":return a.name;case"displayName":case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.");case"then":throw Error("Cannot await or return from a thenable. You cannot await a client module from a server component.")}throw Error("Cannot access "+String(a.name)+"."+String(R)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function gt(a,R){switch(R){case"$$typeof":return a.$$typeof;case"$$id":return a.$$id;case"$$async":return a.$$async;case"name":return a.name;case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"__esModule":var P=a.$$id;return a.default=H(function(){throw Error("Attempted to call the default export of "+P+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},a.$$id+"#",a.$$async),!0;case"then":if(a.then)return a.then;if(a.$$async)return;var U=H({},a.$$id,!0),D=new Proxy(U,yt);return a.status="fulfilled",a.value=D,a.then=H(function(Ce){return Promise.resolve(Ce(D))},a.$$id+"#then",!1)}if(typeof R=="symbol")throw Error("Cannot read Symbol exports. Only named exports are supported on a client module imported on the server.");return(U=a[R])||(Object.defineProperty(U=H(function(){throw Error("Attempted to call "+String(R)+"() from the server but "+String(R)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},a.$$id+"#"+R,a.$$async),"name",{value:R}),U=a[R]=new Proxy(U,Ge)),U}var yt={get:function(a,R){return gt(a,R)},getOwnPropertyDescriptor:function(a,R){var P=Object.getOwnPropertyDescriptor(a,R);return P||(P={value:gt(a,R),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(a,R,P)),P},getPrototypeOf:function(){return ut},set:function(){throw Error("Cannot assign to a client module from a server module.")}},Vt=ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=Vt.d;function V(a){if(a==null)return null;var R,P=!1,U={};for(R in a)a[R]!=null&&(P=!0,U[R]=a[R]);return P?U:null}Vt.d={f:q.f,r:q.r,D:function(a){if(typeof a=="string"&&a){var R=$n();if(R){var P=R.hints,U="D|"+a;P.has(U)||(P.add(U),_n(R,"D",a))}else q.D(a)}},C:function(a,R){if(typeof a=="string"){var P=$n();if(P){var U=P.hints,D="C|"+(R??"null")+"|"+a;U.has(D)||(U.add(D),typeof R=="string"?_n(P,"C",[a,R]):_n(P,"C",a))}else q.C(a,R)}},L:function(a,R,P){if(typeof a=="string"){var U=$n();if(U){var D=U.hints,Ce="L";if(R==="image"&&P){var Re=P.imageSrcSet,He=P.imageSizes,ve="";typeof Re=="string"&&Re!==""?(ve+="["+Re+"]",typeof He=="string"&&(ve+="["+He+"]")):ve+="[][]"+a,Ce+="[image]"+ve}else Ce+="["+R+"]"+a;D.has(Ce)||(D.add(Ce),(P=V(P))?_n(U,"L",[a,R,P]):_n(U,"L",[a,R]))}else q.L(a,R,P)}},m:function(a,R){if(typeof a=="string"){var P=$n();if(P){var U=P.hints,D="m|"+a;return U.has(D)?void 0:(U.add(D),(R=V(R))?_n(P,"m",[a,R]):_n(P,"m",a))}q.m(a,R)}},X:function(a,R){if(typeof a=="string"){var P=$n();if(P){var U=P.hints,D="X|"+a;return U.has(D)?void 0:(U.add(D),(R=V(R))?_n(P,"X",[a,R]):_n(P,"X",a))}q.X(a,R)}},S:function(a,R,P){if(typeof a=="string"){var U=$n();if(U){var D=U.hints,Ce="S|"+a;return D.has(Ce)?void 0:(D.add(Ce),(P=V(P))?_n(U,"S",[a,typeof R=="string"?R:0,P]):typeof R=="string"?_n(U,"S",[a,R]):_n(U,"S",a))}q.S(a,R,P)}},M:function(a,R){if(typeof a=="string"){var P=$n();if(P){var U=P.hints,D="M|"+a;return U.has(D)?void 0:(U.add(D),(R=V(R))?_n(P,"M",[a,R]):_n(P,"M",a))}q.M(a,R)}}};var Q=typeof AsyncLocalStorage=="function",ce=Q?new AsyncLocalStorage:null,Te=Symbol.for("react.temporary.reference"),dt={get:function(a,R){switch(R){case"$$typeof":return a.$$typeof;case"name":case"displayName":case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.");case"then":return}throw Error("Cannot access "+String(R)+" on the server. You cannot dot into a temporary client reference from a server component. You can only pass the value through to the client.")},set:function(){throw Error("Cannot assign to a temporary client reference from a server module.")}};function qe(){}var Ke=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),$e=null;function vt(){if($e===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var a=$e;return $e=null,a}var St=null,et=0,en=null;function gn(){var a=en||[];return en=null,a}var pr={readContext:$t,use:function(a){if(a!==null&&typeof a=="object"||typeof a=="function"){if(typeof a.then=="function"){var R=et;et+=1,en===null&&(en=[]);var P=en,U=a,D=R;switch((D=P[D])===void 0?P.push(U):D!==U&&(U.then(qe,qe),U=D),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(qe,qe):((P=U).status="pending",P.then(function(Ce){if(U.status==="pending"){var Re=U;Re.status="fulfilled",Re.value=Ce}},function(Ce){if(U.status==="pending"){var Re=U;Re.status="rejected",Re.reason=Ce}})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}throw $e=U,Ke}}a.$$typeof===C&&$t()}throw a.$$typeof===ye?a.value!=null&&a.value.$$typeof===C?Error("Cannot read a Client Context from a Server Component."):Error("Cannot use() an already resolved Client Reference."):Error("An unsupported type was passed to use(): "+String(a))},useCallback:function(a){return a},useContext:$t,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:function(a){return a()},useReducer:vn,useRef:vn,useState:vn,useDebugValue:function(){},useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:function(){if(St===null)throw Error("useId can only be used while React is rendering");var a=St.identifierCount++;return"_"+St.identifierPrefix+"S_"+a.toString(32)+"_"},useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:function(a){for(var R=Array(a),P=0;P<a;P++)R[P]=J;return R},useCacheRefresh:function(){return En}};function vn(){throw Error("This Hook is not supported in Server Components.")}function En(){throw Error("Refreshing the cache is not supported in Server Components.")}function $t(){throw Error("Cannot read a Client Context from a Server Component.")}var Gn={getCacheForType:function(a){var R=(R=$n())?R.cache:new Map,P=R.get(a);return P===void 0&&(P=a(),R.set(a,P)),P},cacheSignal:function(){var a=$n();return a?a.cacheController.signal:null}},bn=At.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!bn)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');var Nn=Array.isArray,Nr=Object.getPrototypeOf;function fr(a){return(a=Object.prototype.toString.call(a)).slice(8,a.length-1)}function Tr(a){switch(typeof a){case"string":return JSON.stringify(10>=a.length?a:a.slice(0,10)+"...");case"object":return Nn(a)?"[...]":a!==null&&a.$$typeof===Yn?"client":(a=fr(a))==="Object"?"{...}":a;case"function":return a.$$typeof===Yn?"client":(a=a.displayName||a.name)?"function "+a:"function";default:return String(a)}}var Yn=Symbol.for("react.client.reference");function Kn(a,R){var P=fr(a);if(P!=="Object"&&P!=="Array")return P;P=-1;var U=0;if(Nn(a)){for(var D="[",Ce=0;Ce<a.length;Ce++){0<Ce&&(D+=", ");var Re=a[Ce];Re=typeof Re=="object"&&Re!==null?Kn(Re):Tr(Re),""+Ce===R?(P=D.length,U=Re.length,D+=Re):D=10>Re.length&&40>D.length+Re.length?D+Re:D+"..."}D+="]"}else if(a.$$typeof===ne)D="<"+function it(Mt){if(typeof Mt=="string")return Mt;switch(Mt){case j:return"Suspense";case $:return"SuspenseList"}if(typeof Mt=="object")switch(Mt.$$typeof){case x:return it(Mt.render);case A:return it(Mt.type);case N:var Rt=Mt._payload;Mt=Mt._init;try{return it(Mt(Rt))}catch{}}return""}(a.type)+"/>";else{if(a.$$typeof===Yn)return"client";for(Re=0,D="{",Ce=Object.keys(a);Re<Ce.length;Re++){0<Re&&(D+=", ");var He=Ce[Re],ve=JSON.stringify(He);D+=('"'+He+'"'===ve?He:ve)+": ",ve=typeof(ve=a[He])=="object"&&ve!==null?Kn(ve):Tr(ve),He===R?(P=D.length,U=ve.length,D+=ve):D=10>ve.length&&40>D.length+ve.length?D+ve:D+"..."}D+="}"}return R===void 0?D:-1<P&&0<U?`
  `+D+`
  `+(a=" ".repeat(P)+"^".repeat(U)):`
  `+D}var Hr=Object.prototype.hasOwnProperty,hr=Object.prototype,Bn=JSON.stringify;function Rr(a){console.error(a)}function kr(a,R,P,U,D,Ce,Re,He,ve){if(bn.A!==null&&bn.A!==Gn)throw Error("Currently React only supports one RSC renderer at a time.");bn.A=Gn;var it=new Set,Mt=[],Rt=new Set;this.type=a,this.status=10,this.flushScheduled=!1,this.destination=this.fatalError=null,this.bundlerConfig=P,this.cache=new Map,this.cacheController=new AbortController,this.pendingChunks=this.nextChunkId=0,this.hints=Rt,this.abortableTasks=it,this.pingedTasks=Mt,this.completedImportChunks=[],this.completedHintChunks=[],this.completedRegularChunks=[],this.completedErrorChunks=[],this.writtenSymbols=new Map,this.writtenClientReferences=new Map,this.writtenServerReferences=new Map,this.writtenObjects=new WeakMap,this.temporaryReferences=ve,this.identifierPrefix=He||"",this.identifierCount=1,this.taintCleanupQueue=[],this.onError=U===void 0?Rr:U,this.onPostpone=D===void 0?qe:D,this.onAllReady=Ce,this.onFatalError=Re,Mt.push(a=gr(this,R,null,!1,it))}var er=null;function $n(){if(er)return er;if(Q){var a=ce.getStore();if(a)return a}return null}function Ar(a,R,P){var U=gr(a,P,R.keyPath,R.implicitSlot,a.abortableTasks);switch(P.status){case"fulfilled":return U.model=P.value,Xn(a,U),U.id;case"rejected":return sr(a,U,P.reason),U.id;default:if(a.status===12)return a.abortableTasks.delete(U),R=a.fatalError,jr(U),be(U,a,R),U.id;typeof P.status!="string"&&(P.status="pending",P.then(function(D){P.status==="pending"&&(P.status="fulfilled",P.value=D)},function(D){P.status==="pending"&&(P.status="rejected",P.reason=D)}))}return P.then(function(D){U.model=D,Xn(a,U)},function(D){U.status===0&&(sr(a,U,D),bt(a))}),U.id}function _n(a,R,P){R=jt(":H"+R+(P=Bn(P))+`
`),a.completedHintChunks.push(R),bt(a)}function Fr(a){if(a.status==="fulfilled")return a.value;throw a.status==="rejected"?a.reason:a}function Gr(){}function Br(a,R,P,U,D){var Ce=R.thenableState;if(R.thenableState=null,et=0,en=Ce,D=U(D,void 0),a.status===12)throw typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.$$typeof!==ye&&D.then(Gr,Gr),null;return D=function(Re,He,ve,it){if(typeof it!="object"||it===null||it.$$typeof===ye)return it;if(typeof it.then=="function"){switch(it.status){case"fulfilled":return it.value;case"rejected":break;default:typeof it.status!="string"&&(it.status="pending",it.then(function(Rt){it.status==="pending"&&(it.status="fulfilled",it.value=Rt)},function(Rt){it.status==="pending"&&(it.status="rejected",it.reason=Rt)}))}return{$$typeof:N,_payload:it,_init:Fr}}var Mt=G(it);return Mt?((Re={})[Symbol.iterator]=function(){return Mt.call(it)},Re):typeof it[B]!="function"||typeof ReadableStream=="function"&&it instanceof ReadableStream?it:((Re={})[B]=function(){return it[B]()},Re)}(a,0,0,D),U=R.keyPath,Ce=R.implicitSlot,P!==null?R.keyPath=U===null?P:U+","+P:U===null&&(R.implicitSlot=!0),a=Qn(a,R,Er,"",D),R.keyPath=U,R.implicitSlot=Ce,a}function ir(a,R,P){return R.keyPath!==null?(a=[ne,le,R.keyPath,{children:P}],R.implicitSlot?[a]:a):P}var tr=0;function mr(a,R){return R=gr(a,R.model,R.keyPath,R.implicitSlot,a.abortableTasks),Xn(a,R),"$L"+R.id.toString(16)}function Xn(a,R){var P=a.pingedTasks;P.push(R),P.length===1&&(a.flushScheduled=a.destination!==null,a.type===21||a.status===10?Ee(function(){return ur(a)}):setTimeout(function(){return ur(a)},0))}function gr(a,R,P,U,D){a.pendingChunks++;var Ce=a.nextChunkId++;typeof R!="object"||R===null||P!==null||U||a.writtenObjects.set(R,Rn(Ce));var Re={id:Ce,status:0,model:R,keyPath:P,implicitSlot:U,ping:function(){return Xn(a,Re)},toJSON:function(He,ve){tr+=He.length;var it=Re.keyPath,Mt=Re.implicitSlot;try{var Rt=Qn(a,Re,this,He,ve)}catch(Kt){if(He=typeof(He=Re.model)=="object"&&He!==null&&(He.$$typeof===ne||He.$$typeof===N),a.status===12)Re.status=3,it=a.fatalError,Rt=He?"$L"+it.toString(16):Rn(it);else if(typeof(ve=Kt===Ke?vt():Kt)=="object"&&ve!==null&&typeof ve.then=="function"){var Ht=(Rt=gr(a,Re.model,Re.keyPath,Re.implicitSlot,a.abortableTasks)).ping;ve.then(Ht,Ht),Rt.thenableState=gn(),Re.keyPath=it,Re.implicitSlot=Mt,Rt=He?"$L"+Rt.id.toString(16):Rn(Rt.id)}else Re.keyPath=it,Re.implicitSlot=Mt,a.pendingChunks++,it=a.nextChunkId++,Mt=Jn(a,ve,Re),Dn(a,it,Mt),Rt=He?"$L"+it.toString(16):Rn(it)}return Rt},thenableState:null};return D.add(Re),Re}function Rn(a){return"$"+a.toString(16)}function ei(a,R,P){return a=Bn(P),jt(R=R.toString(16)+":"+a+`
`)}function Vr(a,R,P,U){var D=U.$$async?U.$$id+"#async":U.$$id,Ce=a.writtenClientReferences,Re=Ce.get(D);if(Re!==void 0)return R[0]===ne&&P==="1"?"$L"+Re.toString(16):Rn(Re);try{var He=a.bundlerConfig,ve=U.$$id;Re="";var it=He[ve];if(it)Re=it.name;else{var Mt=ve.lastIndexOf("#");if(Mt!==-1&&(Re=ve.slice(Mt+1),it=He[ve.slice(0,Mt)]),!it)throw Error('Could not find the module "'+ve+'" in the React Client Manifest. This is probably a bug in the React Server Components bundler.')}if(it.async===!0&&U.$$async===!0)throw Error('The module "'+ve+'" is marked as an async ESM module but was loaded as a CJS proxy. This is probably a bug in the React Server Components bundler.');var Rt=it.async===!0||U.$$async===!0?[it.id,it.chunks,Re,1]:[it.id,it.chunks,Re];a.pendingChunks++;var Ht=a.nextChunkId++,Kt=Bn(Rt),Lt=Ht.toString(16)+":I"+Kt+`
`,It=jt(Lt);return a.completedImportChunks.push(It),Ce.set(D,Ht),R[0]===ne&&P==="1"?"$L"+Ht.toString(16):Rn(Ht)}catch(Jt){return a.pendingChunks++,R=a.nextChunkId++,P=Jn(a,Jt,null),Dn(a,R,P),Rn(R)}}function or(a,R){return R=gr(a,R,null,!1,a.abortableTasks),wr(a,R),R.id}function Vn(a,R,P){a.pendingChunks++;var U=a.nextChunkId++;return Tn(a,U,R,P,!1),Rn(U)}var lr=!1;function Qn(a,R,P,U,D){if(R.model=D,D===ne)return"$";if(D===null)return null;if(typeof D=="object"){switch(D.$$typeof){case ne:var Ce=null,Re=a.writtenObjects;if(R.keyPath===null&&!R.implicitSlot){var He=Re.get(D);if(He!==void 0){if(lr!==D)return He;lr=null}else U.indexOf(":")===-1&&(P=Re.get(P))!==void 0&&(Ce=P+":"+U,Re.set(D,Ce))}return 3200<tr?mr(a,R):(P=(U=D.props).ref,typeof(a=function ve(it,Mt,Rt,Ht,Kt,Lt){if(Kt!=null)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if(typeof Rt=="function"&&Rt.$$typeof!==ye&&Rt.$$typeof!==Te)return Br(it,Mt,Ht,Rt,Lt);if(Rt===le&&Ht===null)return Rt=Mt.implicitSlot,Mt.keyPath===null&&(Mt.implicitSlot=!0),Lt=Qn(it,Mt,Er,"",Lt.children),Mt.implicitSlot=Rt,Lt;if(Rt!=null&&typeof Rt=="object"&&Rt.$$typeof!==ye)switch(Rt.$$typeof){case N:if(Rt=(0,Rt._init)(Rt._payload),it.status===12)throw null;return ve(it,Mt,Rt,Ht,Kt,Lt);case x:return Br(it,Mt,Ht,Rt.render,Lt);case A:return ve(it,Mt,Rt.type,Ht,Kt,Lt)}return it=Ht,Ht=Mt.keyPath,it===null?it=Ht:Ht!==null&&(it=Ht+","+it),Lt=[ne,Rt,it,Lt],Mt=Mt.implicitSlot&&it!==null?[Lt]:Lt}(a,R,D.type,D.key,P!==void 0?P:null,U))=="object"&&a!==null&&Ce!==null&&(Re.has(a)||Re.set(a,Ce)),a);case N:if(3200<tr)return mr(a,R);if(R.thenableState=null,D=(U=D._init)(D._payload),a.status===12)throw null;return Qn(a,R,Er,"",D);case at:throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`)}if(D.$$typeof===ye)return Vr(a,P,U,D);if(a.temporaryReferences!==void 0&&(Ce=a.temporaryReferences.get(D))!==void 0)return"$T"+Ce;if(Re=(Ce=a.writtenObjects).get(D),typeof D.then=="function"){if(Re!==void 0){if(R.keyPath!==null||R.implicitSlot)return"$@"+Ar(a,R,D).toString(16);if(lr!==D)return Re;lr=null}return a="$@"+Ar(a,R,D).toString(16),Ce.set(D,a),a}if(Re!==void 0){if(lr!==D)return Re;if(Re!==Rn(R.id))return Re;lr=null}else if(U.indexOf(":")===-1&&(Re=Ce.get(P))!==void 0){if(He=U,Nn(P)&&P[0]===ne)switch(U){case"1":He="type";break;case"2":He="key";break;case"3":He="props";break;case"4":He="_owner"}Ce.set(D,Re+":"+He)}if(Nn(D))return ir(a,R,D);if(D instanceof Map)return"$Q"+or(a,D=Array.from(D)).toString(16);if(D instanceof Set)return"$W"+or(a,D=Array.from(D)).toString(16);if(typeof FormData=="function"&&D instanceof FormData)return"$K"+or(a,D=Array.from(D.entries())).toString(16);if(D instanceof Error)return"$Z";if(D instanceof ArrayBuffer)return Vn(a,"A",new Uint8Array(D));if(D instanceof Int8Array)return Vn(a,"O",D);if(D instanceof Uint8Array)return Vn(a,"o",D);if(D instanceof Uint8ClampedArray)return Vn(a,"U",D);if(D instanceof Int16Array)return Vn(a,"S",D);if(D instanceof Uint16Array)return Vn(a,"s",D);if(D instanceof Int32Array)return Vn(a,"L",D);if(D instanceof Uint32Array)return Vn(a,"l",D);if(D instanceof Float32Array)return Vn(a,"G",D);if(D instanceof Float64Array)return Vn(a,"g",D);if(D instanceof BigInt64Array)return Vn(a,"M",D);if(D instanceof BigUint64Array)return Vn(a,"m",D);if(D instanceof DataView)return Vn(a,"V",D);if(typeof Blob=="function"&&D instanceof Blob)return function(ve,it){function Mt(It){Kt.status===0&&(ve.cacheController.signal.removeEventListener("abort",Rt),sr(ve,Kt,It),bt(ve),Lt.cancel(It).then(Mt,Mt))}function Rt(){if(Kt.status===0){var It=ve.cacheController.signal;It.removeEventListener("abort",Rt),sr(ve,Kt,It=It.reason),bt(ve),Lt.cancel(It).then(Mt,Mt)}}var Ht=[it.type],Kt=gr(ve,Ht,null,!1,ve.abortableTasks),Lt=it.stream().getReader();return ve.cacheController.signal.addEventListener("abort",Rt),Lt.read().then(function It(Jt){if(Kt.status===0)if(Jt.done)ve.cacheController.signal.removeEventListener("abort",Rt),Xn(ve,Kt);else return Ht.push(Jt.value),Lt.read().then(It).catch(Mt)}).catch(Mt),"$B"+Kt.id.toString(16)}(a,D);if(Ce=G(D))return(U=Ce.call(D))===D?"$i"+or(a,Array.from(U)).toString(16):ir(a,R,Array.from(U));if(typeof ReadableStream=="function"&&D instanceof ReadableStream)return function(ve,it,Mt){function Rt(Jt){It.status===0&&(ve.cacheController.signal.removeEventListener("abort",Ht),sr(ve,It,Jt),bt(ve),Lt.cancel(Jt).then(Rt,Rt))}function Ht(){if(It.status===0){var Jt=ve.cacheController.signal;Jt.removeEventListener("abort",Ht),sr(ve,It,Jt=Jt.reason),bt(ve),Lt.cancel(Jt).then(Rt,Rt)}}var Kt=Mt.supportsBYOB;if(Kt===void 0)try{Mt.getReader({mode:"byob"}).releaseLock(),Kt=!0}catch{Kt=!1}var Lt=Mt.getReader(),It=gr(ve,it.model,it.keyPath,it.implicitSlot,ve.abortableTasks);return ve.pendingChunks++,it=It.id.toString(16)+":"+(Kt?"r":"R")+`
`,ve.completedRegularChunks.push(jt(it)),ve.cacheController.signal.addEventListener("abort",Ht),Lt.read().then(function Jt(un){if(It.status===0)if(un.done)It.status=1,un=It.id.toString(16)+`:C
`,ve.completedRegularChunks.push(jt(un)),ve.abortableTasks.delete(It),ve.cacheController.signal.removeEventListener("abort",Ht),bt(ve),kt(ve);else try{It.model=un.value,ve.pendingChunks++,Or(ve,It),bt(ve),Lt.read().then(Jt,Rt)}catch(Bt){Rt(Bt)}},Rt),Rn(It.id)}(a,R,D);if(typeof(Ce=D[B])=="function")return R.keyPath!==null?(a=[ne,le,R.keyPath,{children:D}],a=R.implicitSlot?[a]:a):(U=Ce.call(D),a=function(ve,it,Mt,Rt){function Ht(It){Lt.status===0&&(ve.cacheController.signal.removeEventListener("abort",Kt),sr(ve,Lt,It),bt(ve),typeof Rt.throw=="function"&&Rt.throw(It).then(Ht,Ht))}function Kt(){if(Lt.status===0){var It=ve.cacheController.signal;It.removeEventListener("abort",Kt);var Jt=It.reason;sr(ve,Lt,It.reason),bt(ve),typeof Rt.throw=="function"&&Rt.throw(Jt).then(Ht,Ht)}}Mt=Mt===Rt;var Lt=gr(ve,it.model,it.keyPath,it.implicitSlot,ve.abortableTasks);return ve.pendingChunks++,it=Lt.id.toString(16)+":"+(Mt?"x":"X")+`
`,ve.completedRegularChunks.push(jt(it)),ve.cacheController.signal.addEventListener("abort",Kt),Rt.next().then(function It(Jt){if(Lt.status===0)if(Jt.done){if(Lt.status=1,Jt.value===void 0)var un=Lt.id.toString(16)+`:C
`;else try{var Bt=or(ve,Jt.value);un=Lt.id.toString(16)+":C"+Bn(Rn(Bt))+`
`}catch(Zn){Ht(Zn);return}ve.completedRegularChunks.push(jt(un)),ve.abortableTasks.delete(Lt),ve.cacheController.signal.removeEventListener("abort",Kt),bt(ve),kt(ve)}else try{Lt.model=Jt.value,ve.pendingChunks++,Or(ve,Lt),bt(ve),Rt.next().then(It,Ht)}catch(Zn){Ht(Zn)}},Ht),Rn(Lt.id)}(a,R,D,U)),a;if(D instanceof Date)return"$D"+D.toJSON();if((a=Nr(D))!==hr&&(a===null||Nr(a)!==null))throw Error("Only plain objects, and a few built-ins, can be passed to Client Components from Server Components. Classes or null prototypes are not supported."+Kn(P,U));return D}if(typeof D=="string")return tr+=D.length,D[D.length-1]==="Z"&&P[U]instanceof Date?"$D"+D:1024<=D.length&&Et!==null?(a.pendingChunks++,R=a.nextChunkId++,Dr(a,R,D,!1),Rn(R)):a=D[0]==="$"?"$"+D:D;if(typeof D=="boolean")return D;if(typeof D=="number")return Number.isFinite(D)?D===0&&-1/0==1/D?"$-0":D:1/0===D?"$Infinity":-1/0===D?"$-Infinity":"$NaN";if(D===void 0)return"$undefined";if(typeof D=="function"){if(D.$$typeof===ye)return Vr(a,P,U,D);if(D.$$typeof===L)return(U=(R=a.writtenServerReferences).get(D))!==void 0?a="$F"+U.toString(16):(U=(U=D.$$bound)===null?null:Promise.resolve(U),a=or(a,{id:D.$$id,bound:U}),R.set(D,a),a="$F"+a.toString(16)),a;if(a.temporaryReferences!==void 0&&(a=a.temporaryReferences.get(D))!==void 0)return"$T"+a;throw D.$$typeof===Te?Error("Could not reference an opaque temporary reference. This is likely due to misconfiguring the temporaryReferences options on the server."):/^on[A-Z]/.test(U)?Error("Event handlers cannot be passed to Client Component props."+Kn(P,U)+`
If you need interactivity, consider converting part of this to a Client Component.`):Error('Functions cannot be passed directly to Client Components unless you explicitly expose it by marking it with "use server". Or maybe you meant to call this function rather than return it.'+Kn(P,U))}if(typeof D=="symbol"){if((Ce=(R=a.writtenSymbols).get(D))!==void 0)return Rn(Ce);if(Symbol.for(Ce=D.description)!==D)throw Error("Only global symbols received from Symbol.for(...) can be passed to Client Components. The symbol Symbol.for("+D.description+") cannot be found among global symbols."+Kn(P,U));return a.pendingChunks++,U=a.nextChunkId++,P=ei(a,U,"$S"+Ce),a.completedImportChunks.push(P),R.set(D,U),Rn(U)}if(typeof D=="bigint")return"$n"+D.toString(10);throw Error("Type "+typeof D+" is not supported in Client Component props."+Kn(P,U))}function Jn(a,R){var P=er;er=null;try{var U=a.onError,D=Q?ce.run(void 0,U,R):U(R)}finally{er=P}if(D!=null&&typeof D!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof D+'" instead');return D||""}function ar(a,R){(0,a.onFatalError)(R),a.destination!==null?(a.status=14,de(a.destination,R)):(a.status=13,a.fatalError=R),a.cacheController.abort(Error("The render was aborted due to a fatal error.",{cause:R}))}function Dn(a,R,P){P={digest:P},R=jt(R=R.toString(16)+":E"+Bn(P)+`
`),a.completedErrorChunks.push(R)}function Mr(a,R,P){R=jt(R=R.toString(16)+":"+P+`
`),a.completedRegularChunks.push(R)}function Tn(a,R,P,U,D){D?a.pendingDebugChunks++:a.pendingChunks++,D=new Uint8Array(U.buffer,U.byteOffset,U.byteLength),D=(U=2048<U.byteLength?D.slice():D).byteLength,R=jt(R=R.toString(16)+":"+P+D.toString(16)+","),a.completedRegularChunks.push(R,U)}function Dr(a,R,P,U){if(Et===null)throw Error("Existence of byteLengthOfChunk should have already been checked. This is a bug in React.");U?a.pendingDebugChunks++:a.pendingChunks++,U=(P=jt(P)).byteLength,R=jt(R=R.toString(16)+":T"+U.toString(16)+","),a.completedRegularChunks.push(R,P)}function Ur(a,R,P){var U=R.id;typeof P=="string"&&Et!==null?Dr(a,U,P,!1):P instanceof ArrayBuffer?Tn(a,U,"A",new Uint8Array(P),!1):P instanceof Int8Array?Tn(a,U,"O",P,!1):P instanceof Uint8Array?Tn(a,U,"o",P,!1):P instanceof Uint8ClampedArray?Tn(a,U,"U",P,!1):P instanceof Int16Array?Tn(a,U,"S",P,!1):P instanceof Uint16Array?Tn(a,U,"s",P,!1):P instanceof Int32Array?Tn(a,U,"L",P,!1):P instanceof Uint32Array?Tn(a,U,"l",P,!1):P instanceof Float32Array?Tn(a,U,"G",P,!1):P instanceof Float64Array?Tn(a,U,"g",P,!1):P instanceof BigInt64Array?Tn(a,U,"M",P,!1):P instanceof BigUint64Array?Tn(a,U,"m",P,!1):P instanceof DataView?Tn(a,U,"V",P,!1):(P=Bn(P,R.toJSON),Mr(a,R.id,P))}function sr(a,R,P){R.status=4,P=Jn(a,P,R),Dn(a,R.id,P),a.abortableTasks.delete(R),kt(a)}var Er={};function wr(a,R){if(R.status===0){R.status=5;var P=tr;try{lr=R.model;var U=Qn(a,R,Er,"",R.model);if(lr=U,R.keyPath=null,R.implicitSlot=!1,typeof U=="object"&&U!==null)a.writtenObjects.set(U,Rn(R.id)),Ur(a,R,U);else{var D=Bn(U);Mr(a,R.id,D)}R.status=1,a.abortableTasks.delete(R),kt(a)}catch(ve){if(a.status===12){a.abortableTasks.delete(R),R.status=0;var Ce=a.fatalError;jr(R),be(R,a,Ce)}else{var Re=ve===Ke?vt():ve;if(typeof Re=="object"&&Re!==null&&typeof Re.then=="function"){R.status=0,R.thenableState=gn();var He=R.ping;Re.then(He,He)}else sr(a,R,Re)}}finally{tr=P}}}function Or(a,R){var P=tr;try{Ur(a,R,R.model)}finally{tr=P}}function ur(a){var R=bn.H;bn.H=pr;var P=er;St=er=a;try{var U=a.pingedTasks;a.pingedTasks=[];for(var D=0;D<U.length;D++)wr(a,U[D]);ae(a)}catch(Ce){Jn(a,Ce,null),ar(a,Ce)}finally{bn.H=R,St=null,er=P}}function jr(a){a.status===0&&(a.status=3)}function be(a,R,P){a.status===3&&(P=Rn(P),a=ei(R,a.id,P),R.completedErrorChunks.push(a))}function ae(a){var R=a.destination;if(R!==null){we=new Uint8Array(2048),Pe=0;try{for(var P=a.completedImportChunks,U=0;U<P.length;U++)a.pendingChunks--,Qe(R,P[U]);P.splice(0,U);var D=a.completedHintChunks;for(U=0;U<D.length;U++)Qe(R,D[U]);D.splice(0,U);var Ce=a.completedRegularChunks;for(U=0;U<Ce.length;U++)a.pendingChunks--,Qe(R,Ce[U]);Ce.splice(0,U);var Re=a.completedErrorChunks;for(U=0;U<Re.length;U++)a.pendingChunks--,Qe(R,Re[U]);Re.splice(0,U)}finally{a.flushScheduled=!1,we&&0<Pe&&(R.enqueue(new Uint8Array(we.buffer,0,Pe)),we=null,Pe=0)}}a.pendingChunks===0&&(12>a.status&&a.cacheController.abort(Error("This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.")),a.destination!==null&&(a.status=14,a.destination.close(),a.destination=null))}function ct(a){a.flushScheduled=a.destination!==null,Ee(Q?function(){ce.run(a,ur,a)}:function(){return ur(a)}),setTimeout(function(){a.status===10&&(a.status=11)},0)}function bt(a){a.flushScheduled===!1&&a.pingedTasks.length===0&&a.destination!==null&&(a.flushScheduled=!0,setTimeout(function(){a.flushScheduled=!1,ae(a)},0))}function kt(a){a.abortableTasks.size===0&&(a=a.onAllReady)()}function Wt(a,R){if(a.status===13)a.status=14,de(R,a.fatalError);else if(a.status!==14&&a.destination===null){a.destination=R;try{ae(a)}catch(P){Jn(a,P,null),ar(a,P)}}}function cn(a,R){if(!(11<a.status))try{a.status=12,a.cacheController.abort(R);var P=a.abortableTasks;if(0<P.size){var U=R===void 0?Error("The render was aborted by the server without a reason."):typeof R=="object"&&R!==null&&typeof R.then=="function"?Error("The render was aborted by the server with a promise."):R,D=Jn(a,U,null),Ce=a.nextChunkId++;a.fatalError=Ce,a.pendingChunks++,Dn(a,Ce,D,U,!1),P.forEach(function(Re){return jr(Re,a,Ce)}),setTimeout(function(){try{P.forEach(function(Re){return be(Re,a,Ce)}),(0,a.onAllReady)(),ae(a)}catch(Re){Jn(a,Re,null),ar(a,Re)}},0)}else(0,a.onAllReady)(),ae(a)}catch(Re){Jn(a,Re,null),ar(a,Re)}}function Qt(a,R){var P="",U=a[R];if(U)P=U.name;else{var D=R.lastIndexOf("#");if(D!==-1&&(P=R.slice(D+1),U=a[R.slice(0,D)]),!U)throw Error('Could not find the module "'+R+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return[U.id,U.chunks,P]}function zt(a){var R=Tt.__next_require__(a);return typeof R.then!="function"||R.status==="fulfilled"?null:(R.then(function(P){R.status="fulfilled",R.value=P},function(P){R.status="rejected",R.reason=P}),R)}var Cn=new WeakSet,on=new WeakSet;function ln(){}function An(a){for(var R=a[1],P=[],U=0;U<R.length;U++){var D=Tt.__next_chunk_load__(R[U]);if(on.has(D)||P.push(D),!Cn.has(D)){var Ce=on.add.bind(on,D);D.then(Ce,ln),Cn.add(D)}}return a.length===4?P.length===0?zt(a[0]):Promise.all(P).then(function(){return zt(a[0])}):0<P.length?Promise.all(P):null}function Zt(a){var R=Tt.__next_require__(a[0]);if(a.length===4&&typeof R.then=="function")if(R.status==="fulfilled")R=R.value;else throw R.reason;return a[2]==="*"?R:a[2]===""?R.__esModule?R.default:R:R[a[2]]}function an(a,R,P,U){this.status=a,this.value=R,this.reason=P,this._response=U}function ht(a){return new an("pending",null,null,a)}function t(a,R){for(var P=0;P<a.length;P++)(0,a[P])(R)}function e(a,R){if(a.status!=="pending"&&a.status!=="blocked")a.reason.error(R);else{var P=a.reason;a.status="rejected",a.reason=R,P!==null&&t(P,R)}}function nn(a,R,P){if(a.status!=="pending")a=a.reason,R[0]==="C"?a.close(R==="C"?'"$undefined"':R.slice(1)):a.enqueueModel(R);else{var U=a.value,D=a.reason;if(a.status="resolved_model",a.value=R,a.reason=P,U!==null)switch(Hn(a),a.status){case"fulfilled":t(U,a.value);break;case"pending":case"blocked":case"cyclic":if(a.value)for(R=0;R<U.length;R++)a.value.push(U[R]);else a.value=U;if(a.reason){if(D)for(R=0;R<D.length;R++)a.reason.push(D[R])}else a.reason=D;break;case"rejected":D&&t(D,a.reason)}}}function pn(a,R,P){return new an("resolved_model",(P?'{"done":true,"value":':'{"done":false,"value":')+R+"}",-1,a)}function dn(a,R,P){nn(a,(P?'{"done":true,"value":':'{"done":false,"value":')+R+"}",-1)}an.prototype=Object.create(Promise.prototype),an.prototype.then=function(a,R){switch(this.status==="resolved_model"&&Hn(this),this.status){case"fulfilled":a(this.value);break;case"pending":case"blocked":case"cyclic":a&&(this.value===null&&(this.value=[]),this.value.push(a)),R&&(this.reason===null&&(this.reason=[]),this.reason.push(R));break;default:R(this.reason)}};var Un=null,Xt=null;function Hn(a){var R=Un,P=Xt;Un=a,Xt=null;var U=a.reason===-1?void 0:a.reason.toString(16),D=a.value;a.status="cyclic",a.value=null,a.reason=null;try{var Ce=JSON.parse(D),Re=function ve(it,Mt,Rt,Ht,Kt){if(typeof Ht=="string")return function(It,Jt,un,Bt,Zn){if(Bt[0]==="$"){switch(Bt[1]){case"$":return Bt.slice(1);case"@":return nr(It,Jt=parseInt(Bt.slice(2),16));case"F":return Bt=hn(It,Bt=Bt.slice(2),Jt,un,Mn),function(Pr,zn,Ir,ti,ni,ci){var Cr=Qt(Pr._bundlerConfig,zn);if(zn=An(Cr),Ir)Ir=Promise.all([Ir,zn]).then(function(cr){cr=cr[0];var di=Zt(Cr);return di.bind.apply(di,[null].concat(cr))});else{if(!zn)return Zt(Cr);Ir=Promise.resolve(zn).then(function(){return Zt(Cr)})}return Ir.then(Wn(ti,ni,ci,!1,Pr,Mn,[]),In(ti)),null}(It,Bt.id,Bt.bound,Un,Jt,un);case"T":var Jr,Lr;if(Zn===void 0||It._temporaryReferences===void 0)throw Error("Could not reference an opaque temporary reference. This is likely due to misconfiguring the temporaryReferences options on the server.");return Jr=It._temporaryReferences,Lr=new Proxy(Lr=Object.defineProperties(function(){throw Error("Attempted to call a temporary Client Reference from the server but it is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},{$$typeof:{value:Te}}),dt),Jr.set(Lr,Zn),Lr;case"Q":return hn(It,Bt=Bt.slice(2),Jt,un,jn);case"W":return hn(It,Bt=Bt.slice(2),Jt,un,kn);case"K":Jt=Bt.slice(2);var Wr=It._prefix+Jt+"_",ui=new FormData;return It._formData.forEach(function(Pr,zn){zn.startsWith(Wr)&&ui.append(zn.slice(Wr.length),Pr)}),ui;case"i":return hn(It,Bt=Bt.slice(2),Jt,un,xn);case"I":return 1/0;case"-":return Bt==="$-0"?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(Bt.slice(2)));case"n":return BigInt(Bt.slice(2))}switch(Bt[1]){case"A":return fn(It,Bt,ArrayBuffer,1,Jt,un);case"O":return fn(It,Bt,Int8Array,1,Jt,un);case"o":return fn(It,Bt,Uint8Array,1,Jt,un);case"U":return fn(It,Bt,Uint8ClampedArray,1,Jt,un);case"S":return fn(It,Bt,Int16Array,2,Jt,un);case"s":return fn(It,Bt,Uint16Array,2,Jt,un);case"L":return fn(It,Bt,Int32Array,4,Jt,un);case"l":return fn(It,Bt,Uint32Array,4,Jt,un);case"G":return fn(It,Bt,Float32Array,4,Jt,un);case"g":return fn(It,Bt,Float64Array,8,Jt,un);case"M":return fn(It,Bt,BigInt64Array,8,Jt,un);case"m":return fn(It,Bt,BigUint64Array,8,Jt,un);case"V":return fn(It,Bt,DataView,1,Jt,un);case"B":return Jt=parseInt(Bt.slice(2),16),It._formData.get(It._prefix+Jt)}switch(Bt[1]){case"R":return br(It,Bt,void 0);case"r":return br(It,Bt,"bytes");case"X":return Sn(It,Bt,!1);case"x":return Sn(It,Bt,!0)}return hn(It,Bt=Bt.slice(1),Jt,un,Mn)}return Bt}(it,Mt,Rt,Ht,Kt);if(typeof Ht=="object"&&Ht!==null)if(Kt!==void 0&&it._temporaryReferences!==void 0&&it._temporaryReferences.set(Ht,Kt),Array.isArray(Ht))for(var Lt=0;Lt<Ht.length;Lt++)Ht[Lt]=ve(it,Ht,""+Lt,Ht[Lt],Kt!==void 0?Kt+":"+Lt:void 0);else for(Lt in Ht)Hr.call(Ht,Lt)&&(Mt=Kt!==void 0&&Lt.indexOf(":")===-1?Kt+":"+Lt:void 0,(Mt=ve(it,Ht,Lt,Ht[Lt],Mt))!==void 0?Ht[Lt]=Mt:delete Ht[Lt]);return Ht}(a._response,{"":Ce},"",Ce,U);if(Xt!==null&&0<Xt.deps)Xt.value=Re,a.status="blocked";else{var He=a.value;a.status="fulfilled",a.value=Re,He!==null&&t(He,Re)}}catch(ve){a.status="rejected",a.reason=ve}finally{Un=R,Xt=P}}function qn(a,R){a._closed=!0,a._closedReason=R,a._chunks.forEach(function(P){P.status==="pending"&&e(P,R)})}function nr(a,R){var P=a._chunks,U=P.get(R);return U||(U=(U=a._formData.get(a._prefix+R))!=null?new an("resolved_model",U,R,a):a._closed?new an("rejected",null,a._closedReason,a):ht(a),P.set(R,U)),U}function Wn(a,R,P,U,D,Ce,Re){if(Xt){var He=Xt;U||He.deps++}else He=Xt={deps:+!U,value:null};return function(ve){for(var it=1;it<Re.length;it++)ve=ve[Re[it]];R[P]=Ce(D,ve),P===""&&He.value===null&&(He.value=R[P]),He.deps--,He.deps===0&&a.status==="blocked"&&(ve=a.value,a.status="fulfilled",a.value=He.value,ve!==null&&t(ve,He.value))}}function In(a){return function(R){return e(a,R)}}function hn(a,R,P,U,D){var Ce=parseInt((R=R.split(":"))[0],16);switch((Ce=nr(a,Ce)).status==="resolved_model"&&Hn(Ce),Ce.status){case"fulfilled":for(U=1,P=Ce.value;U<R.length;U++)P=P[R[U]];return D(a,P);case"pending":case"blocked":case"cyclic":var Re=Un;return Ce.then(Wn(Re,P,U,Ce.status==="cyclic",a,D,R),In(Re)),null;default:throw Ce.reason}}function jn(a,R){return new Map(R)}function kn(a,R){return new Set(R)}function xn(a,R){return R[Symbol.iterator]()}function Mn(a,R){return R}function fn(a,R,P,U,D,Ce){return R=parseInt(R.slice(2),16),R=a._formData.get(a._prefix+R),R=P===ArrayBuffer?R.arrayBuffer():R.arrayBuffer().then(function(Re){return new P(Re)}),U=Un,R.then(Wn(U,D,Ce,!1,a,Mn,[]),In(U)),null}function yr(a,R,P,U){var D=a._chunks;for(P=new an("fulfilled",P,U,a),D.set(R,P),a=a._formData.getAll(a._prefix+R),R=0;R<a.length;R++)(D=a[R])[0]==="C"?U.close(D==="C"?'"$undefined"':D.slice(1)):U.enqueueModel(D)}function br(a,R,P){R=parseInt(R.slice(2),16);var U=null;P=new ReadableStream({type:P,start:function(Ce){U=Ce}});var D=null;return yr(a,R,P,{enqueueModel:function(Ce){if(D===null){var Re=new an("resolved_model",Ce,-1,a);Hn(Re),Re.status==="fulfilled"?U.enqueue(Re.value):(Re.then(function(ve){return U.enqueue(ve)},function(ve){return U.error(ve)}),D=Re)}else{Re=D;var He=ht(a);He.then(function(ve){return U.enqueue(ve)},function(ve){return U.error(ve)}),D=He,Re.then(function(){D===He&&(D=null),nn(He,Ce,-1)})}},close:function(){if(D===null)U.close();else{var Ce=D;D=null,Ce.then(function(){return U.close()})}},error:function(Ce){if(D===null)U.error(Ce);else{var Re=D;D=null,Re.then(function(){return U.error(Ce)})}}}),P}function vr(){return this}function Sn(a,R,P){R=parseInt(R.slice(2),16);var U=[],D=!1,Ce=0,Re={};return Re[B]=function(){var He,ve=0;return(He={next:He=function(it){if(it!==void 0)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(ve===U.length){if(D)return new an("fulfilled",{done:!0,value:void 0},null,a);U[ve]=ht(a)}return U[ve++]}})[B]=vr,He},yr(a,R,P=P?Re[B]():Re,{enqueueModel:function(He){Ce===U.length?U[Ce]=pn(a,He,!1):dn(U[Ce],He,!1),Ce++},close:function(He){for(D=!0,Ce===U.length?U[Ce]=pn(a,He,!0):dn(U[Ce],He,!0),Ce++;Ce<U.length;)dn(U[Ce++],'"$undefined"',!0)},error:function(He){for(D=!0,Ce===U.length&&(U[Ce]=ht(a));Ce<U.length;)e(U[Ce++],He)}}),P}function sn(a,R,P){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:new FormData;return{_bundlerConfig:a,_prefix:R,_formData:U,_chunks:new Map,_closed:!1,_closedReason:null,_temporaryReferences:P}}function Fn(a){qn(a,Error("Connection closed."))}function rr(a,R,P){var U=Qt(a,R);return a=An(U),P?Promise.all([P,a]).then(function(D){D=D[0];var Ce=Zt(U);return Ce.bind.apply(Ce,[null].concat(D))}):a?Promise.resolve(a).then(function(){return Zt(U)}):Promise.resolve(Zt(U))}function vi(a,R,P){if(Fn(a=sn(R,P,void 0,a)),(a=nr(a,0)).then(function(){}),a.status!=="fulfilled")throw a.reason;return a.value}Ye.createClientModuleProxy=function(a){return new Proxy(a=H({},a,!1),yt)},Ye.createTemporaryReferenceSet=function(){return new WeakMap},Ye.decodeAction=function(a,R){var P=new FormData,U=null;return a.forEach(function(D,Ce){Ce.startsWith("$ACTION_")?Ce.startsWith("$ACTION_REF_")?(D=vi(a,R,D="$ACTION_"+Ce.slice(12)+":"),U=rr(R,D.id,D.bound)):Ce.startsWith("$ACTION_ID_")&&(U=rr(R,D=Ce.slice(11),null)):P.append(Ce,D)}),U===null?null:U.then(function(D){return D.bind(null,P)})},Ye.decodeFormState=function(a,R,P){var U=R.get("$ACTION_KEY");if(typeof U!="string")return Promise.resolve(null);var D=null;if(R.forEach(function(Re,He){He.startsWith("$ACTION_REF_")&&(D=vi(R,P,"$ACTION_"+He.slice(12)+":"))}),D===null)return Promise.resolve(null);var Ce=D.id;return Promise.resolve(D.bound).then(function(Re){return Re===null?null:[a,U,Ce,Re.length-1]})},Ye.decodeReply=function(a,R,P){if(typeof a=="string"){var U=new FormData;U.append("0",a),a=U}return R=nr(a=sn(R,"",P?P.temporaryReferences:void 0,a),0),Fn(a),R},Ye.decodeReplyFromAsyncIterable=function(a,R,P){function U(Re){qn(Ce,Re),typeof D.throw=="function"&&D.throw(Re).then(U,U)}var D=a[B](),Ce=sn(R,"",P?P.temporaryReferences:void 0);return D.next().then(function Re(He){if(He.done)Fn(Ce);else{var ve=(He=He.value)[0];if(typeof(He=He[1])=="string"){Ce._formData.append(ve,He);var it=Ce._prefix;if(ve.startsWith(it)){var Mt=Ce._chunks;ve=+ve.slice(it.length),(Mt=Mt.get(ve))&&nn(Mt,He,ve)}}else Ce._formData.append(ve,He);D.next().then(Re,U)}},U),nr(Ce,0)},Ye.registerClientReference=function(a,R,P){return H(a,R+"#"+P,!1)},Ye.registerServerReference=function(a,R,P){return Object.defineProperties(a,{$$typeof:{value:L},$$id:{value:P===null?R:R+"#"+P,configurable:!0},$$bound:{value:null,configurable:!0},bind:{value:ge,configurable:!0}})},Ye.renderToReadableStream=function(a,R,P){var U=new kr(20,a,R,P?P.onError:void 0,P?P.onPostpone:void 0,qe,qe,P?P.identifierPrefix:void 0,P?P.temporaryReferences:void 0);if(P&&P.signal){var D=P.signal;if(D.aborted)cn(U,D.reason);else{var Ce=function(){cn(U,D.reason),D.removeEventListener("abort",Ce)};D.addEventListener("abort",Ce)}}return new ReadableStream({type:"bytes",start:function(){ct(U)},pull:function(Re){Wt(U,Re)},cancel:function(Re){U.destination=null,cn(U,Re)}},{highWaterMark:0})},Ye.unstable_prerender=function(a,R,P){return new Promise(function(U,D){var Ce=new kr(21,a,R,P?P.onError:void 0,P?P.onPostpone:void 0,function(){U({prelude:new ReadableStream({type:"bytes",pull:function(ve){Wt(Ce,ve)},cancel:function(ve){Ce.destination=null,cn(Ce,ve)}},{highWaterMark:0})})},D,P?P.identifierPrefix:void 0,P?P.temporaryReferences:void 0);if(P&&P.signal){var Re=P.signal;if(Re.aborted)cn(Ce,Re.reason);else{var He=function(){cn(Ce,Re.reason),Re.removeEventListener("abort",He)};Re.addEventListener("abort",He)}}ct(Ce)})}},24346,(F,Ct,Ye)=>{"use strict";var ke;Ye.renderToReadableStream=(ke=F.r(39608)).renderToReadableStream,Ye.decodeReply=ke.decodeReply,Ye.decodeReplyFromAsyncIterable=ke.decodeReplyFromAsyncIterable,Ye.decodeAction=ke.decodeAction,Ye.decodeFormState=ke.decodeFormState,Ye.registerServerReference=ke.registerServerReference,Ye.registerClientReference=ke.registerClientReference,Ye.createClientModuleProxy=ke.createClientModuleProxy,Ye.createTemporaryReferenceSet=ke.createTemporaryReferenceSet},62315,(F,Ct,Ye)=>{let{createClientModuleProxy:ke}=F.r(24346);F.n(ke("[project]/node_modules/.pnpm/next@15.5.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/shared/lib/app-router-context.shared-runtime.js <module evaluation>"))},97495,(F,Ct,Ye)=>{let{createClientModuleProxy:ke}=F.r(24346);F.n(ke("[project]/node_modules/.pnpm/next@15.5.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/shared/lib/app-router-context.shared-runtime.js"))},52444,F=>{"use strict";F.i(62315);var Ct=F.i(97495);F.n(Ct)},57102,F=>{"use strict";F.s(["actionAsyncStorage",()=>Ct.actionAsyncStorageInstance]),F.i(34462);var Ct=F.i(98825)},22672,F=>{"use strict";let Ct;F.s(["AppRouteRouteModule",()=>or,"WrappedNextRouterError",()=>Vr,"default",()=>Vn,"hasNonStaticMethods",()=>lr],22672),F.i(5570);let Ye={client:"client",server:"server",edgeServer:"edge-server"};Ye.client,Ye.server,Ye.edgeServer,Symbol("polyfills");var ke,At=F.i(75773),at=F.i(93663);F.i(29928);var ne=F.i(6201),le=F.i(69171),C=F.i(89087),x=F.i(94499),j=F.i(55116),$=F.i(81029),A=F.i(43538);function N(be){return(0,A.pathHasPrefix)(be||"/","/_next/data")&&(be=be.replace(/\/_next\/data\/[^/]{1,}/,"").replace(/\.json$/,""))==="/index"?"/":be}var J=F.i(62662);F.i(33852);var O=F.i(20312);F.i(52836),F.i(34942);var G=F.i(22821);let B=Symbol.for("@next/router-server-methods"),fe=Tt;var re=F.i(19749),Ee=F.i(61405);F.i(96079);class we{constructor({userland:ae,definition:ct,distDir:bt,relativeProjectDir:kt}){this.userland=ae,this.definition=ct,this.isDev=!1,this.distDir=bt,this.relativeProjectDir=kt}async instrumentationOnRequestError(ae,...ct){{let{getEdgeInstrumentationModule:bt}=await Promise.resolve().then(()=>F.i(41769)),kt=await bt();kt&&await(kt.onRequestError==null?void 0:kt.onRequestError.call(kt,...ct))}}loadManifests(ae,ct){{var bt;let{getEdgePreviewProps:kt}=F.r(72095),Wt=cn=>cn?JSON.parse(cn):void 0;return{buildId:"8hYIFHctHeF0iqToEWNp9",buildManifest:yn.__BUILD_MANIFEST,fallbackBuildManifest:{},reactLoadableManifest:Wt(yn.__REACT_LOADABLE_MANIFEST),nextFontManifest:Wt(yn.__NEXT_FONT_MANIFEST),prerenderManifest:{routes:{},dynamicRoutes:{},notFoundRoutes:[],version:4,preview:kt()},routesManifest:{version:4,caseSensitive:!1,basePath:"",rewrites:{beforeFiles:[],afterFiles:[],fallback:[]},redirects:[],headers:[],i18n:void 0,skipMiddlewareUrlNormalize:!1},serverFilesManifest:{config:Tt.nextConfig||{}},clientReferenceManifest:(bt=yn.__RSC_MANIFEST)==null?void 0:bt[ae],serverActionsManifest:Wt(yn.__RSC_SERVER_MANIFEST),subresourceIntegrityManifest:Wt(yn.__SUBRESOURCE_INTEGRITY_MANIFEST),dynamicCssManifest:Wt(yn.__DYNAMIC_CSS_MANIFEST),interceptionRoutePatterns:(Wt(yn.__INTERCEPTION_ROUTE_REWRITE_MANIFEST)??[]).map(cn=>new RegExp(cn.regex))}}}async loadCustomCacheHandlers(ae,ct){}async getIncrementalCache(ae,ct,bt){return Tt.__incrementalCache}async onRequestError(ae,ct,bt,kt){kt?.logErrorWithOriginalStack?kt.logErrorWithOriginalStack(ct,"app-dir"):console.error(ct),await this.instrumentationOnRequestError(ae,ct,{path:ae.url||"/",headers:ae.headers,method:ae.method||"GET"},bt)}async prepare(ae,ct,{srcPage:bt,multiZoneDraftMode:kt}){var Wt;let cn,Qt,zt,Cn,on=await this.loadManifests(bt,cn),{routesManifest:ln,prerenderManifest:An,serverFilesManifest:Zt}=on,{basePath:an,i18n:ht,rewrites:t}=ln;an&&(ae.url=(0,le.removePathPrefix)(ae.url||"/",an));let e=(0,At.parseReqUrl)(ae.url||"/");if(!e)return;let nn=!1;(0,A.pathHasPrefix)(e.pathname||"/","/_next/data")&&(nn=!0,e.pathname=N(e.pathname||"/"));let pn=e.pathname||"/",dn={...e.query},Un=(0,ne.isDynamicRoute)(bt);ht&&(Qt=(0,at.normalizeLocalePath)(e.pathname||"/",ht.locales)).detectedLocale&&(ae.url=`${Qt.pathname}${e.search}`,pn=Qt.pathname,zt||(zt=Qt.detectedLocale));let Xt=(0,C.getServerUtils)({page:bt,i18n:ht,basePath:an,rewrites:t,pageIsDynamic:Un,trailingSlash:!1,caseSensitive:!!ln.caseSensitive}),Hn=(0,x.detectDomainLocale)(ht?.domains,(0,j.getHostname)(e,ae.headers),zt);(0,J.addRequestMeta)(ae,"isLocaleDomain",!!Hn);let qn=Hn?.defaultLocale||ht?.defaultLocale;qn&&!zt&&(e.pathname=`/${qn}${e.pathname==="/"?"":e.pathname}`);let nr=(0,J.getRequestMeta)(ae,"locale")||zt||qn,Wn=Object.keys(Xt.handleRewrites(ae,e));ht&&(e.pathname=(0,at.normalizeLocalePath)(e.pathname||"/",ht.locales).pathname);let In=(0,J.getRequestMeta)(ae,"params");if(!In&&Xt.dynamicRouteMatcher){let sn=Xt.dynamicRouteMatcher(N(Qt?.pathname||e.pathname||"/")),Fn=Xt.normalizeDynamicRouteParams(sn||{},!0);Fn.hasValidParams&&(In=Fn.params)}let hn=(0,J.getRequestMeta)(ae,"query")||{...e.query},jn=new Set,kn=[];if(!this.isAppRouter)for(let sn of[...Wn,...Object.keys(Xt.defaultRouteMatches||{})]){let Fn=Array.isArray(dn[sn])?dn[sn].join(""):dn[sn],rr=Array.isArray(hn[sn])?hn[sn].join(""):hn[sn];sn in dn&&Fn!==rr||kn.push(sn)}if(Xt.normalizeCdnUrl(ae,kn),Xt.normalizeQueryParams(hn,jn),Xt.filterInternalQuery(dn,kn),Un){let sn=Xt.normalizeDynamicRouteParams(hn,!0),Fn=Xt.normalizeDynamicRouteParams(In||{},!0).hasValidParams&&In?In:sn.hasValidParams?hn:{};if(ae.url=Xt.interpolateDynamicPath(ae.url||"/",Fn),e.pathname=Xt.interpolateDynamicPath(e.pathname||"/",Fn),pn=Xt.interpolateDynamicPath(pn,Fn),!In)if(sn.hasValidParams)for(let rr in In=Object.assign({},sn.params),Xt.defaultRouteMatches)delete hn[rr];else{let rr=Xt.dynamicRouteMatcher==null?void 0:Xt.dynamicRouteMatcher.call(Xt,N(Qt?.pathname||e.pathname||"/"));rr&&(In=Object.assign({},rr))}}for(let sn of jn)sn in dn||delete hn[sn];let{isOnDemandRevalidate:xn,revalidateOnlyGenerated:Mn}=(0,$.checkIsOnDemandRevalidate)(ae,An.preview),fn=(0,J.getRequestMeta)(ae,"relativeProjectDir")||this.relativeProjectDir,yr=(Wt=fe[B])==null?void 0:Wt[fn],br=yr?.nextConfig||Zt.config,vr=(0,O.normalizeAppPath)(bt),Sn=(0,J.getRequestMeta)(ae,"rewroteURL")||vr;(0,ne.isDynamicRoute)(Sn)&&In&&(Sn=Xt.interpolateDynamicPath(Sn,In)),Sn==="/index"&&(Sn="/");try{Sn=Sn.split("/").map(sn=>{try{var Fn;Fn=decodeURIComponent(sn),sn=Fn.replace(RegExp("([/#?]|%(2f|23|3f|5c))","gi"),rr=>encodeURIComponent(rr))}catch{throw Object.defineProperty(new re.DecodeError("Failed to decode path param(s)."),"__NEXT_ERROR_CODE",{value:"E539",enumerable:!1,configurable:!0})}return sn}).join("/")}catch{}return Sn=(0,Ee.removeTrailingSlash)(Sn),{query:hn,originalQuery:dn,originalPathname:pn,params:In,parsedUrl:e,locale:nr,isNextDataRequest:nn,locales:ht?.locales,defaultLocale:qn,isDraftMode:!1,previewData:Cn,pageIsDynamic:Un,resolvedPathname:Sn,isOnDemandRevalidate:xn,revalidateOnlyGenerated:Mn,...on,serverActionsManifest:on.serverActionsManifest,clientReferenceManifest:on.clientReferenceManifest,nextConfig:br,routerServerContext:yr}}getResponseCache(ae){if(!this.responseCache){let ct=(0,J.getRequestMeta)(ae,"minimalMode")??!1;this.responseCache=new G.default(ct)}return this.responseCache}async handleResponse({req:ae,nextConfig:ct,cacheKey:bt,routeKind:kt,isFallback:Wt,prerenderManifest:cn,isRoutePPREnabled:Qt,isOnDemandRevalidate:zt,revalidateOnlyGenerated:Cn,responseGenerator:on,waitUntil:ln}){let An=this.getResponseCache(ae),Zt=await An.get(bt,on,{routeKind:kt,isFallback:Wt,isRoutePPREnabled:Qt,isOnDemandRevalidate:zt,isPrefetch:ae.headers.purpose==="prefetch",incrementalCache:await this.getIncrementalCache(ae,ct,cn),waitUntil:ln});if(!Zt&&bt&&!(zt&&Cn))throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return Zt}}var Pe=F.i(8749),Qe=F.i(98775);let st=["GET","HEAD","OPTIONS","POST","PUT","DELETE","PATCH"];var jt=F.i(39812),Et=F.i(25927),de=F.i(24219),ye=F.i(57690);let{env:L,stdout:H}=((ke=Tt)==null?void 0:ke.process)??{},z=L&&!L.NO_COLOR&&(L.FORCE_COLOR||H?.isTTY&&!L.CI&&L.TERM!=="dumb"),ie=(be,ae,ct,bt)=>{let kt=be.substring(0,bt)+ct,Wt=be.substring(bt+ae.length),cn=Wt.indexOf(ae);return~cn?kt+ie(Wt,ae,ct,cn):kt+Wt},ge=(be,ae,ct=be)=>z?bt=>{let kt=""+bt,Wt=kt.indexOf(ae,be.length);return~Wt?be+ie(kt,ae,ct,Wt)+ae:be+kt+ae}:String,ut=ge("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m");ge("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),ge("\x1B[3m","\x1B[23m"),ge("\x1B[4m","\x1B[24m"),ge("\x1B[7m","\x1B[27m"),ge("\x1B[8m","\x1B[28m"),ge("\x1B[9m","\x1B[29m"),ge("\x1B[30m","\x1B[39m");let Ge=ge("\x1B[31m","\x1B[39m"),gt=ge("\x1B[32m","\x1B[39m"),yt=ge("\x1B[33m","\x1B[39m");ge("\x1B[34m","\x1B[39m");let Vt=ge("\x1B[35m","\x1B[39m");ge("\x1B[38;2;173;127;168m","\x1B[39m"),ge("\x1B[36m","\x1B[39m");let q=ge("\x1B[37m","\x1B[39m");ge("\x1B[90m","\x1B[39m"),ge("\x1B[40m","\x1B[49m"),ge("\x1B[41m","\x1B[49m"),ge("\x1B[42m","\x1B[49m"),ge("\x1B[43m","\x1B[49m"),ge("\x1B[44m","\x1B[49m"),ge("\x1B[45m","\x1B[49m"),ge("\x1B[46m","\x1B[49m"),ge("\x1B[47m","\x1B[49m");var V=F.i(94129);q(ut("\u25CB")),Ge(ut("\u2A2F")),yt(ut("\u26A0")),q(ut(" ")),gt(ut("\u2713")),Vt(ut("\xBB")),new V.LRUCache(1e4,be=>be.length);let Q=["HEAD","OPTIONS"];function ce(){return new Response(null,{status:405})}var Te=F.i(56289),dt=F.i(12984);F.i(88926),F.i(25067);var qe=F.i(20349),Ke=F.i(91093);let $e=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401}));function vt(be){if(typeof be!="object"||be===null||!("digest"in be)||typeof be.digest!="string")return!1;let[ae,ct]=be.digest.split(";");return ae==="NEXT_HTTP_ERROR_FALLBACK"&&$e.has(Number(ct))}var St=F.i(91304);function et(be){if(typeof be!="object"||be===null||!("digest"in be)||typeof be.digest!="string")return!1;let ae=be.digest.split(";"),[ct,bt]=ae,kt=ae.slice(2,-2).join(";"),Wt=Number(ae.at(-2));return ct==="NEXT_REDIRECT"&&(bt==="replace"||bt==="push")&&typeof kt=="string"&&!isNaN(Wt)&&Wt in St.RedirectStatusCode}var en=F.i(90812);function gn(be,ae){let ct;if(!function(bt){if((0,qe.isBailoutToCSRError)(bt)||et(bt)||vt(bt)||(0,Ke.isDynamicServerError)(bt)||(0,en.isPrerenderInterruptedError)(bt))return bt.digest}(be)){if(typeof be=="object"&&be!==null&&"message"in be&&typeof be.message=="string"&&be.message.startsWith("This rendered a large document (>"))return void console.error(be);if(typeof be=="object"&&be!==null&&typeof be.message=="string"){if(ct=be.message,typeof be.stack=="string"){let bt=be.stack,kt=bt.indexOf(`
`);if(kt>-1){let Wt=Object.defineProperty(Error(`Route ${ae} errored during the prospective render. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled.
          
Original Error: ${ct}`),"__NEXT_ERROR_CODE",{value:"E362",enumerable:!1,configurable:!0});Wt.stack="Error: "+Wt.message+bt.slice(kt),console.error(Wt);return}}}else typeof be=="string"&&(ct=be);if(ct)return void console.error(`Route ${ae} errored during the prospective render. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled. No stack was provided.
          
Original Message: ${ct}`);console.error(`Route ${ae} errored during the prospective render. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled. The thrown value is logged just following this message`),console.error(be)}}F.i(41338);var pr=F.i(4878),vn=F.i(33672),En=F.i(53801);F.i(34462);var $t=F.i(98825),$t=$t;F.s([],6414);var Gn=F.i(52444);F.s(["appRouterContext",()=>bn],43826),F.i(6414);var bn=Gn,Nn=F.i(43826),Nr=F.i(35006),fr=F.i(62812),Tr=F.i(84274),Yn=F.i(14655),Kn=F.i(3998);class Hr{constructor(){throw this.count=0,this.earlyListeners=[],this.listeners=[],this.tickPending=!1,this.taskPending=!1,this.subscribedSignals=null,Object.defineProperty(new Kn.InvariantError("CacheSignal cannot be used in the edge runtime, because `cacheComponents` does not support it."),"__NEXT_ERROR_CODE",{value:"E685",enumerable:!1,configurable:!0})}noMorePendingCaches(){this.tickPending||(this.tickPending=!0,process.nextTick(()=>{if(this.tickPending=!1,this.count===0){for(let ae=0;ae<this.earlyListeners.length;ae++)this.earlyListeners[ae]();this.earlyListeners.length=0}})),this.taskPending||(this.taskPending=!0,setTimeout(()=>{if(this.taskPending=!1,this.count===0){for(let ae=0;ae<this.listeners.length;ae++)this.listeners[ae]();this.listeners.length=0}},0))}inputReady(){return new Promise(ae=>{this.earlyListeners.push(ae),this.count===0&&this.noMorePendingCaches()})}cacheReady(){return new Promise(ae=>{this.listeners.push(ae),this.count===0&&this.noMorePendingCaches()})}beginRead(){if(this.count++,this.subscribedSignals!==null)for(let ae of this.subscribedSignals)ae.beginRead()}endRead(){if(this.count===0)throw Object.defineProperty(new Kn.InvariantError("CacheSignal got more endRead() calls than beginRead() calls"),"__NEXT_ERROR_CODE",{value:"E678",enumerable:!1,configurable:!0});if(this.count--,this.count===0&&this.noMorePendingCaches(),this.subscribedSignals!==null)for(let ae of this.subscribedSignals)ae.endRead()}trackRead(ae){this.beginRead();let ct=this.endRead.bind(this);return ae.then(ct,ct),ae}subscribeToReads(ae){if(ae===this)throw Object.defineProperty(new Kn.InvariantError("A CacheSignal cannot subscribe to itself"),"__NEXT_ERROR_CODE",{value:"E679",enumerable:!1,configurable:!0});this.subscribedSignals===null&&(this.subscribedSignals=new Set),this.subscribedSignals.add(ae);for(let ct=0;ct<this.count;ct++)ae.beginRead();return this.unsubscribeFromReads.bind(this,ae)}unsubscribeFromReads(ae){this.subscribedSignals&&this.subscribedSignals.delete(ae)}}var hr=F.i(43303);let Bn=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function Rr(be,ae){return Bn.test(ae)?"`"+be+"."+ae+"`":"`"+be+"["+JSON.stringify(ae)+"]`"}let kr=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","_debugInfo","toJSON","$$typeof","__esModule"]);var er=F.i(62895),$n=F.i(80114);let Ar={current:null},_n=typeof $n.cache=="function"?$n.cache:be=>be,Fr=console.warn;function Gr(be){return function(...ae){Fr(be(...ae))}}_n(be=>{try{Fr(Ar.current)}finally{Ar.current=null}});let Br=(0,F.i(31239).createAsyncLocalStorage)(),ir=new WeakMap,tr={get:function(be,ae,ct){if(ae==="then"||ae==="catch"||ae==="finally"){let bt=Yn.ReflectAdapter.get(be,ae,ct);return{[ae]:(...kt)=>{let Wt=Br.getStore();return Wt&&Wt.abortController.abort(Object.defineProperty(Error("Accessed fallback `params` during prerendering."),"__NEXT_ERROR_CODE",{value:"E691",enumerable:!1,configurable:!0})),new Proxy(bt.apply(be,kt),tr)}}[ae]}return Yn.ReflectAdapter.get(be,ae,ct)}};function mr(be){let ae=ir.get(be);if(ae)return ae;let ct=Promise.resolve(be);return ir.set(be,ct),Object.keys(be).forEach(bt=>{kr.has(bt)||(ct[bt]=be[bt])}),ct}Gr(function(be,ae){let ct=be?`Route "${be}" `:"This route ";return Object.defineProperty(Error(`${ct}used ${ae}. \`params\` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E307",enumerable:!1,configurable:!0})}),Gr(function(be,ae,ct){let bt=be?`Route "${be}" `:"This route ";return Object.defineProperty(Error(`${bt}used ${ae}. \`params\` should be awaited before using its properties. The following properties were not available through enumeration because they conflict with builtin property names: ${function(kt){switch(kt.length){case 0:throw Object.defineProperty(new Kn.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:!1,configurable:!0});case 1:return`\`${kt[0]}\``;case 2:return`\`${kt[0]}\` and \`${kt[1]}\``;default:{let Wt="";for(let cn=0;cn<kt.length-1;cn++)Wt+=`\`${kt[cn]}\`, `;return Wt+`, and \`${kt[kt.length-1]}\``}}}(ct)}. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E482",enumerable:!1,configurable:!0})}),F.r(57102).actionAsyncStorage;var Xn=F.i(87130),gr=F.i(19222);class Rn extends Error{constructor(ae,ct){super("Invariant: "+(ae.endsWith(".")?ae:ae+".")+" This is a bug in Next.js.",ct),this.name="InvariantError"}}class ei{constructor(){throw this.count=0,this.earlyListeners=[],this.listeners=[],this.tickPending=!1,this.taskPending=!1,this.subscribedSignals=null,Object.defineProperty(new Rn("CacheSignal cannot be used in the edge runtime, because `cacheComponents` does not support it."),"__NEXT_ERROR_CODE",{value:"E685",enumerable:!1,configurable:!0})}noMorePendingCaches(){this.tickPending||(this.tickPending=!0,process.nextTick(()=>{if(this.tickPending=!1,this.count===0){for(let ae=0;ae<this.earlyListeners.length;ae++)this.earlyListeners[ae]();this.earlyListeners.length=0}})),this.taskPending||(this.taskPending=!0,setTimeout(()=>{if(this.taskPending=!1,this.count===0){for(let ae=0;ae<this.listeners.length;ae++)this.listeners[ae]();this.listeners.length=0}},0))}inputReady(){return new Promise(ae=>{this.earlyListeners.push(ae),this.count===0&&this.noMorePendingCaches()})}cacheReady(){return new Promise(ae=>{this.listeners.push(ae),this.count===0&&this.noMorePendingCaches()})}beginRead(){if(this.count++,this.subscribedSignals!==null)for(let ae of this.subscribedSignals)ae.beginRead()}endRead(){if(this.count===0)throw Object.defineProperty(new Rn("CacheSignal got more endRead() calls than beginRead() calls"),"__NEXT_ERROR_CODE",{value:"E678",enumerable:!1,configurable:!0});if(this.count--,this.count===0&&this.noMorePendingCaches(),this.subscribedSignals!==null)for(let ae of this.subscribedSignals)ae.endRead()}trackRead(ae){this.beginRead();let ct=this.endRead.bind(this);return ae.then(ct,ct),ae}subscribeToReads(ae){if(ae===this)throw Object.defineProperty(new Rn("A CacheSignal cannot subscribe to itself"),"__NEXT_ERROR_CODE",{value:"E679",enumerable:!1,configurable:!0});this.subscribedSignals===null&&(this.subscribedSignals=new Set),this.subscribedSignals.add(ae);for(let ct=0;ct<this.count;ct++)ae.beginRead();return this.unsubscribeFromReads.bind(this,ae)}unsubscribeFromReads(ae){this.subscribedSignals&&this.subscribedSignals.delete(ae)}}class Vr{constructor(ae,ct){this.error=ae,this.headers=ct}}class or extends we{static#e=this.sharedModules=Nn;constructor({userland:ae,definition:ct,distDir:bt,relativeProjectDir:kt,resolvedPagePath:Wt,nextConfigOutput:cn}){if(super({userland:ae,definition:ct,distDir:bt,relativeProjectDir:kt}),this.workUnitAsyncStorage=En.workUnitAsyncStorage,this.workAsyncStorage=pr.workAsyncStorage,this.serverHooks=Ke,this.actionAsyncStorage=$t.actionAsyncStorageInstance,this.resolvedPagePath=Wt,this.nextConfigOutput=cn,this.methods=function(Qt){let zt=st.reduce((on,ln)=>({...on,[ln]:Qt[ln]??ce}),{}),Cn=new Set(st.filter(on=>Qt[on]));for(let on of Q.filter(ln=>!Cn.has(ln))){if(on==="HEAD"){Qt.GET&&(zt.HEAD=Qt.GET,Cn.add("HEAD"));continue}if(on==="OPTIONS"){let ln=["OPTIONS",...Cn];!Cn.has("HEAD")&&Cn.has("GET")&&ln.push("HEAD");let An={Allow:ln.sort().join(", ")};zt.OPTIONS=()=>new Response(null,{status:204,headers:An}),Cn.add("OPTIONS");continue}throw Object.defineProperty(Error(`Invariant: should handle all automatic implementable methods, got method: ${on}`),"__NEXT_ERROR_CODE",{value:"E211",enumerable:!1,configurable:!0})}return zt}(ae),this.isAppRouter=!0,this.hasNonStaticMethods=lr(ae),this.dynamic=this.userland.dynamic,this.nextConfigOutput==="export"){if(this.dynamic==="force-dynamic")throw Object.defineProperty(Error(`export const dynamic = "force-dynamic" on page "${ct.pathname}" cannot be used with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`),"__NEXT_ERROR_CODE",{value:"E278",enumerable:!1,configurable:!0});if(!function(Qt){return Qt.dynamic==="force-static"||Qt.dynamic==="error"||Qt.revalidate===!1||Qt.revalidate!==void 0&&Qt.revalidate>0||typeof Qt.generateStaticParams=="function"}(this.userland)&&this.userland.GET)throw Object.defineProperty(Error(`export const dynamic = "force-static"/export const revalidate not configured on route "${ct.pathname}" with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`),"__NEXT_ERROR_CODE",{value:"E301",enumerable:!1,configurable:!0});this.dynamic="error"}}resolve(ae){return st.includes(ae)?this.methods[ae]:()=>new Response(null,{status:400})}async do(ae,ct,bt,kt,Wt,cn,Qt){let zt,Cn=bt.isStaticGeneration,on=!!((an=Qt.renderOpts.experimental)!=null&&an.cacheComponents);(0,Et.patchFetch)({workAsyncStorage:this.workAsyncStorage,workUnitAsyncStorage:this.workUnitAsyncStorage});let ln={params:Qt.params?function(e,nn){let pn=En.workUnitAsyncStorage.getStore();if(pn)switch(pn.type){case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return function(Xt,Hn,qn){switch(qn.type){case"prerender":case"prerender-client":{let hn=qn.fallbackRouteParams;if(hn){for(let jn in Xt)if(hn.has(jn)){var nr=Xt,Wn=Hn,In=qn;let kn=ir.get(nr);if(kn)return kn;let xn=new Proxy((0,er.makeHangingPromise)(In.renderSignal,Wn.route,"`params`"),tr);return ir.set(nr,xn),xn}}break}case"prerender-ppr":{let hn=qn.fallbackRouteParams;if(hn){for(let jn in Xt)if(hn.has(jn))return function(kn,xn,Mn,fn){let yr=ir.get(kn);if(yr)return yr;let br={...kn},vr=Promise.resolve(br);return ir.set(kn,vr),Object.keys(kn).forEach(Sn=>{kr.has(Sn)||(xn.has(Sn)?(Object.defineProperty(br,Sn,{get(){let sn=Rr("params",Sn);fn.type==="prerender-ppr"?(0,en.postponeWithTracking)(Mn.route,sn,fn.dynamicTracking):(0,en.throwToInterruptStaticGeneration)(sn,Mn,fn)},enumerable:!0}),Object.defineProperty(vr,Sn,{get(){let sn=Rr("params",Sn);fn.type==="prerender-ppr"?(0,en.postponeWithTracking)(Mn.route,sn,fn.dynamicTracking):(0,en.throwToInterruptStaticGeneration)(sn,Mn,fn)},set(sn){Object.defineProperty(vr,Sn,{value:sn,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0})):vr[Sn]=kn[Sn])}),vr}(Xt,hn,Hn,qn)}}}return mr(Xt)}(e,nn,pn);case"cache":case"private-cache":case"unstable-cache":throw Object.defineProperty(new Kn.InvariantError("createServerParamsForRoute should not be called in cache contexts."),"__NEXT_ERROR_CODE",{value:"E738",enumerable:!1,configurable:!0});case"prerender-runtime":var dn,Un;return dn=e,Un=pn,(0,en.delayUntilRuntimeStage)(Un,mr(dn));case"request":return mr(e)}(0,vn.throwInvariantForMissingStore)()}(function(e){let nn={};for(let[pn,dn]of Object.entries(e))dn!==void 0&&(nn[pn]=dn);return nn}(Qt.params),bt):void 0},An=()=>{Qt.renderOpts.pendingWaitUntil=(0,gr.executeRevalidates)(bt).finally(()=>{process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.log("pending revalidates promise finished for:",kt.url)})},Zt=null;try{if(Cn){let e=this.userland.revalidate,nn=e===!1||e===void 0?Xn.INFINITE_CACHE:e;if(on){var an,ht;let pn,dn=new AbortController,Un=!1,Xt=new Hr,Hn=(0,en.createDynamicTrackingState)(void 0),qn=Zt={type:"prerender",phase:"action",rootParams:{},fallbackRouteParams:null,implicitTags:Wt,renderSignal:dn.signal,controller:dn,cacheSignal:Xt,dynamicTracking:Hn,allowEmptyStaticShell:!1,revalidate:nn,expire:Xn.INFINITE_CACHE,stale:Xn.INFINITE_CACHE,tags:[...Wt.tags],prerenderResumeDataCache:null,renderResumeDataCache:null,hmrRefreshHash:void 0,captureOwnerStack:void 0};try{pn=this.workUnitAsyncStorage.run(qn,ae,cn,ln)}catch(jn){dn.signal.aborted?Un=!0:(process.env.NEXT_DEBUG_BUILD||process.env.__NEXT_VERBOSE_LOGGING)&&gn(jn,bt.route)}typeof pn=="object"&&pn!==null&&typeof pn.then=="function"&&pn.then(()=>{},jn=>{dn.signal.aborted?Un=!0:process.env.NEXT_DEBUG_BUILD&&gn(jn,bt.route)});let nr=(!Ct&&(Ct=new ei),Ct).subscribeToReads(Xt);if(Xt.cacheReady().then(nr),await Xt.cacheReady(),Un){let jn=(0,en.getFirstDynamicReason)(Hn);throw jn?Object.defineProperty(new Ke.DynamicServerError(`Route ${bt.route} couldn't be rendered statically because it used \`${jn}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0}):(console.error("Expected Next.js to keep track of reason for opting out of static rendering but one was not found. This is a bug in Next.js"),Object.defineProperty(new Ke.DynamicServerError(`Route ${bt.route} couldn't be rendered statically because it used a dynamic API. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E577",enumerable:!1,configurable:!0}))}let Wn=new AbortController;Hn=(0,en.createDynamicTrackingState)(void 0);let In=Zt={type:"prerender",phase:"action",rootParams:{},fallbackRouteParams:null,implicitTags:Wt,renderSignal:Wn.signal,controller:Wn,cacheSignal:null,dynamicTracking:Hn,allowEmptyStaticShell:!1,revalidate:nn,expire:Xn.INFINITE_CACHE,stale:Xn.INFINITE_CACHE,tags:[...Wt.tags],prerenderResumeDataCache:null,renderResumeDataCache:null,hmrRefreshHash:void 0,captureOwnerStack:void 0},hn=!1;if(zt=await new Promise((jn,kn)=>{(0,hr.scheduleImmediate)(async()=>{try{let xn=await this.workUnitAsyncStorage.run(In,ae,cn,ln);if(hn)return;if(!(xn instanceof Response))return void jn(xn);hn=!0;let Mn=!1;xn.arrayBuffer().then(fn=>{Mn||(Mn=!0,jn(new Response(fn,{headers:xn.headers,status:xn.status,statusText:xn.statusText})))},kn),(0,hr.scheduleImmediate)(()=>{Mn||(Mn=!0,Wn.abort(),kn(ur(bt.route)))})}catch(xn){kn(xn)}}),(0,hr.scheduleImmediate)(()=>{hn||(hn=!0,Wn.abort(),kn(ur(bt.route)))})}),Wn.signal.aborted)throw ur(bt.route);Wn.abort()}else Zt={type:"prerender-legacy",phase:"action",rootParams:{},implicitTags:Wt,revalidate:nn,expire:Xn.INFINITE_CACHE,stale:Xn.INFINITE_CACHE,tags:[...Wt.tags]},zt=await En.workUnitAsyncStorage.run(Zt,ae,cn,ln)}else zt=await En.workUnitAsyncStorage.run(kt,ae,cn,ln)}catch(e){if(et(e)){let nn=et(e)?e.digest.split(";").slice(2,-2).join(";"):null;if(!nn)throw Object.defineProperty(Error("Invariant: Unexpected redirect url format"),"__NEXT_ERROR_CODE",{value:"E399",enumerable:!1,configurable:!0});let pn=new Headers({Location:nn});return(0,Te.appendMutableCookies)(pn,kt.mutableCookies),An(),new Response(null,{status:ct.isAction?St.RedirectStatusCode.SeeOther:function(dn){if(!et(dn))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(dn.digest.split(";").at(-2))}(e),headers:pn})}if(vt(e))return new Response(null,{status:Number(e.digest.split(";")[1])});throw e}if(!(zt instanceof Response))throw Object.defineProperty(Error(`No response is returned from route handler '${this.resolvedPagePath}'. Ensure you return a \`Response\` or a \`NextResponse\` in all branches of your handler.`),"__NEXT_ERROR_CODE",{value:"E325",enumerable:!1,configurable:!0});Qt.renderOpts.fetchMetrics=bt.fetchMetrics,An(),Zt&&(Qt.renderOpts.collectedTags=(ht=Zt.tags)==null?void 0:ht.join(","),Qt.renderOpts.collectedRevalidate=Zt.revalidate,Qt.renderOpts.collectedExpire=Zt.expire,Qt.renderOpts.collectedStale=Zt.stale);let t=new Headers(zt.headers);return(0,Te.appendMutableCookies)(t,kt.mutableCookies)?new Response(zt.body,{status:zt.status,statusText:zt.statusText,headers:t}):zt}async handle(ae,ct){let bt=this.resolve(ae.method),kt={page:this.definition.page,renderOpts:ct.renderOpts,buildId:ct.sharedContext.buildId,previouslyRevalidatedTags:[]};kt.renderOpts.fetchCache=this.userland.fetchCache;let Wt={isAppRoute:!0,isAction:function(on){let ln,An;on.headers instanceof Headers?(ln=on.headers.get(Nr.ACTION_HEADER)??null,An=on.headers.get("content-type")):(ln=on.headers[Nr.ACTION_HEADER]??null,An=on.headers["content-type"]??null);let Zt=on.method==="POST"&&An==="application/x-www-form-urlencoded",an=!!(on.method==="POST"&&An?.startsWith("multipart/form-data")),ht=ln!==void 0&&typeof ln=="string"&&on.method==="POST";return{actionId:ln,isURLEncodedAction:Zt,isMultipartAction:an,isFetchAction:ht,isPossibleServerAction:!!(ht||Zt||an)}}(ae).isPossibleServerAction},cn=await(0,jt.getImplicitTags)(this.definition.page,ae.nextUrl,null),Qt=(0,Pe.createRequestStoreForAPI)(ae,ae.nextUrl,cn,void 0,ct.prerenderManifest.preview),zt=(0,Qe.createWorkStore)(kt),Cn=await this.actionAsyncStorage.run(Wt,()=>this.workUnitAsyncStorage.run(Qt,()=>this.workAsyncStorage.run(zt,async()=>{if(this.hasNonStaticMethods&&zt.isStaticGeneration){let Zt=Object.defineProperty(new Ke.DynamicServerError("Route is configured with methods that cannot be statically generated."),"__NEXT_ERROR_CODE",{value:"E582",enumerable:!1,configurable:!0});throw zt.dynamicUsageDescription=Zt.message,zt.dynamicUsageStack=Zt.stack,Zt}let on=ae;switch(this.dynamic){case"force-dynamic":if(zt.forceDynamic=!0,zt.isStaticGeneration){let Zt=Object.defineProperty(new Ke.DynamicServerError("Route is configured with dynamic = error which cannot be statically generated."),"__NEXT_ERROR_CODE",{value:"E703",enumerable:!1,configurable:!0});throw zt.dynamicUsageDescription=Zt.message,zt.dynamicUsageStack=Zt.stack,Zt}break;case"force-static":zt.forceStatic=!0,on=new Proxy(ae,sr);break;case"error":zt.dynamicShouldError=!0,zt.isStaticGeneration&&(on=new Proxy(ae,wr));break;case void 0:case"auto":on=function(Zt,an){let ht={get(e,nn,pn){switch(nn){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":return jr(an,En.workUnitAsyncStorage.getStore(),`nextUrl.${nn}`),Yn.ReflectAdapter.get(e,nn,pn);case"clone":return e[ar]||(e[ar]=()=>new Proxy(e.clone(),ht));default:return Yn.ReflectAdapter.get(e,nn,pn)}}},t={get(e,nn){switch(nn){case"nextUrl":return e[Qn]||(e[Qn]=new Proxy(e.nextUrl,ht));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":return jr(an,En.workUnitAsyncStorage.getStore(),`request.${nn}`),Yn.ReflectAdapter.get(e,nn,e);case"clone":return e[Jn]||(e[Jn]=()=>new Proxy(e.clone(),t));default:return Yn.ReflectAdapter.get(e,nn,e)}}};return new Proxy(Zt,t)}(ae,zt);break;default:this.dynamic}let ln=function(Zt){let an="/app/";Zt.includes(an)||(an="\\app\\");let[,...ht]=Zt.split(an);return(an[0]+ht.join(an)).split(".").slice(0,-1).join(".")}(this.resolvedPagePath),An=(0,de.getTracer)();return An.setRootSpanAttribute("next.route",ln),An.trace(ye.AppRouteRouteHandlersSpan.runHandler,{spanName:`executing api route (app) ${ln}`,attributes:{"next.route":ln}},async()=>this.do(bt,Wt,zt,Qt,cn,on,ct))})));if(!(Cn instanceof Response))return new Response(null,{status:500});if(Cn.headers.has("x-middleware-rewrite"))throw Object.defineProperty(Error("NextResponse.rewrite() was used in a app route handler, this is not currently supported. Please remove the invocation to continue."),"__NEXT_ERROR_CODE",{value:"E374",enumerable:!1,configurable:!0});if(Cn.headers.get("x-middleware-next")==="1")throw Object.defineProperty(Error("NextResponse.next() was used in a app route handler, this is not supported. See here for more info: https://nextjs.org/docs/messages/next-response-next-in-app-route-handler"),"__NEXT_ERROR_CODE",{value:"E385",enumerable:!1,configurable:!0});return Cn}}let Vn=or;function lr(be){return!!be.POST||!!be.PUT||!!be.DELETE||!!be.PATCH||!!be.OPTIONS}let Qn=Symbol("nextUrl"),Jn=Symbol("clone"),ar=Symbol("clone"),Dn=Symbol("searchParams"),Mr=Symbol("href"),Tn=Symbol("toString"),Dr=Symbol("headers"),Ur=Symbol("cookies"),sr={get(be,ae,ct){switch(ae){case"headers":return be[Dr]||(be[Dr]=dt.HeadersAdapter.seal(new Headers({})));case"cookies":return be[Ur]||(be[Ur]=Te.RequestCookiesAdapter.seal(new fr.RequestCookies(new Headers({}))));case"nextUrl":return be[Qn]||(be[Qn]=new Proxy(be.nextUrl,Er));case"url":return ct.nextUrl.href;case"geo":case"ip":return;case"clone":return be[Jn]||(be[Jn]=()=>new Proxy(be.clone(),sr));default:return Yn.ReflectAdapter.get(be,ae,ct)}}},Er={get(be,ae,ct){switch(ae){case"search":return"";case"searchParams":return be[Dn]||(be[Dn]=new URLSearchParams);case"href":return be[Mr]||(be[Mr]=function(bt){let kt=new URL(bt);return kt.host="localhost:3000",kt.search="",kt.protocol="http",kt}(be.href).href);case"toJSON":case"toString":return be[Tn]||(be[Tn]=()=>ct.href);case"url":return;case"clone":return be[ar]||(be[ar]=()=>new Proxy(be.clone(),Er));default:return Yn.ReflectAdapter.get(be,ae,ct)}}},wr={get(be,ae,ct){switch(ae){case"nextUrl":return be[Qn]||(be[Qn]=new Proxy(be.nextUrl,Or));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":throw Object.defineProperty(new Tr.StaticGenBailoutError(`Route ${be.nextUrl.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`request.${ae}\`.`),"__NEXT_ERROR_CODE",{value:"E611",enumerable:!1,configurable:!0});case"clone":return be[Jn]||(be[Jn]=()=>new Proxy(be.clone(),wr));default:return Yn.ReflectAdapter.get(be,ae,ct)}}},Or={get(be,ae,ct){switch(ae){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":throw Object.defineProperty(new Tr.StaticGenBailoutError(`Route ${be.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`nextUrl.${ae}\`.`),"__NEXT_ERROR_CODE",{value:"E575",enumerable:!1,configurable:!0});case"clone":return be[ar]||(be[ar]=()=>new Proxy(be.clone(),Or));default:return Yn.ReflectAdapter.get(be,ae,ct)}}};function ur(be){return Object.defineProperty(new Ke.DynamicServerError(`Route ${be} couldn't be rendered statically because it used IO that was not cached. See more info here: https://nextjs.org/docs/messages/cache-components`),"__NEXT_ERROR_CODE",{value:"E609",enumerable:!1,configurable:!0})}function jr(be,ae,ct){if(be.dynamicShouldError)throw Object.defineProperty(new Tr.StaticGenBailoutError(`Route ${be.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${ct}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(ae)switch(ae.type){case"cache":case"private-cache":throw Object.defineProperty(Error(`Route ${be.route} used "${ct}" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${ct}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E178",enumerable:!1,configurable:!0});case"unstable-cache":throw Object.defineProperty(Error(`Route ${be.route} used "${ct}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${ct}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E133",enumerable:!1,configurable:!0});case"prerender":let bt=Object.defineProperty(Error(`Route ${be.route} used ${ct} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-request`),"__NEXT_ERROR_CODE",{value:"E261",enumerable:!1,configurable:!0});return(0,en.abortAndThrowOnSynchronousRequestDataAccess)(be.route,ct,bt,ae);case"prerender-client":throw Object.defineProperty(new Kn.InvariantError("A client prerender store should not be used for a route handler."),"__NEXT_ERROR_CODE",{value:"E720",enumerable:!1,configurable:!0});case"prerender-runtime":throw Object.defineProperty(new Kn.InvariantError("A runtime prerender store should not be used for a route handler."),"__NEXT_ERROR_CODE",{value:"E767",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,en.postponeWithTracking)(be.route,ct,ae.dynamicTracking);case"prerender-legacy":ae.revalidate=0;let kt=Object.defineProperty(new Ke.DynamicServerError(`Route ${be.route} couldn't be rendered statically because it used \`${ct}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw be.dynamicUsageDescription=ct,be.dynamicUsageStack=kt.stack,kt}}},51989,(F,Ct,Ye)=>{Ct.exports=F.r(22672)},13057,F=>{"use strict";let Ct,Ye;F.s(["ComponentMod",()=>Fe,"default",()=>_e],13057);var ke,At,at,ne,le,C,x,j,$,A,N,J,O,G,B,fe,re,Ee,we,Pe,Qe,st,jt,Et,de,ye,L,H,z,ie,ge,ut,Ge,gt,yt,Vt,q,V,Q,ce,Te,dt,qe,Ke,$e,vt,St,et,en,gn=F.i(20312),pr=F.i(43538);F.i(69171),F.i(41338);var vn=F.i(4878);F.i(3998);let En=Symbol.for("next.server.action-manifests");var $t=F.i(41769),Gn=F.i(65320),bn=F.i(95149);let Nn=Symbol("response"),Nr=Symbol("passThrough"),fr=Symbol("waitUntil");class Tr{constructor(n,i){this[Nr]=!1,this[fr]=i?{kind:"external",function:i}:{kind:"internal",promises:[]}}respondWith(n){this[Nn]||(this[Nn]=Promise.resolve(n))}passThroughOnException(){this[Nr]=!0}waitUntil(n){if(this[fr].kind==="external")return(0,this[fr].function)(n);this[fr].promises.push(n)}}class Yn extends Tr{constructor(n){var i;super(n.request,(i=n.context)==null?void 0:i.waitUntil),this.sourcePage=n.page}get request(){throw Object.defineProperty(new Gn.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new Gn.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}var Kn=F.i(74714);F.i(68290);var Hr=F.i(62812),hr=F.i(13140),Bn=F.i(14655);let Rr=Symbol("internal response"),kr=new Set([301,302,303,307,308]);function er(r,n){var i;if(!(r==null||(i=r.request)==null)&&i.headers){if(!(r.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let s=[];for(let[l,v]of r.request.headers)n.set("x-middleware-request-"+l,v),s.push(l);n.set("x-middleware-override-headers",s.join(","))}}class $n extends Response{constructor(n,i={}){super(n,i);let s=this.headers,l=new Proxy(new Hr.ResponseCookies(s),{get(v,f,p){switch(f){case"delete":case"set":return(...o)=>{let u=Reflect.apply(v[f],v,o),h=new Headers(s);return u instanceof Hr.ResponseCookies&&s.set("x-middleware-set-cookie",u.getAll().map(d=>(0,Hr.stringifyCookie)(d)).join(",")),er(i,h),u};default:return Bn.ReflectAdapter.get(v,f,p)}}});this[Rr]={cookies:l,url:i.url?new hr.NextURL(i.url,{headers:(0,bn.toNodeOutgoingHttpHeaders)(s),nextConfig:i.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[Rr].cookies}static json(n,i){let s=Response.json(n,i);return new $n(s.body,s)}static redirect(n,i){let s=typeof i=="number"?i:i?.status??307;if(!kr.has(s))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let l=typeof i=="object"?i:{},v=new Headers(l?.headers);return v.set("Location",(0,bn.validateURL)(n)),new $n(null,{...l,headers:v,status:s})}static rewrite(n,i){let s=new Headers(i?.headers);return s.set("x-middleware-rewrite",(0,bn.validateURL)(n)),er(i,s),new $n(null,{...i,headers:s})}static next(n){let i=new Headers(n?.headers);return i.set("x-middleware-next","1"),er(n,i),new $n(null,{...n,headers:i})}}function Ar(r,n){let i=typeof n=="string"?new URL(n):n,s=new URL(r,n),l=s.origin===i.origin;return{url:l?s.toString().slice(i.origin.length):s.toString(),isRelative:l}}var _n=F.i(35006);_n.NEXT_RSC_UNION_QUERY;var Fr=F.i(8749);F.i(33672);var Gr=F.i(53801),Br=F.i(98775),ir=F.i(24219),tr=F.i(57690);class mr{onClose(n){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",n),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}var Xn=F.i(72095);F.i(58184);let gr=Symbol.for("@next/request-context");var Rn=F.i(39812);class ei extends Kn.NextRequest{constructor(n){super(n.input,n.init),this.sourcePage=n.page}get request(){throw Object.defineProperty(new Gn.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new Gn.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new Gn.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let Vr={keys:r=>Array.from(r.keys()),get:(r,n)=>r.get(n)??void 0},or=(r,n)=>(0,ir.getTracer)().withPropagatedContext(r.headers,n,Vr),Vn=!1;async function lr(r){var n;let i,s;if(!Vn&&(Vn=!0,process.env.NEXT_PRIVATE_TEST_PROXY==="true")){let{interceptTestApis:M,wrapRequestHandler:K}=F.r(63042);M(),or=K(or)}await(0,$t.ensureInstrumentationRegistered)();let l=Tt.__BUILD_MANIFEST!==void 0;r.request.url=(0,gn.normalizeRscURL)(r.request.url);let v=r.bypassNextUrl?new URL(r.request.url):new hr.NextURL(r.request.url,{headers:r.request.headers,nextConfig:r.request.nextConfig});for(let M of[...v.searchParams.keys()]){let K=v.searchParams.getAll(M),X=(0,bn.normalizeNextQueryParam)(M);if(X){for(let he of(v.searchParams.delete(X),K))v.searchParams.append(X,he);v.searchParams.delete(M)}}let f="8hYIFHctHeF0iqToEWNp9";"buildId"in v&&(f=v.buildId||"",v.buildId="");let p=(0,bn.fromNodeOutgoingHttpHeaders)(r.request.headers),o=p.has("x-nextjs-data"),u=p.get(_n.RSC_HEADER)==="1";o&&v.pathname==="/index"&&(v.pathname="/");let h=new Map;if(!l)for(let M of _n.FLIGHT_HEADERS){let K=p.get(M);K!==null&&(h.set(M,K),p.delete(M))}let d=v.searchParams.get(_n.NEXT_RSC_UNION_QUERY),E=new ei({page:r.page,input:function(M){let K=typeof M=="string",X=K?new URL(M):M;return X.searchParams.delete(_n.NEXT_RSC_UNION_QUERY),K?X.toString():X}(v).toString(),init:{body:r.request.body,headers:p,method:r.request.method,nextConfig:r.request.nextConfig,signal:r.request.signal}});o&&Object.defineProperty(E,"__isData",{enumerable:!1,value:!0}),!Tt.__incrementalCacheShared&&r.IncrementalCache&&(Tt.__incrementalCache=new r.IncrementalCache({CurCacheHandler:r.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:r.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:(0,Xn.getEdgePreviewProps)()})}));let g=r.request.waitUntil??((n=function(){let M=Tt[gr];return M?.get()}())==null?void 0:n.waitUntil),y=new Yn({request:E,page:r.page,context:g?{waitUntil:g}:void 0});if((i=await or(E,()=>{if(r.page==="/middleware"||r.page==="/src/middleware"){let M=y.waitUntil.bind(y),K=new mr;return(0,ir.getTracer)().trace(tr.MiddlewareSpan.execute,{spanName:`middleware ${E.method} ${E.nextUrl.pathname}`,attributes:{"http.target":E.nextUrl.pathname,"http.method":E.method}},async()=>{try{var X,he,te,Z;let oe=(0,Xn.getEdgePreviewProps)(),me=await(0,Rn.getImplicitTags)("/",E.nextUrl,null),Oe=(0,Fr.createRequestStoreForAPI)(E,E.nextUrl,me,Y=>{s=Y},oe),ue=(0,Br.createWorkStore)({page:"/",renderOpts:{cacheLifeProfiles:(he=r.request.nextConfig)==null||(X=he.experimental)==null?void 0:X.cacheLife,experimental:{isRoutePPREnabled:!1,cacheComponents:!1,authInterrupts:!!(!((Z=r.request.nextConfig)==null||(te=Z.experimental)==null)&&te.authInterrupts)},supportsDynamicResponse:!0,waitUntil:M,onClose:K.onClose.bind(K),onAfterTaskError:void 0},isPrefetchRequest:E.headers.get(_n.NEXT_ROUTER_PREFETCH_HEADER)==="1",buildId:f??"",previouslyRevalidatedTags:[]});return await vn.workAsyncStorage.run(ue,()=>Gr.workUnitAsyncStorage.run(Oe,r.handler,E,y))}finally{setTimeout(()=>{K.dispatchClose()},0)}})}return r.handler(E,y)}))&&!(i instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});i&&s&&i.headers.set("set-cookie",s);let _=i?.headers.get("x-middleware-rewrite");if(i&&_&&(u||!l)){let M=new hr.NextURL(_,{forceLocale:!0,headers:r.request.headers,nextConfig:r.request.nextConfig});l||M.host!==E.nextUrl.host||(M.buildId=f||M.buildId,i.headers.set("x-middleware-rewrite",String(M)));let{url:K,isRelative:X}=Ar(M.toString(),v.toString());!l&&o&&i.headers.set("x-nextjs-rewrite",K),u&&X&&(v.pathname!==M.pathname&&i.headers.set(_n.NEXT_REWRITTEN_PATH_HEADER,M.pathname),v.search!==M.search&&i.headers.set(_n.NEXT_REWRITTEN_QUERY_HEADER,M.search.slice(1)))}if(i&&_&&u&&d){let M=new URL(_);M.searchParams.has(_n.NEXT_RSC_UNION_QUERY)||(M.searchParams.set(_n.NEXT_RSC_UNION_QUERY,d),i.headers.set("x-middleware-rewrite",M.toString()))}let S=i?.headers.get("Location");if(i&&S&&!l){let M=new hr.NextURL(S,{forceLocale:!1,headers:r.request.headers,nextConfig:r.request.nextConfig});i=new Response(i.body,i),M.host===v.host&&(M.buildId=f||M.buildId,i.headers.set("Location",M.toString())),o&&(i.headers.delete("Location"),i.headers.set("x-nextjs-redirect",Ar(M.toString(),v.toString()).url))}let T=i||$n.next(),k=T.headers.get("x-middleware-override-headers"),I=[];if(k){for(let[M,K]of h)T.headers.set(`x-middleware-request-${M}`,K),I.push(M);I.length>0&&T.headers.set("x-middleware-override-headers",k+","+I.join(","))}return{response:T,waitUntil:(y[fr].kind==="internal"?Promise.all(y[fr].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:E.fetchMetrics}}var Qn=F.i(52836);F.i(29928);var Jn=F.i(6201),ar=F.i(80116),Dn=F.i(81373);class Mr{constructor(n){this.definition=n,(0,Jn.isDynamicRoute)(n.pathname)&&(this.dynamic=(0,ar.getRouteMatcher)((0,Dn.getRouteRegex)(n.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return this.dynamic!==void 0}match(n){let i=this.test(n);return i?{definition:this.definition,params:i.params}:null}test(n){if(this.dynamic){let i=this.dynamic(n);return i?{params:i}:null}return n===this.definition.pathname?{}:null}}let Tn=Symbol.for("__next_internal_waitUntil__"),Dr=Tt[Tn]||(Tt[Tn]={waitUntilCounter:0,waitUntilResolve:void 0,waitUntilPromise:null});var Ur=F.i(89087),sr=F.i(27165);class Er{constructor(n,i){this.routeModule=n,this.nextConfig=i,this.matcher=new Mr(n.definition)}static wrap(n,i){let s=new Er(n,i.nextConfig);return l=>lr({...l,IncrementalCache:Qn.IncrementalCache,handler:s.handler.bind(s)})}async handler(n,i){let{params:s}=(0,Ur.getServerUtils)({pageIsDynamic:this.matcher.isDynamic,page:this.matcher.definition.pathname,basePath:n.nextUrl.basePath,rewrites:{},caseSensitive:!1}).normalizeDynamicRouteParams((0,sr.searchParamsToUrlQuery)(n.nextUrl.searchParams),!1),l=i.waitUntil.bind(i),v=new mr,f={params:s,prerenderManifest:{version:4,routes:{},dynamicRoutes:{},preview:(0,Xn.getEdgePreviewProps)(),notFoundRoutes:[]},renderOpts:{supportsDynamicResponse:!0,waitUntil:l,onClose:v.onClose.bind(v),onAfterTaskError:void 0,experimental:{cacheComponents:!1,authInterrupts:!1},cacheLifeProfiles:this.nextConfig.experimental.cacheLife},sharedContext:{buildId:""}},p=await this.routeModule.handle(n,f),o=[Dr.waitUntilPromise];return f.renderOpts.pendingWaitUntil&&o.push(f.renderOpts.pendingWaitUntil),i.waitUntil(Promise.all(o)),p.body?p=new Response(function(u,h){let d=new TransformStream,E=()=>h();return u.pipeTo(d.writable).then(E,E),d.readable}(p.body,()=>v.dispatchClose()),{status:p.status,statusText:p.statusText,headers:p.headers}):setTimeout(()=>v.dispatchClose(),0),p}}F.s(["handler",()=>se,"patchFetch",()=>ee,"routeModule",()=>c,"serverHooks",()=>W,"workAsyncStorage",()=>b,"workUnitAsyncStorage",()=>w],68267);var wr=F.i(51615),Or=F.i(51989),ur=F.i(82444),jr=F.i(25927),be=F.i(62662),ae=F.i(81029),ct=F.i(91304),bt=F.i(3516);class kt{constructor(n,i,s){this.method=n,this.url=i,this.body=s}get cookies(){return this._cookies?this._cookies:this._cookies=(0,bt.getCookieParser)(this.headers)()}}class Wt{constructor(n){this.destination=n}redirect(n,i){return this.setHeader("Location",n),this.statusCode=i,i===ct.RedirectStatusCode.PermanentRedirect&&this.setHeader("Refresh",`0;url=${n}`),this}}class cn extends kt{static#e=ke=be.NEXT_REQUEST_META;constructor(n){var i;super(n.method.toUpperCase(),n.url,n),this._req=n,this.headers=this._req.headers,this.fetchMetrics=(i=this._req)==null?void 0:i.fetchMetrics,this[ke]=this._req[be.NEXT_REQUEST_META]||{},this.streaming=!1}get originalRequest(){return this._req[be.NEXT_REQUEST_META]=this[be.NEXT_REQUEST_META],this._req.url=this.url,this._req.cookies=this.cookies,this._req}set originalRequest(n){this._req=n}stream(){if(this.streaming)throw Object.defineProperty(Error("Invariant: NodeNextRequest.stream() can only be called once"),"__NEXT_ERROR_CODE",{value:"E467",enumerable:!1,configurable:!0});return this.streaming=!0,new ReadableStream({start:n=>{this._req.on("data",i=>{n.enqueue(new Uint8Array(i))}),this._req.on("end",()=>{n.close()}),this._req.on("error",i=>{n.error(i)})}})}}class Qt extends Wt{get originalResponse(){return ae.SYMBOL_CLEARED_COOKIES in this&&(this._res[ae.SYMBOL_CLEARED_COOKIES]=this[ae.SYMBOL_CLEARED_COOKIES]),this._res}constructor(n){super(n),this._res=n,this.textBody=void 0}get sent(){return this._res.finished||this._res.headersSent}get statusCode(){return this._res.statusCode}set statusCode(n){this._res.statusCode=n}get statusMessage(){return this._res.statusMessage}set statusMessage(n){this._res.statusMessage=n}setHeader(n,i){return this._res.setHeader(n,i),this}removeHeader(n){return this._res.removeHeader(n),this}getHeaderValues(n){let i=this._res.getHeader(n);if(i!==void 0)return(Array.isArray(i)?i:[i]).map(s=>s.toString())}hasHeader(n){return this._res.hasHeader(n)}getHeader(n){let i=this.getHeaderValues(n);return Array.isArray(i)?i.join(","):void 0}getHeaders(){return this._res.getHeaders()}appendHeader(n,i){let s=this.getHeaderValues(n)??[];return s.includes(i)||this._res.setHeader(n,[...s,i]),this}body(n){return this.textBody=n,this}send(){this._res.end(this.textBody)}onClose(n){this.originalResponse.on("close",n)}}var zt=F.i(57452);function Cn(r){return r.isOnDemandRevalidate?"on-demand":r.isRevalidate?"stale":void 0}async function on(r,n,i,s){}F.i(66822),F.i(25067);var ln=F.i(87130);class An extends Error{constructor(){super(),this.message="Internal: NoFallbackError"}}F.i(22821);var Zt=F.i(95614);F.s(["POST",()=>Ao,"runtime",()=>Oo],11905);class an{}function ht(r,n){return r.replace(/\{([^}]+)\}/g,(i,s)=>{if(Object.prototype.hasOwnProperty.call(n,s)){let l=n[s];return l!=null?String(l):""}throw Error(`Key '${s}' not found in valueMap.`)})}function t(r,n,i){for(let v=0;v<n.length-1;v++){let f=n[v];if(f.endsWith("[]")){let p=f.slice(0,-2);if(!(p in r))if(Array.isArray(i))r[p]=Array.from({length:i.length},()=>({}));else throw Error(`Value must be a list given an array path ${f}`);if(Array.isArray(r[p])){let o=r[p];if(Array.isArray(i))for(let u=0;u<o.length;u++)t(o[u],n.slice(v+1),i[u]);else for(let u of o)t(u,n.slice(v+1),i)}return}if(f.endsWith("[0]")){let p=f.slice(0,-3);p in r||(r[p]=[{}]),t(r[p][0],n.slice(v+1),i);return}r[f]&&typeof r[f]=="object"||(r[f]={}),r=r[f]}let s=n[n.length-1],l=r[s];if(l!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===l)return;if(typeof l=="object"&&typeof i=="object"&&l!==null&&i!==null)Object.assign(l,i);else throw Error(`Cannot set value for an existing key. Key: ${s}`)}else r[s]=i}function e(r,n){try{if(n.length===1&&n[0]==="_self")return r;for(let i=0;i<n.length;i++){if(typeof r!="object"||r===null)return;let s=n[i];if(s.endsWith("[]")){let l=s.slice(0,-2);if(!(l in r))return;{let v=r[l];return Array.isArray(v)?v.map(f=>e(f,n.slice(i+1))):void 0}}r=r[s]}return r}catch(i){if(i instanceof TypeError)return;throw i}}function nn(r){if(typeof r!="string")throw Error("fromImageBytes must be a string");return r}(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(At||(At={})),function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"}(at||(at={})),function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"}(ne||(ne={})),function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",r.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",r.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",r.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",r.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"}(le||(le={})),function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"}(C||(C={})),function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"}(x||(x={})),function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"}(j||(j={})),function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"}($||($={})),function(r){r.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",r.SIMPLE_SEARCH="SIMPLE_SEARCH",r.ELASTIC_SEARCH="ELASTIC_SEARCH"}(A||(A={})),function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",r.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",r.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"}(N||(N={})),function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY",r.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"}(J||(J={})),function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"}(O||(O={})),function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(G||(G={})),function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.IMAGE_SAFETY="IMAGE_SAFETY"}(B||(B={})),function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(fe||(fe={})),function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"}(re||(re={})),function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(Ee||(Ee={})),function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(we||(we={})),function(r){r.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",r.TUNING_MODE_FULL="TUNING_MODE_FULL",r.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"}(Pe||(Pe={})),function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(Qe||(Qe={})),function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"}(st||(st={})),function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"}(jt||(jt={})),function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"}(Et||(Et={})),function(r){r.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",r.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"}(de||(de={})),function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE",r.VALIDATED="VALIDATED"}(ye||(ye={})),function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"}(L||(L={})),function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"}(H||(H={})),function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi",r.zh="zh",r.pt="pt",r.es="es"}(z||(z={})),function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(ie||(ie={})),function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(ge||(ge={})),function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(ut||(ut={})),function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(Ge||(Ge={})),function(r){r.FOREGROUND="FOREGROUND",r.BACKGROUND="BACKGROUND",r.PROMPT="PROMPT",r.SEMANTIC="SEMANTIC",r.INTERACTIVE="INTERACTIVE"}(gt||(gt={})),function(r){r.ASSET="ASSET",r.STYLE="STYLE"}(yt||(yt={})),function(r){r.OPTIMIZED="OPTIMIZED",r.LOSSLESS="LOSSLESS"}(Vt||(Vt={})),function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"}(q||(q={})),function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED"}(V||(V={})),function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"}(Q||(Q={})),function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(ce||(ce={})),function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(Te||(Te={})),function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"}(dt||(dt={})),function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(qe||(qe={})),function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"}(Ke||(Ke={})),function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}($e||($e={})),function(r){r.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",r.QUALITY="QUALITY",r.DIVERSITY="DIVERSITY",r.VOCALIZATION="VOCALIZATION"}(vt||(vt={})),function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"}(St||(St={}));class pn{constructor(n){let i={};for(let s of n.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=n}json(){return this.responseInternal.json()}}class dn{get text(){var n,i,s,l,v,f,p,o;if(((l=(s=(i=(n=this.candidates)==null?void 0:n[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",h=!1,d=[];for(let E of(o=(p=(f=(v=this.candidates)==null?void 0:v[0])==null?void 0:f.content)==null?void 0:p.parts)!=null?o:[]){for(let[g,y]of Object.entries(E))g!=="text"&&g!=="thought"&&(y!==null||y!==void 0)&&d.push(g);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;h=!0,u+=E.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?u:void 0}get data(){var n,i,s,l,v,f,p,o;if(((l=(s=(i=(n=this.candidates)==null?void 0:n[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="",h=[];for(let d of(o=(p=(f=(v=this.candidates)==null?void 0:v[0])==null?void 0:f.content)==null?void 0:p.parts)!=null?o:[]){for(let[E,g]of Object.entries(d))E!=="inlineData"&&(g!==null||g!==void 0)&&h.push(E);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var n,i,s,l,v,f,p,o;if(((l=(s=(i=(n=this.candidates)==null?void 0:n[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let u=(o=(p=(f=(v=this.candidates)==null?void 0:v[0])==null?void 0:f.content)==null?void 0:p.parts)==null?void 0:o.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(u?.length!==0)return u}get executableCode(){var n,i,s,l,v,f,p,o,u;if(((l=(s=(i=(n=this.candidates)==null?void 0:n[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let h=(o=(p=(f=(v=this.candidates)==null?void 0:v[0])==null?void 0:f.content)==null?void 0:p.parts)==null?void 0:o.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if(h?.length!==0)return(u=h?.[0])==null?void 0:u.code}get codeExecutionResult(){var n,i,s,l,v,f,p,o,u;if(((l=(s=(i=(n=this.candidates)==null?void 0:n[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let h=(o=(p=(f=(v=this.candidates)==null?void 0:v[0])==null?void 0:f.content)==null?void 0:p.parts)==null?void 0:o.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if(h?.length!==0)return(u=h?.[0])==null?void 0:u.output}}class Un{}class Xt{}class Hn{}class qn{}class nr{}class Wn{}class In{}class hn{}class jn{}class kn{}class xn{}class Mn{_fromAPIResponse({apiResponse:n,isVertexAI:i}){let s=new Mn;if(s.name=n.name,s.metadata=n.metadata,s.done=n.done,s.error=n.error,i){let l=n.response;if(l){let v=new xn,f=l.videos;v.generatedVideos=f?.map(p=>({video:{uri:p.gcsUri,videoBytes:p.bytesBase64Encoded?nn(p.bytesBase64Encoded):void 0,mimeType:p.mimeType}})),v.raiMediaFilteredCount=l.raiMediaFilteredCount,v.raiMediaFilteredReasons=l.raiMediaFilteredReasons,s.response=v}}else{let l=n.response;if(l){let v=new xn,f=l.generateVideoResponse,p=f?.generatedSamples;v.generatedVideos=p?.map(o=>{let u=o.video;return{video:{uri:u?.uri,videoBytes:u?.encodedVideo?nn(u?.encodedVideo):void 0,mimeType:o.encoding}}}),v.raiMediaFilteredCount=f?.raiMediaFilteredCount,v.raiMediaFilteredReasons=f?.raiMediaFilteredReasons,s.response=v}}return s}}class fn{}class yr{}class br{}class vr{}class Sn{}class sn{}class Fn{}class rr{get text(){var n,i,s;let l="",v=!1,f=[];for(let p of(s=(i=(n=this.serverContent)==null?void 0:n.modelTurn)==null?void 0:i.parts)!=null?s:[]){for(let[o,u]of Object.entries(p))o!=="text"&&o!=="thought"&&u!==null&&f.push(o);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;v=!0,l+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?l:void 0}get data(){var n,i,s;let l="",v=[];for(let f of(s=(i=(n=this.serverContent)==null?void 0:n.modelTurn)==null?void 0:i.parts)!=null?s:[]){for(let[p,o]of Object.entries(f))p!=="inlineData"&&o!==null&&v.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(l+=atob(f.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class vi{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}function a(r,n){if(!n||typeof n!="string")throw Error("model is required and must be a string");if(r.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;{if(!(n.indexOf("/")>=0))return`publishers/google/models/${n}`;let i=n.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}}return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function R(r,n){let i=a(r,n);return i?i.startsWith("publishers/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/${i}`:i.startsWith("models/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/publishers/google/${i}`:i:""}function P(r){return Array.isArray(r)?r.map(n=>U(n)):[U(r)]}function U(r){if(typeof r=="object"&&r!==null)return r;throw Error(`Could not parse input as Blob. Unsupported blob type: ${typeof r}`)}function D(r){let n=U(r);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw Error(`Unsupported mime type: ${n.mimeType}`)}function Ce(r){let n=U(r);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw Error(`Unsupported mime type: ${n.mimeType}`)}function Re(r){if(r==null)throw Error("PartUnion is required");if(typeof r=="object")return r;if(typeof r=="string")return{text:r};throw Error(`Unsupported part type: ${typeof r}`)}function He(r){if(r==null||Array.isArray(r)&&r.length===0)throw Error("PartListUnion is required");return Array.isArray(r)?r.map(n=>Re(n)):[Re(r)]}function ve(r){return r!=null&&typeof r=="object"&&"parts"in r&&Array.isArray(r.parts)}function it(r){return r!=null&&typeof r=="object"&&"functionCall"in r}function Mt(r){return r!=null&&typeof r=="object"&&"functionResponse"in r}function Rt(r){if(r==null)throw Error("ContentUnion is required");return ve(r)?r:{role:"user",parts:He(r)}}function Ht(r,n){if(!n)return[];if(r.isVertexAI()&&Array.isArray(n))return n.flatMap(i=>{let s=Rt(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(r.isVertexAI()){let i=Rt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(n)?n.map(i=>Rt(i)):[Rt(n)]}function Kt(r){if(r==null||Array.isArray(r)&&r.length===0)throw Error("contents are required");if(!Array.isArray(r)){if(it(r)||Mt(r))throw Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rt(r)]}let n=[],i=[],s=ve(r[0]);for(let l of r){let v=ve(l);if(v!=s)throw Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(v)n.push(l);else{if(it(l)||Mt(l))throw Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(l)}}return s||n.push({role:"user",parts:He(i)}),n}function Lt(r){let n={},i=["items"],s=["anyOf"],l=["properties"];if(r.type&&r.anyOf)throw Error("type and anyOf cannot be both populated.");let v=r.anyOf;for(let[f,p]of(v!=null&&v.length==2&&(v[0].type==="null"?(n.nullable=!0,r=v[1]):v[1].type==="null"&&(n.nullable=!0,r=v[0])),r.type instanceof Array&&function(o,u){o.includes("null")&&(u.nullable=!0);let h=o.filter(d=>d!=="null");if(h.length===1)u.type=Object.values(ne).includes(h[0].toUpperCase())?h[0].toUpperCase():ne.TYPE_UNSPECIFIED;else for(let d of(u.anyOf=[],h))u.anyOf.push({type:Object.values(ne).includes(d.toUpperCase())?d.toUpperCase():ne.TYPE_UNSPECIFIED})}(r.type,n),Object.entries(r)))if(p!=null)if(f=="type"){if(p==="null")throw Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;n.type=Object.values(ne).includes(p.toUpperCase())?p.toUpperCase():ne.TYPE_UNSPECIFIED}else if(i.includes(f))n[f]=Lt(p);else if(s.includes(f)){let o=[];for(let u of p){if(u.type=="null"){n.nullable=!0;continue}o.push(Lt(u))}n[f]=o}else if(l.includes(f)){let o={};for(let[u,h]of Object.entries(p))o[u]=Lt(h);n[f]=o}else{if(f==="additionalProperties")continue;n[f]=p}return n}function It(r){if(typeof r=="object")return r;if(typeof r=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:r}}};throw Error(`Unsupported speechConfig type: ${typeof r}`)}function Jt(r){if("multiSpeakerVoiceConfig"in r)throw Error("multiSpeakerVoiceConfig is not supported in the live API.");return r}function un(r){if(r.functionDeclarations)for(let n of r.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Lt(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Lt(n.response));return r}function Bt(r){if(r==null)throw Error("tools is required");if(!Array.isArray(r))throw Error("tools is required and must be an array of Tools");let n=[];for(let i of r)n.push(i);return n}function Zn(r,n){if(typeof n!="string")throw Error("name must be a string");return function(i,s,l,v=1){let f=!s.startsWith(`${l}/`)&&s.split("/").length===v;return i.isVertexAI()?s.startsWith("projects/")?s:s.startsWith("locations/")?`projects/${i.getProject()}/${s}`:s.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${s}`:f?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${s}`:s:f?`${l}/${s}`:s}(r,n,"cachedContents")}function Jr(r){switch(r){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return r}}function Lr(r){var n;let i;if(r!=null&&typeof r=="object"&&"name"in r&&(i=r.name),(r==null||typeof r!="object"||!("uri"in r)||(i=r.uri)!==void 0)&&(r==null||typeof r!="object"||!("video"in r)||(i=(n=r.video)==null?void 0:n.uri)!==void 0)){if(typeof r=="string"&&(i=r),i===void 0)throw Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){let s=i.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw Error(`Could not extract file name from URI ${i}`);i=s[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Wr(r,n){return r.isVertexAI()?n?"publishers/google/models":"models":n?"models":"tunedModels"}function ui(r){for(let s of["models","tunedModels","publisherModels"]){var n,i;if(n=r,i=s,n!==null&&typeof n=="object"&&i in n)return r[s]}return[]}function Pr(r,n){if(typeof n=="string"||Array.isArray(n)){if(Array.isArray(n))return{inlinedRequests:n};if(typeof n=="string"){if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:[n]};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};if(n.startsWith("files/"))return{fileName:n}}}else{if(r&&r.isVertexAI()){if(n.gcsUri&&n.bigqueryUri)throw Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!n.gcsUri&&!n.bigqueryUri)throw Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(n.inlinedRequests&&n.fileName)throw Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!n.inlinedRequests&&!n.fileName)throw Error("One of `inlinedRequests` or `fileName` must be set.")}return n}throw Error(`Unsupported source: ${n}`)}function zn(r,n){if(!r.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw Error(`Invalid batch job name: ${n}.`)}function Ir(r){return r==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":r==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":r==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":r==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":r==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":r}function ti(r){let n={},i=e(r,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(v=>function(f){let p={},o=e(f,["videoMetadata"]);o!=null&&t(p,["videoMetadata"],function(k){let I={},M=e(k,["fps"]);M!=null&&t(I,["fps"],M);let K=e(k,["endOffset"]);K!=null&&t(I,["endOffset"],K);let X=e(k,["startOffset"]);return X!=null&&t(I,["startOffset"],X),I}(o));let u=e(f,["thought"]);u!=null&&t(p,["thought"],u);let h=e(f,["inlineData"]);h!=null&&t(p,["inlineData"],function(k){let I={};if(e(k,["displayName"])!==void 0)throw Error("displayName parameter is not supported in Gemini API.");let M=e(k,["data"]);M!=null&&t(I,["data"],M);let K=e(k,["mimeType"]);return K!=null&&t(I,["mimeType"],K),I}(h));let d=e(f,["fileData"]);d!=null&&t(p,["fileData"],function(k){let I={};if(e(k,["displayName"])!==void 0)throw Error("displayName parameter is not supported in Gemini API.");let M=e(k,["fileUri"]);M!=null&&t(I,["fileUri"],M);let K=e(k,["mimeType"]);return K!=null&&t(I,["mimeType"],K),I}(d));let E=e(f,["thoughtSignature"]);E!=null&&t(p,["thoughtSignature"],E);let g=e(f,["codeExecutionResult"]);g!=null&&t(p,["codeExecutionResult"],g);let y=e(f,["executableCode"]);y!=null&&t(p,["executableCode"],y);let _=e(f,["functionCall"]);_!=null&&t(p,["functionCall"],_);let S=e(f,["functionResponse"]);S!=null&&t(p,["functionResponse"],S);let T=e(f,["text"]);return T!=null&&t(p,["text"],T),p}(v))),t(n,["parts"],l)}let s=e(r,["role"]);return s!=null&&t(n,["role"],s),n}function ni(r){let n={},i=e(r,["prebuiltVoiceConfig"]);return i!=null&&t(n,["prebuiltVoiceConfig"],function(s){let l={},v=e(s,["voiceName"]);return v!=null&&t(l,["voiceName"],v),l}(i)),n}function ci(r,n){let i={},s=e(n,["model"]);s!=null&&t(i,["_url","model"],a(r,s));let l=e(n,["src"]);l!=null&&t(i,["batch","inputConfig"],function(f,p){let o={};if(e(p,["format"])!==void 0)throw Error("format parameter is not supported in Gemini API.");if(e(p,["gcsUri"])!==void 0)throw Error("gcsUri parameter is not supported in Gemini API.");if(e(p,["bigqueryUri"])!==void 0)throw Error("bigqueryUri parameter is not supported in Gemini API.");let u=e(p,["fileName"]);u!=null&&t(o,["fileName"],u);let h=e(p,["inlinedRequests"]);if(h!=null){let d=h;Array.isArray(d)&&(d=d.map(E=>function(g,y){let _={},S=e(y,["model"]);S!=null&&t(_,["request","model"],a(g,S));let T=e(y,["contents"]);if(T!=null){let I=Kt(T);Array.isArray(I)&&(I=I.map(M=>ti(M))),t(_,["request","contents"],I)}let k=e(y,["config"]);return k!=null&&t(_,["request","generationConfig"],function(I,M,K){let X={},he=e(M,["systemInstruction"]);K!==void 0&&he!=null&&t(K,["systemInstruction"],ti(Rt(he)));let te=e(M,["temperature"]);te!=null&&t(X,["temperature"],te);let Z=e(M,["topP"]);Z!=null&&t(X,["topP"],Z);let oe=e(M,["topK"]);oe!=null&&t(X,["topK"],oe);let me=e(M,["candidateCount"]);me!=null&&t(X,["candidateCount"],me);let Oe=e(M,["maxOutputTokens"]);Oe!=null&&t(X,["maxOutputTokens"],Oe);let ue=e(M,["stopSequences"]);ue!=null&&t(X,["stopSequences"],ue);let Y=e(M,["responseLogprobs"]);Y!=null&&t(X,["responseLogprobs"],Y);let pt=e(M,["logprobs"]);pt!=null&&t(X,["logprobs"],pt);let _t=e(M,["presencePenalty"]);_t!=null&&t(X,["presencePenalty"],_t);let Ne=e(M,["frequencyPenalty"]);Ne!=null&&t(X,["frequencyPenalty"],Ne);let Be=e(M,["seed"]);Be!=null&&t(X,["seed"],Be);let Ze=e(M,["responseMimeType"]);Ze!=null&&t(X,["responseMimeType"],Ze);let ze=e(M,["responseSchema"]);ze!=null&&t(X,["responseSchema"],function(Ae){let De={},tt=e(Ae,["anyOf"]);tt!=null&&t(De,["anyOf"],tt);let Le=e(Ae,["default"]);Le!=null&&t(De,["default"],Le);let rt=e(Ae,["description"]);rt!=null&&t(De,["description"],rt);let We=e(Ae,["enum"]);We!=null&&t(De,["enum"],We);let mt=e(Ae,["example"]);mt!=null&&t(De,["example"],mt);let Dt=e(Ae,["format"]);Dt!=null&&t(De,["format"],Dt);let wt=e(Ae,["items"]);wt!=null&&t(De,["items"],wt);let nt=e(Ae,["maxItems"]);nt!=null&&t(De,["maxItems"],nt);let ft=e(Ae,["maxLength"]);ft!=null&&t(De,["maxLength"],ft);let Ot=e(Ae,["maxProperties"]);Ot!=null&&t(De,["maxProperties"],Ot);let Pt=e(Ae,["maximum"]);Pt!=null&&t(De,["maximum"],Pt);let qt=e(Ae,["minItems"]);qt!=null&&t(De,["minItems"],qt);let xt=e(Ae,["minLength"]);xt!=null&&t(De,["minLength"],xt);let Nt=e(Ae,["minProperties"]);Nt!=null&&t(De,["minProperties"],Nt);let Gt=e(Ae,["minimum"]);Gt!=null&&t(De,["minimum"],Gt);let Ut=e(Ae,["nullable"]);Ut!=null&&t(De,["nullable"],Ut);let Ft=e(Ae,["pattern"]);Ft!=null&&t(De,["pattern"],Ft);let rn=e(Ae,["properties"]);rn!=null&&t(De,["properties"],rn);let mn=e(Ae,["propertyOrdering"]);mn!=null&&t(De,["propertyOrdering"],mn);let Yt=e(Ae,["required"]);Yt!=null&&t(De,["required"],Yt);let tn=e(Ae,["title"]);tn!=null&&t(De,["title"],tn);let Pn=e(Ae,["type"]);return Pn!=null&&t(De,["type"],Pn),De}(Lt(ze)));let Ie=e(M,["responseJsonSchema"]);if(Ie!=null&&t(X,["responseJsonSchema"],Ie),e(M,["routingConfig"])!==void 0)throw Error("routingConfig parameter is not supported in Gemini API.");if(e(M,["modelSelectionConfig"])!==void 0)throw Error("modelSelectionConfig parameter is not supported in Gemini API.");let xe=e(M,["safetySettings"]);if(K!==void 0&&xe!=null){let Ae=xe;Array.isArray(Ae)&&(Ae=Ae.map(De=>function(tt){let Le={};if(e(tt,["method"])!==void 0)throw Error("method parameter is not supported in Gemini API.");let rt=e(tt,["category"]);rt!=null&&t(Le,["category"],rt);let We=e(tt,["threshold"]);return We!=null&&t(Le,["threshold"],We),Le}(De))),t(K,["safetySettings"],Ae)}let ot=e(M,["tools"]);if(K!==void 0&&ot!=null){let Ae=Bt(ot);Array.isArray(Ae)&&(Ae=Ae.map(De=>function(tt){let Le={},rt=e(tt,["functionDeclarations"]);if(rt!=null){let nt=rt;Array.isArray(nt)&&(nt=nt.map(ft=>function(Ot){let Pt={},qt=e(Ot,["behavior"]);qt!=null&&t(Pt,["behavior"],qt);let xt=e(Ot,["description"]);xt!=null&&t(Pt,["description"],xt);let Nt=e(Ot,["name"]);Nt!=null&&t(Pt,["name"],Nt);let Gt=e(Ot,["parameters"]);Gt!=null&&t(Pt,["parameters"],Gt);let Ut=e(Ot,["parametersJsonSchema"]);Ut!=null&&t(Pt,["parametersJsonSchema"],Ut);let Ft=e(Ot,["response"]);Ft!=null&&t(Pt,["response"],Ft);let rn=e(Ot,["responseJsonSchema"]);return rn!=null&&t(Pt,["responseJsonSchema"],rn),Pt}(ft))),t(Le,["functionDeclarations"],nt)}if(e(tt,["retrieval"])!==void 0)throw Error("retrieval parameter is not supported in Gemini API.");let We=e(tt,["googleSearch"]);We!=null&&t(Le,["googleSearch"],function(nt){let ft={},Ot=e(nt,["timeRangeFilter"]);if(Ot!=null&&t(ft,["timeRangeFilter"],function(Pt){let qt={},xt=e(Pt,["startTime"]);xt!=null&&t(qt,["startTime"],xt);let Nt=e(Pt,["endTime"]);return Nt!=null&&t(qt,["endTime"],Nt),qt}(Ot)),e(nt,["excludeDomains"])!==void 0)throw Error("excludeDomains parameter is not supported in Gemini API.");return ft}(We));let mt=e(tt,["googleSearchRetrieval"]);if(mt!=null&&t(Le,["googleSearchRetrieval"],function(nt){let ft={},Ot=e(nt,["dynamicRetrievalConfig"]);return Ot!=null&&t(ft,["dynamicRetrievalConfig"],function(Pt){let qt={},xt=e(Pt,["mode"]);xt!=null&&t(qt,["mode"],xt);let Nt=e(Pt,["dynamicThreshold"]);return Nt!=null&&t(qt,["dynamicThreshold"],Nt),qt}(Ot)),ft}(mt)),e(tt,["enterpriseWebSearch"])!==void 0)throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(e(tt,["googleMaps"])!==void 0)throw Error("googleMaps parameter is not supported in Gemini API.");e(tt,["urlContext"])!=null&&t(Le,["urlContext"],{});let Dt=e(tt,["computerUse"]);Dt!=null&&t(Le,["computerUse"],function(nt){let ft={},Ot=e(nt,["environment"]);return Ot!=null&&t(ft,["environment"],Ot),ft}(Dt));let wt=e(tt,["codeExecution"]);return wt!=null&&t(Le,["codeExecution"],wt),Le}(un(De)))),t(K,["tools"],Ae)}let lt=e(M,["toolConfig"]);if(K!==void 0&&lt!=null&&t(K,["toolConfig"],function(Ae){let De={},tt=e(Ae,["functionCallingConfig"]);tt!=null&&t(De,["functionCallingConfig"],function(rt){let We={},mt=e(rt,["mode"]);mt!=null&&t(We,["mode"],mt);let Dt=e(rt,["allowedFunctionNames"]);return Dt!=null&&t(We,["allowedFunctionNames"],Dt),We}(tt));let Le=e(Ae,["retrievalConfig"]);return Le!=null&&t(De,["retrievalConfig"],function(rt){let We={},mt=e(rt,["latLng"]);mt!=null&&t(We,["latLng"],function(wt){let nt={},ft=e(wt,["latitude"]);ft!=null&&t(nt,["latitude"],ft);let Ot=e(wt,["longitude"]);return Ot!=null&&t(nt,["longitude"],Ot),nt}(mt));let Dt=e(rt,["languageCode"]);return Dt!=null&&t(We,["languageCode"],Dt),We}(Le)),De}(lt)),e(M,["labels"])!==void 0)throw Error("labels parameter is not supported in Gemini API.");let Xe=e(M,["cachedContent"]);K!==void 0&&Xe!=null&&t(K,["cachedContent"],Zn(I,Xe));let Me=e(M,["responseModalities"]);Me!=null&&t(X,["responseModalities"],Me);let Se=e(M,["mediaResolution"]);Se!=null&&t(X,["mediaResolution"],Se);let Ue=e(M,["speechConfig"]);if(Ue!=null&&t(X,["speechConfig"],function(Ae){let De={},tt=e(Ae,["voiceConfig"]);tt!=null&&t(De,["voiceConfig"],ni(tt));let Le=e(Ae,["multiSpeakerVoiceConfig"]);Le!=null&&t(De,["multiSpeakerVoiceConfig"],function(We){let mt={},Dt=e(We,["speakerVoiceConfigs"]);if(Dt!=null){let wt=Dt;Array.isArray(wt)&&(wt=wt.map(nt=>function(ft){let Ot={},Pt=e(ft,["speaker"]);Pt!=null&&t(Ot,["speaker"],Pt);let qt=e(ft,["voiceConfig"]);return qt!=null&&t(Ot,["voiceConfig"],ni(qt)),Ot}(nt))),t(mt,["speakerVoiceConfigs"],wt)}return mt}(Le));let rt=e(Ae,["languageCode"]);return rt!=null&&t(De,["languageCode"],rt),De}(It(Ue))),e(M,["audioTimestamp"])!==void 0)throw Error("audioTimestamp parameter is not supported in Gemini API.");let je=e(M,["thinkingConfig"]);return je!=null&&t(X,["thinkingConfig"],function(Ae){let De={},tt=e(Ae,["includeThoughts"]);tt!=null&&t(De,["includeThoughts"],tt);let Le=e(Ae,["thinkingBudget"]);return Le!=null&&t(De,["thinkingBudget"],Le),De}(je)),X}(g,k,_)),_}(f,E))),t(o,["requests","requests"],d)}return o}(r,Pr(r,l)));let v=e(n,["config"]);return v!=null&&t(i,["config"],function(f,p){let o=e(f,["displayName"]);if(p!==void 0&&o!=null&&t(p,["batch","displayName"],o),e(f,["dest"])!==void 0)throw Error("dest parameter is not supported in Gemini API.");return{}}(v,i)),i}function Cr(r){let n={},i=e(r,["details"]);i!=null&&t(n,["details"],i);let s=e(r,["code"]);s!=null&&t(n,["code"],s);let l=e(r,["message"]);return l!=null&&t(n,["message"],l),n}function cr(r){let n={},i=e(r,["name"]);i!=null&&t(n,["name"],i);let s=e(r,["metadata","displayName"]);s!=null&&t(n,["displayName"],s);let l=e(r,["metadata","state"]);l!=null&&t(n,["state"],Ir(l));let v=e(r,["metadata","createTime"]);v!=null&&t(n,["createTime"],v);let f=e(r,["metadata","endTime"]);f!=null&&t(n,["endTime"],f);let p=e(r,["metadata","updateTime"]);p!=null&&t(n,["updateTime"],p);let o=e(r,["metadata","model"]);o!=null&&t(n,["model"],o);let u=e(r,["metadata","output"]);return u!=null&&t(n,["dest"],function(h){let d={},E=e(h,["responsesFile"]);E!=null&&t(d,["fileName"],E);let g=e(h,["inlinedResponses","inlinedResponses"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(_=>function(S){let T={},k=e(S,["response"]);k!=null&&t(T,["response"],function(M){let K={},X=e(M,["sdkHttpResponse"]);X!=null&&t(K,["sdkHttpResponse"],X);let he=e(M,["candidates"]);if(he!=null){let Oe=he;Array.isArray(Oe)&&(Oe=Oe.map(ue=>function(Y){let pt={},_t=e(Y,["content"]);_t!=null&&t(pt,["content"],function(Me){let Se={},Ue=e(Me,["parts"]);if(Ue!=null){let Ae=Ue;Array.isArray(Ae)&&(Ae=Ae.map(De=>function(tt){let Le={},rt=e(tt,["videoMetadata"]);rt!=null&&t(Le,["videoMetadata"],function(xt){let Nt={},Gt=e(xt,["fps"]);Gt!=null&&t(Nt,["fps"],Gt);let Ut=e(xt,["endOffset"]);Ut!=null&&t(Nt,["endOffset"],Ut);let Ft=e(xt,["startOffset"]);return Ft!=null&&t(Nt,["startOffset"],Ft),Nt}(rt));let We=e(tt,["thought"]);We!=null&&t(Le,["thought"],We);let mt=e(tt,["inlineData"]);mt!=null&&t(Le,["inlineData"],function(xt){let Nt={},Gt=e(xt,["data"]);Gt!=null&&t(Nt,["data"],Gt);let Ut=e(xt,["mimeType"]);return Ut!=null&&t(Nt,["mimeType"],Ut),Nt}(mt));let Dt=e(tt,["fileData"]);Dt!=null&&t(Le,["fileData"],function(xt){let Nt={},Gt=e(xt,["fileUri"]);Gt!=null&&t(Nt,["fileUri"],Gt);let Ut=e(xt,["mimeType"]);return Ut!=null&&t(Nt,["mimeType"],Ut),Nt}(Dt));let wt=e(tt,["thoughtSignature"]);wt!=null&&t(Le,["thoughtSignature"],wt);let nt=e(tt,["codeExecutionResult"]);nt!=null&&t(Le,["codeExecutionResult"],nt);let ft=e(tt,["executableCode"]);ft!=null&&t(Le,["executableCode"],ft);let Ot=e(tt,["functionCall"]);Ot!=null&&t(Le,["functionCall"],Ot);let Pt=e(tt,["functionResponse"]);Pt!=null&&t(Le,["functionResponse"],Pt);let qt=e(tt,["text"]);return qt!=null&&t(Le,["text"],qt),Le}(De))),t(Se,["parts"],Ae)}let je=e(Me,["role"]);return je!=null&&t(Se,["role"],je),Se}(_t));let Ne=e(Y,["citationMetadata"]);Ne!=null&&t(pt,["citationMetadata"],function(Me){let Se={},Ue=e(Me,["citationSources"]);return Ue!=null&&t(Se,["citations"],Ue),Se}(Ne));let Be=e(Y,["tokenCount"]);Be!=null&&t(pt,["tokenCount"],Be);let Ze=e(Y,["finishReason"]);Ze!=null&&t(pt,["finishReason"],Ze);let ze=e(Y,["urlContextMetadata"]);ze!=null&&t(pt,["urlContextMetadata"],function(Me){let Se={},Ue=e(Me,["urlMetadata"]);if(Ue!=null){let je=Ue;Array.isArray(je)&&(je=je.map(Ae=>function(De){let tt={},Le=e(De,["retrievedUrl"]);Le!=null&&t(tt,["retrievedUrl"],Le);let rt=e(De,["urlRetrievalStatus"]);return rt!=null&&t(tt,["urlRetrievalStatus"],rt),tt}(Ae))),t(Se,["urlMetadata"],je)}return Se}(ze));let Ie=e(Y,["avgLogprobs"]);Ie!=null&&t(pt,["avgLogprobs"],Ie);let xe=e(Y,["groundingMetadata"]);xe!=null&&t(pt,["groundingMetadata"],xe);let ot=e(Y,["index"]);ot!=null&&t(pt,["index"],ot);let lt=e(Y,["logprobsResult"]);lt!=null&&t(pt,["logprobsResult"],lt);let Xe=e(Y,["safetyRatings"]);return Xe!=null&&t(pt,["safetyRatings"],Xe),pt}(ue))),t(K,["candidates"],Oe)}let te=e(M,["modelVersion"]);te!=null&&t(K,["modelVersion"],te);let Z=e(M,["promptFeedback"]);Z!=null&&t(K,["promptFeedback"],Z);let oe=e(M,["responseId"]);oe!=null&&t(K,["responseId"],oe);let me=e(M,["usageMetadata"]);return me!=null&&t(K,["usageMetadata"],me),K}(k));let I=e(S,["error"]);return I!=null&&t(T,["error"],Cr(I)),T}(_))),t(d,["inlinedResponses"],y)}return d}(u)),n}function di(r){let n={},i=e(r,["details"]);i!=null&&t(n,["details"],i);let s=e(r,["code"]);s!=null&&t(n,["code"],s);let l=e(r,["message"]);return l!=null&&t(n,["message"],l),n}function Ni(r){let n={},i=e(r,["name"]);i!=null&&t(n,["name"],i);let s=e(r,["displayName"]);s!=null&&t(n,["displayName"],s);let l=e(r,["state"]);l!=null&&t(n,["state"],Ir(l));let v=e(r,["error"]);v!=null&&t(n,["error"],di(v));let f=e(r,["createTime"]);f!=null&&t(n,["createTime"],f);let p=e(r,["startTime"]);p!=null&&t(n,["startTime"],p);let o=e(r,["endTime"]);o!=null&&t(n,["endTime"],o);let u=e(r,["updateTime"]);u!=null&&t(n,["updateTime"],u);let h=e(r,["model"]);h!=null&&t(n,["model"],h);let d=e(r,["inputConfig"]);d!=null&&t(n,["src"],function(g){let y={},_=e(g,["instancesFormat"]);_!=null&&t(y,["format"],_);let S=e(g,["gcsSource","uris"]);S!=null&&t(y,["gcsUri"],S);let T=e(g,["bigquerySource","inputUri"]);return T!=null&&t(y,["bigqueryUri"],T),y}(d));let E=e(r,["outputConfig"]);return E!=null&&t(n,["dest"],function(g){let y={},_=e(g,["predictionsFormat"]);_!=null&&t(y,["format"],_);let S=e(g,["gcsDestination","outputUriPrefix"]);S!=null&&t(y,["gcsUri"],S);let T=e(g,["bigqueryDestination","outputUri"]);return T!=null&&t(y,["bigqueryUri"],T),y}(E)),n}(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(et||(et={}));class pi{constructor(n,i,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(n,s,l)}init(n,i,s){var l,v;this.nameInternal=n,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i?.sdkHttpResponse,this.idxInternal=0;let f={config:{}};(f=s&&Object.keys(s).length!==0?typeof s=="object"?Object.assign({},s):s:{config:{}}).config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(v=(l=f.config)==null?void 0:l.pageSize)!=null?v:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw Error("No more pages to fetch.");let n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)==null?void 0:n.pageToken)!==void 0}}class _i extends an{constructor(n){super(),this.apiClient=n,this.create=async i=>{var s,l;if(this.apiClient.isVertexAI()){let v=Date.now().toString();if(Array.isArray(i.src))throw Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(i.config=i.config||{},i.config.displayName===void 0&&(i.config.displayName="genaiBatchJob_${timestampStr}"),i.config.dest===void 0&&typeof i.src=="string")if(i.src.startsWith("gs://")&&i.src.endsWith(".jsonl"))i.config.dest=`${i.src.slice(0,-6)}/dest`;else if(i.src.startsWith("bq://"))i.config.dest=`${i.src}_dest_${v}`;else throw Error("Unsupported source:"+i.src)}else if(Array.isArray(i.src)||typeof i.src!="string"&&i.src.inlinedRequests){let v="",f={},p=ci(this.apiClient,i);v=ht("{model}:batchGenerateContent",p._url),f=p._query;let o=p.batch.inputConfig.requests,u=o.requests,h=[];for(let d of u){if(d.systemInstruction){let E=d.systemInstruction;delete d.systemInstruction;let g=d.request;g.systemInstruction=E,d.request=g}h.push(d)}return o.requests=h,delete p.config,delete p._url,delete p._query,this.apiClient.request({path:v,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=i.config)==null?void 0:s.httpOptions,abortSignal:(l=i.config)==null?void 0:l.abortSignal}).then(d=>d.json()).then(d=>cr(d))}return await this.createInternal(i)},this.list=async(i={})=>new pi(et.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i)}async createInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["model"],a(u,E));let g=e(h,["src"]);g!=null&&t(d,["inputConfig"],function(_){let S={},T=e(_,["format"]);T!=null&&t(S,["instancesFormat"],T);let k=e(_,["gcsUri"]);k!=null&&t(S,["gcsSource","uris"],k);let I=e(_,["bigqueryUri"]);if(I!=null&&t(S,["bigquerySource","inputUri"],I),e(_,["fileName"])!==void 0)throw Error("fileName parameter is not supported in Vertex AI.");if(e(_,["inlinedRequests"])!==void 0)throw Error("inlinedRequests parameter is not supported in Vertex AI.");return S}(Pr(u,g)));let y=e(h,["config"]);return y!=null&&t(d,["config"],function(_,S){let T=e(_,["displayName"]);S!==void 0&&T!=null&&t(S,["displayName"],T);let k=e(_,["dest"]);return S!==void 0&&k!=null&&t(S,["outputConfig"],function(I){let M={},K=e(I,["format"]);K!=null&&t(M,["predictionsFormat"],K);let X=e(I,["gcsUri"]);X!=null&&t(M,["gcsDestination","outputUriPrefix"],X);let he=e(I,["bigqueryUri"]);if(he!=null&&t(M,["bigqueryDestination","outputUri"],he),e(I,["fileName"])!==void 0)throw Error("fileName parameter is not supported in Vertex AI.");if(e(I,["inlinedResponses"])!==void 0)throw Error("inlinedResponses parameter is not supported in Vertex AI.");return M}(function(I){if(typeof I!="string")return I;if(I.startsWith("gs://"))return{format:"jsonl",gcsUri:I};if(I.startsWith("bq://"))return{format:"bigquery",bigqueryUri:I};throw Error(`Unsupported destination: ${I}`)}(k))),{}}(y,d)),d}(this.apiClient,n);return f=ht("batchPredictionJobs",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json()).then(u=>Ni(u))}{let o=ci(this.apiClient,n);return f=ht("{model}:batchGenerateContent",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json()).then(u=>cr(u))}}async get(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("batchPredictionJobs/{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json()).then(u=>Ni(u))}{let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("batches/{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json()).then(u=>cr(u))}}async cancel(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);f=ht("batchPredictionJobs/{name}:cancel",o._url),p=o._query,delete o.config,delete o._url,delete o._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal})}else{let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);f=ht("batches/{name}:cancel",o._url),p=o._query,delete o.config,delete o._url,delete o._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal})}}async listInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u){let h={},d=e(u,["config"]);return d!=null&&t(h,["config"],function(E,g){let y=e(E,["pageSize"]);g!==void 0&&y!=null&&t(g,["_query","pageSize"],y);let _=e(E,["pageToken"]);g!==void 0&&_!=null&&t(g,["_query","pageToken"],_);let S=e(E,["filter"]);return g!==void 0&&S!=null&&t(g,["_query","filter"],S),{}}(d,h)),h}(n);return f=ht("batchPredictionJobs",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["nextPageToken"]);_!=null&&t(g,["nextPageToken"],_);let S=e(E,["batchPredictionJobs"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(k=>Ni(k))),t(g,["batchJobs"],T)}return g}(u),d=new Fn;return Object.assign(d,h),d})}{let o=function(u){let h={},d=e(u,["config"]);return d!=null&&t(h,["config"],function(E,g){let y=e(E,["pageSize"]);g!==void 0&&y!=null&&t(g,["_query","pageSize"],y);let _=e(E,["pageToken"]);if(g!==void 0&&_!=null&&t(g,["_query","pageToken"],_),e(E,["filter"])!==void 0)throw Error("filter parameter is not supported in Gemini API.");return{}}(d,h)),h}(n);return f=ht("batches",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["nextPageToken"]);_!=null&&t(g,["nextPageToken"],_);let S=e(E,["operations"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(k=>cr(k))),t(g,["batchJobs"],T)}return g}(u),d=new Fn;return Object.assign(d,h),d})}}async delete(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("batchPredictionJobs/{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>function(h){let d={},E=e(h,["sdkHttpResponse"]);E!=null&&t(d,["sdkHttpResponse"],E);let g=e(h,["name"]);g!=null&&t(d,["name"],g);let y=e(h,["done"]);y!=null&&t(d,["done"],y);let _=e(h,["error"]);return _!=null&&t(d,["error"],di(_)),d}(u))}{let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("batches/{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>function(h){let d={},E=e(h,["sdkHttpResponse"]);E!=null&&t(d,["sdkHttpResponse"],E);let g=e(h,["name"]);g!=null&&t(d,["name"],g);let y=e(h,["done"]);y!=null&&t(d,["done"],y);let _=e(h,["error"]);return _!=null&&t(d,["error"],Cr(_)),d}(u))}}}function eo(r){let n={},i=e(r,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(v=>function(f){let p={},o=e(f,["videoMetadata"]);o!=null&&t(p,["videoMetadata"],function(k){let I={},M=e(k,["fps"]);M!=null&&t(I,["fps"],M);let K=e(k,["endOffset"]);K!=null&&t(I,["endOffset"],K);let X=e(k,["startOffset"]);return X!=null&&t(I,["startOffset"],X),I}(o));let u=e(f,["thought"]);u!=null&&t(p,["thought"],u);let h=e(f,["inlineData"]);h!=null&&t(p,["inlineData"],function(k){let I={};if(e(k,["displayName"])!==void 0)throw Error("displayName parameter is not supported in Gemini API.");let M=e(k,["data"]);M!=null&&t(I,["data"],M);let K=e(k,["mimeType"]);return K!=null&&t(I,["mimeType"],K),I}(h));let d=e(f,["fileData"]);d!=null&&t(p,["fileData"],function(k){let I={};if(e(k,["displayName"])!==void 0)throw Error("displayName parameter is not supported in Gemini API.");let M=e(k,["fileUri"]);M!=null&&t(I,["fileUri"],M);let K=e(k,["mimeType"]);return K!=null&&t(I,["mimeType"],K),I}(d));let E=e(f,["thoughtSignature"]);E!=null&&t(p,["thoughtSignature"],E);let g=e(f,["codeExecutionResult"]);g!=null&&t(p,["codeExecutionResult"],g);let y=e(f,["executableCode"]);y!=null&&t(p,["executableCode"],y);let _=e(f,["functionCall"]);_!=null&&t(p,["functionCall"],_);let S=e(f,["functionResponse"]);S!=null&&t(p,["functionResponse"],S);let T=e(f,["text"]);return T!=null&&t(p,["text"],T),p}(v))),t(n,["parts"],l)}let s=e(r,["role"]);return s!=null&&t(n,["role"],s),n}function dr(r){let n={},i=e(r,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(v=>function(f){let p={},o=e(f,["videoMetadata"]);o!=null&&t(p,["videoMetadata"],function(k){let I={},M=e(k,["fps"]);M!=null&&t(I,["fps"],M);let K=e(k,["endOffset"]);K!=null&&t(I,["endOffset"],K);let X=e(k,["startOffset"]);return X!=null&&t(I,["startOffset"],X),I}(o));let u=e(f,["thought"]);u!=null&&t(p,["thought"],u);let h=e(f,["inlineData"]);h!=null&&t(p,["inlineData"],function(k){let I={},M=e(k,["displayName"]);M!=null&&t(I,["displayName"],M);let K=e(k,["data"]);K!=null&&t(I,["data"],K);let X=e(k,["mimeType"]);return X!=null&&t(I,["mimeType"],X),I}(h));let d=e(f,["fileData"]);d!=null&&t(p,["fileData"],function(k){let I={},M=e(k,["displayName"]);M!=null&&t(I,["displayName"],M);let K=e(k,["fileUri"]);K!=null&&t(I,["fileUri"],K);let X=e(k,["mimeType"]);return X!=null&&t(I,["mimeType"],X),I}(d));let E=e(f,["thoughtSignature"]);E!=null&&t(p,["thoughtSignature"],E);let g=e(f,["codeExecutionResult"]);g!=null&&t(p,["codeExecutionResult"],g);let y=e(f,["executableCode"]);y!=null&&t(p,["executableCode"],y);let _=e(f,["functionCall"]);_!=null&&t(p,["functionCall"],_);let S=e(f,["functionResponse"]);S!=null&&t(p,["functionResponse"],S);let T=e(f,["text"]);return T!=null&&t(p,["text"],T),p}(v))),t(n,["parts"],l)}let s=e(r,["role"]);return s!=null&&t(n,["role"],s),n}function qr(r){let n={},i=e(r,["name"]);i!=null&&t(n,["name"],i);let s=e(r,["displayName"]);s!=null&&t(n,["displayName"],s);let l=e(r,["model"]);l!=null&&t(n,["model"],l);let v=e(r,["createTime"]);v!=null&&t(n,["createTime"],v);let f=e(r,["updateTime"]);f!=null&&t(n,["updateTime"],f);let p=e(r,["expireTime"]);p!=null&&t(n,["expireTime"],p);let o=e(r,["usageMetadata"]);return o!=null&&t(n,["usageMetadata"],o),n}function fi(r){let n={},i=e(r,["name"]);i!=null&&t(n,["name"],i);let s=e(r,["displayName"]);s!=null&&t(n,["displayName"],s);let l=e(r,["model"]);l!=null&&t(n,["model"],l);let v=e(r,["createTime"]);v!=null&&t(n,["createTime"],v);let f=e(r,["updateTime"]);f!=null&&t(n,["updateTime"],f);let p=e(r,["expireTime"]);p!=null&&t(n,["expireTime"],p);let o=e(r,["usageMetadata"]);return o!=null&&t(n,["usageMetadata"],o),n}class mo extends an{constructor(n){super(),this.apiClient=n,this.list=async(i={})=>new pi(et.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["model"],R(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],function(y,_){let S=e(y,["ttl"]);_!==void 0&&S!=null&&t(_,["ttl"],S);let T=e(y,["expireTime"]);_!==void 0&&T!=null&&t(_,["expireTime"],T);let k=e(y,["displayName"]);_!==void 0&&k!=null&&t(_,["displayName"],k);let I=e(y,["contents"]);if(_!==void 0&&I!=null){let te=Kt(I);Array.isArray(te)&&(te=te.map(Z=>dr(Z))),t(_,["contents"],te)}let M=e(y,["systemInstruction"]);_!==void 0&&M!=null&&t(_,["systemInstruction"],dr(Rt(M)));let K=e(y,["tools"]);if(_!==void 0&&K!=null){let te=K;Array.isArray(te)&&(te=te.map(Z=>function(oe){let me={},Oe=e(oe,["functionDeclarations"]);if(Oe!=null){let ze=Oe;Array.isArray(ze)&&(ze=ze.map(Ie=>function(xe){let ot={};if(e(xe,["behavior"])!==void 0)throw Error("behavior parameter is not supported in Vertex AI.");let lt=e(xe,["description"]);lt!=null&&t(ot,["description"],lt);let Xe=e(xe,["name"]);Xe!=null&&t(ot,["name"],Xe);let Me=e(xe,["parameters"]);Me!=null&&t(ot,["parameters"],Me);let Se=e(xe,["parametersJsonSchema"]);Se!=null&&t(ot,["parametersJsonSchema"],Se);let Ue=e(xe,["response"]);Ue!=null&&t(ot,["response"],Ue);let je=e(xe,["responseJsonSchema"]);return je!=null&&t(ot,["responseJsonSchema"],je),ot}(Ie))),t(me,["functionDeclarations"],ze)}let ue=e(oe,["retrieval"]);ue!=null&&t(me,["retrieval"],ue);let Y=e(oe,["googleSearch"]);Y!=null&&t(me,["googleSearch"],function(ze){let Ie={},xe=e(ze,["timeRangeFilter"]);xe!=null&&t(Ie,["timeRangeFilter"],function(lt){let Xe={},Me=e(lt,["startTime"]);Me!=null&&t(Xe,["startTime"],Me);let Se=e(lt,["endTime"]);return Se!=null&&t(Xe,["endTime"],Se),Xe}(xe));let ot=e(ze,["excludeDomains"]);return ot!=null&&t(Ie,["excludeDomains"],ot),Ie}(Y));let pt=e(oe,["googleSearchRetrieval"]);pt!=null&&t(me,["googleSearchRetrieval"],function(ze){let Ie={},xe=e(ze,["dynamicRetrievalConfig"]);return xe!=null&&t(Ie,["dynamicRetrievalConfig"],function(ot){let lt={},Xe=e(ot,["mode"]);Xe!=null&&t(lt,["mode"],Xe);let Me=e(ot,["dynamicThreshold"]);return Me!=null&&t(lt,["dynamicThreshold"],Me),lt}(xe)),Ie}(pt));let _t=e(oe,["enterpriseWebSearch"]);_t!=null&&t(me,["enterpriseWebSearch"],function(ze){let Ie={},xe=e(ze,["excludeDomains"]);return xe!=null&&t(Ie,["excludeDomains"],xe),Ie}(_t));let Ne=e(oe,["googleMaps"]);Ne!=null&&t(me,["googleMaps"],function(ze){let Ie={},xe=e(ze,["authConfig"]);return xe!=null&&t(Ie,["authConfig"],function(ot){let lt={},Xe=e(ot,["apiKeyConfig"]);Xe!=null&&t(lt,["apiKeyConfig"],function(De){let tt={},Le=e(De,["apiKeyString"]);return Le!=null&&t(tt,["apiKeyString"],Le),tt}(Xe));let Me=e(ot,["authType"]);Me!=null&&t(lt,["authType"],Me);let Se=e(ot,["googleServiceAccountConfig"]);Se!=null&&t(lt,["googleServiceAccountConfig"],Se);let Ue=e(ot,["httpBasicAuthConfig"]);Ue!=null&&t(lt,["httpBasicAuthConfig"],Ue);let je=e(ot,["oauthConfig"]);je!=null&&t(lt,["oauthConfig"],je);let Ae=e(ot,["oidcConfig"]);return Ae!=null&&t(lt,["oidcConfig"],Ae),lt}(xe)),Ie}(Ne)),e(oe,["urlContext"])!=null&&t(me,["urlContext"],{});let Be=e(oe,["computerUse"]);Be!=null&&t(me,["computerUse"],function(ze){let Ie={},xe=e(ze,["environment"]);return xe!=null&&t(Ie,["environment"],xe),Ie}(Be));let Ze=e(oe,["codeExecution"]);return Ze!=null&&t(me,["codeExecution"],Ze),me}(Z))),t(_,["tools"],te)}let X=e(y,["toolConfig"]);_!==void 0&&X!=null&&t(_,["toolConfig"],function(te){let Z={},oe=e(te,["functionCallingConfig"]);oe!=null&&t(Z,["functionCallingConfig"],function(Oe){let ue={},Y=e(Oe,["mode"]);Y!=null&&t(ue,["mode"],Y);let pt=e(Oe,["allowedFunctionNames"]);return pt!=null&&t(ue,["allowedFunctionNames"],pt),ue}(oe));let me=e(te,["retrievalConfig"]);return me!=null&&t(Z,["retrievalConfig"],function(Oe){let ue={},Y=e(Oe,["latLng"]);Y!=null&&t(ue,["latLng"],function(_t){let Ne={},Be=e(_t,["latitude"]);Be!=null&&t(Ne,["latitude"],Be);let Ze=e(_t,["longitude"]);return Ze!=null&&t(Ne,["longitude"],Ze),Ne}(Y));let pt=e(Oe,["languageCode"]);return pt!=null&&t(ue,["languageCode"],pt),ue}(me)),Z}(X));let he=e(y,["kmsKeyName"]);return _!==void 0&&he!=null&&t(_,["encryption_spec","kmsKeyName"],he),{}}(g,d)),d}(this.apiClient,n);return f=ht("cachedContents",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json()).then(u=>fi(u))}{let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["model"],R(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],function(y,_){let S=e(y,["ttl"]);_!==void 0&&S!=null&&t(_,["ttl"],S);let T=e(y,["expireTime"]);_!==void 0&&T!=null&&t(_,["expireTime"],T);let k=e(y,["displayName"]);_!==void 0&&k!=null&&t(_,["displayName"],k);let I=e(y,["contents"]);if(_!==void 0&&I!=null){let he=Kt(I);Array.isArray(he)&&(he=he.map(te=>eo(te))),t(_,["contents"],he)}let M=e(y,["systemInstruction"]);_!==void 0&&M!=null&&t(_,["systemInstruction"],eo(Rt(M)));let K=e(y,["tools"]);if(_!==void 0&&K!=null){let he=K;Array.isArray(he)&&(he=he.map(te=>function(Z){let oe={},me=e(Z,["functionDeclarations"]);if(me!=null){let _t=me;Array.isArray(_t)&&(_t=_t.map(Ne=>function(Be){let Ze={},ze=e(Be,["behavior"]);ze!=null&&t(Ze,["behavior"],ze);let Ie=e(Be,["description"]);Ie!=null&&t(Ze,["description"],Ie);let xe=e(Be,["name"]);xe!=null&&t(Ze,["name"],xe);let ot=e(Be,["parameters"]);ot!=null&&t(Ze,["parameters"],ot);let lt=e(Be,["parametersJsonSchema"]);lt!=null&&t(Ze,["parametersJsonSchema"],lt);let Xe=e(Be,["response"]);Xe!=null&&t(Ze,["response"],Xe);let Me=e(Be,["responseJsonSchema"]);return Me!=null&&t(Ze,["responseJsonSchema"],Me),Ze}(Ne))),t(oe,["functionDeclarations"],_t)}if(e(Z,["retrieval"])!==void 0)throw Error("retrieval parameter is not supported in Gemini API.");let Oe=e(Z,["googleSearch"]);Oe!=null&&t(oe,["googleSearch"],function(_t){let Ne={},Be=e(_t,["timeRangeFilter"]);if(Be!=null&&t(Ne,["timeRangeFilter"],function(Ze){let ze={},Ie=e(Ze,["startTime"]);Ie!=null&&t(ze,["startTime"],Ie);let xe=e(Ze,["endTime"]);return xe!=null&&t(ze,["endTime"],xe),ze}(Be)),e(_t,["excludeDomains"])!==void 0)throw Error("excludeDomains parameter is not supported in Gemini API.");return Ne}(Oe));let ue=e(Z,["googleSearchRetrieval"]);if(ue!=null&&t(oe,["googleSearchRetrieval"],function(_t){let Ne={},Be=e(_t,["dynamicRetrievalConfig"]);return Be!=null&&t(Ne,["dynamicRetrievalConfig"],function(Ze){let ze={},Ie=e(Ze,["mode"]);Ie!=null&&t(ze,["mode"],Ie);let xe=e(Ze,["dynamicThreshold"]);return xe!=null&&t(ze,["dynamicThreshold"],xe),ze}(Be)),Ne}(ue)),e(Z,["enterpriseWebSearch"])!==void 0)throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(e(Z,["googleMaps"])!==void 0)throw Error("googleMaps parameter is not supported in Gemini API.");e(Z,["urlContext"])!=null&&t(oe,["urlContext"],{});let Y=e(Z,["computerUse"]);Y!=null&&t(oe,["computerUse"],function(_t){let Ne={},Be=e(_t,["environment"]);return Be!=null&&t(Ne,["environment"],Be),Ne}(Y));let pt=e(Z,["codeExecution"]);return pt!=null&&t(oe,["codeExecution"],pt),oe}(te))),t(_,["tools"],he)}let X=e(y,["toolConfig"]);if(_!==void 0&&X!=null&&t(_,["toolConfig"],function(he){let te={},Z=e(he,["functionCallingConfig"]);Z!=null&&t(te,["functionCallingConfig"],function(me){let Oe={},ue=e(me,["mode"]);ue!=null&&t(Oe,["mode"],ue);let Y=e(me,["allowedFunctionNames"]);return Y!=null&&t(Oe,["allowedFunctionNames"],Y),Oe}(Z));let oe=e(he,["retrievalConfig"]);return oe!=null&&t(te,["retrievalConfig"],function(me){let Oe={},ue=e(me,["latLng"]);ue!=null&&t(Oe,["latLng"],function(pt){let _t={},Ne=e(pt,["latitude"]);Ne!=null&&t(_t,["latitude"],Ne);let Be=e(pt,["longitude"]);return Be!=null&&t(_t,["longitude"],Be),_t}(ue));let Y=e(me,["languageCode"]);return Y!=null&&t(Oe,["languageCode"],Y),Oe}(oe)),te}(X)),e(y,["kmsKeyName"])!==void 0)throw Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(g,d)),d}(this.apiClient,n);return f=ht("cachedContents",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json()).then(u=>qr(u))}}async get(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],Zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json()).then(u=>fi(u))}{let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],Zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json()).then(u=>qr(u))}}async delete(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],Zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);return y!=null&&t(g,["sdkHttpResponse"],y),g}(u),d=new yr;return Object.assign(d,h),d})}{let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],Zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);return y!=null&&t(g,["sdkHttpResponse"],y),g}(u),d=new yr;return Object.assign(d,h),d})}}async update(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],Zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],function(y,_){let S=e(y,["ttl"]);_!==void 0&&S!=null&&t(_,["ttl"],S);let T=e(y,["expireTime"]);return _!==void 0&&T!=null&&t(_,["expireTime"],T),{}}(g,d)),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json()).then(u=>fi(u))}{let o=function(u,h){let d={},E=e(h,["name"]);E!=null&&t(d,["_url","name"],Zn(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],function(y,_){let S=e(y,["ttl"]);_!==void 0&&S!=null&&t(_,["ttl"],S);let T=e(y,["expireTime"]);return _!==void 0&&T!=null&&t(_,["expireTime"],T),{}}(g,d)),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json()).then(u=>qr(u))}}async listInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u){let h={},d=e(u,["config"]);return d!=null&&t(h,["config"],function(E,g){let y=e(E,["pageSize"]);g!==void 0&&y!=null&&t(g,["_query","pageSize"],y);let _=e(E,["pageToken"]);return g!==void 0&&_!=null&&t(g,["_query","pageToken"],_),{}}(d,h)),h}(n);return f=ht("cachedContents",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["nextPageToken"]);_!=null&&t(g,["nextPageToken"],_);let S=e(E,["cachedContents"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(k=>fi(k))),t(g,["cachedContents"],T)}return g}(u),d=new br;return Object.assign(d,h),d})}{let o=function(u){let h={},d=e(u,["config"]);return d!=null&&t(h,["config"],function(E,g){let y=e(E,["pageSize"]);g!==void 0&&y!=null&&t(g,["_query","pageSize"],y);let _=e(E,["pageToken"]);return g!==void 0&&_!=null&&t(g,["_query","pageToken"],_),{}}(d,h)),h}(n);return f=ht("cachedContents",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["nextPageToken"]);_!=null&&t(g,["nextPageToken"],_);let S=e(E,["cachedContents"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(k=>qr(k))),t(g,["cachedContents"],T)}return g}(u),d=new br;return Object.assign(d,h),d})}}}function On(r){return this instanceof On?(this.v=r,this):new On(r)}function Kr(r,n,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var s,l=i.apply(r,n||[]),v=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",function(d){return function(E){return Promise.resolve(E).then(d,u)}}),s[Symbol.asyncIterator]=function(){return this},s;function f(d,E){l[d]&&(s[d]=function(g){return new Promise(function(y,_){v.push([d,g,y,_])>1||p(d,g)})},E&&(s[d]=E(s[d])))}function p(d,E){try{var g;(g=l[d](E)).value instanceof On?Promise.resolve(g.value.v).then(o,u):h(v[0][2],g)}catch(y){h(v[0][3],y)}}function o(d){p("next",d)}function u(d){p("throw",d)}function h(d,E){d(E),v.shift(),v.length&&p(v[0][0],v[0][1])}}function ri(r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r[Symbol.asyncIterator];return i?i.call(r):(r=function(l){var v=typeof Symbol=="function"&&Symbol.iterator,f=v&&l[v],p=0;if(f)return f.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&p>=l.length&&(l=void 0),{value:l&&l[p++],done:!l}}};throw TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=r[l]&&function(v){return new Promise(function(f,p){var o,u,h;o=f,u=p,h=(v=r[l](v)).done,Promise.resolve(v.value).then(function(d){o({value:d,done:h})},u)})}}}function ki(r){if(r.parts===void 0||r.parts.length===0)return!1;for(let n of r.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function Ei(r){if(r===void 0||r.length===0)return[];let n=[],i=r.length,s=0;for(;s<i;)if(r[s].role==="user")n.push(r[s]),s++;else{let l=[],v=!0;for(;s<i&&r[s].role==="model";)l.push(r[s]),v&&!ki(r[s])&&(v=!1),s++;v?n.push(...l):n.pop()}return n}typeof SuppressedError=="function"&&SuppressedError;class hi{constructor(n,i){this.modelsModule=n,this.apiClient=i}create(n){return new Xr(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class Xr{constructor(n,i,s,l={},v=[]){this.apiClient=n,this.modelsModule=i,this.model=s,this.config=l,this.history=v,this.sendPromise=Promise.resolve(),function(f){if(f.length!==0){for(let p of f)if(p.role!=="user"&&p.role!=="model")throw Error(`Role must be user or model, but got ${p.role}.`)}}(v)}async sendMessage(n){var i;await this.sendPromise;let s=Rt(n.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=n.config)!=null?i:this.config});return this.sendPromise=(async()=>{var v,f,p;let o=await l,u=(f=(v=o.candidates)==null?void 0:v[0])==null?void 0:f.content,h=o.automaticFunctionCallingHistory,d=this.getHistory(!0).length,E=[];h!=null&&(E=(p=h.slice(d))!=null?p:[]),this.recordHistory(s,u?[u]:[],E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(n){var i;await this.sendPromise;let s=Rt(n.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=n.config)!=null?i:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});let v=await l;return this.processStreamResponse(v,s)}getHistory(n=!1){return structuredClone(n?Ei(this.history):this.history)}processStreamResponse(n,i){var s,l;return Kr(this,arguments,function*(){var v,f,p,o;let u=[];try{for(var h,d=!0,E=ri(n);!(v=(h=yield On(E.next())).done);d=!0){if(o=h.value,d=!1,function(g){var y;if(g.candidates==null||g.candidates.length===0)return!1;let _=(y=g.candidates[0])==null?void 0:y.content;return _!==void 0&&ki(_)}(o)){let g=(l=(s=o.candidates)==null?void 0:s[0])==null?void 0:l.content;g!==void 0&&u.push(g)}yield yield On(o)}}catch(g){f={error:g}}finally{try{!d&&!v&&(p=E.return)&&(yield On(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(i,u)})}recordHistory(n,i,s){let l=[];i.length>0&&i.every(v=>v.role!==void 0)?l=i:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Ei(s)):this.history.push(n),this.history.push(...l)}}class bi extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,bi.prototype)}}function Mi(r){let n={},i=e(r,["name"]);i!=null&&t(n,["name"],i);let s=e(r,["displayName"]);s!=null&&t(n,["displayName"],s);let l=e(r,["mimeType"]);l!=null&&t(n,["mimeType"],l);let v=e(r,["sizeBytes"]);v!=null&&t(n,["sizeBytes"],v);let f=e(r,["createTime"]);f!=null&&t(n,["createTime"],f);let p=e(r,["expirationTime"]);p!=null&&t(n,["expirationTime"],p);let o=e(r,["updateTime"]);o!=null&&t(n,["updateTime"],o);let u=e(r,["sha256Hash"]);u!=null&&t(n,["sha256Hash"],u);let h=e(r,["uri"]);h!=null&&t(n,["uri"],h);let d=e(r,["downloadUri"]);d!=null&&t(n,["downloadUri"],d);let E=e(r,["state"]);E!=null&&t(n,["state"],E);let g=e(r,["source"]);g!=null&&t(n,["source"],g);let y=e(r,["videoMetadata"]);y!=null&&t(n,["videoMetadata"],y);let _=e(r,["error"]);return _!=null&&t(n,["error"],function(S){let T={},k=e(S,["details"]);k!=null&&t(T,["details"],k);let I=e(S,["message"]);I!=null&&t(T,["message"],I);let M=e(S,["code"]);return M!=null&&t(T,["code"],M),T}(_)),n}class xr extends an{constructor(n){super(),this.apiClient=n,this.list=async(i={})=>new pi(et.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(n){if(this.apiClient.isVertexAI())throw Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(i=>Mi(i))}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let f=function(p){let o={},u=e(p,["config"]);return u!=null&&t(o,["config"],function(h,d){let E=e(h,["pageSize"]);d!==void 0&&E!=null&&t(d,["_query","pageSize"],E);let g=e(h,["pageToken"]);return d!==void 0&&g!=null&&t(d,["_query","pageToken"],g),{}}(u,o)),o}(n);return l=ht("files",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json().then(o=>(o.sdkHttpResponse={headers:p.headers},o))).then(p=>{let o=function(h){let d={},E=e(h,["sdkHttpResponse"]);E!=null&&t(d,["sdkHttpResponse"],E);let g=e(h,["nextPageToken"]);g!=null&&t(d,["nextPageToken"],g);let y=e(h,["files"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>Mi(S))),t(d,["files"],_)}return d}(p),u=new vr;return Object.assign(u,o),u})}}async createInternal(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let f=function(p){let o={},u=e(p,["file"]);u!=null&&t(o,["file"],function(d){let E={},g=e(d,["name"]);g!=null&&t(E,["name"],g);let y=e(d,["displayName"]);y!=null&&t(E,["displayName"],y);let _=e(d,["mimeType"]);_!=null&&t(E,["mimeType"],_);let S=e(d,["sizeBytes"]);S!=null&&t(E,["sizeBytes"],S);let T=e(d,["createTime"]);T!=null&&t(E,["createTime"],T);let k=e(d,["expirationTime"]);k!=null&&t(E,["expirationTime"],k);let I=e(d,["updateTime"]);I!=null&&t(E,["updateTime"],I);let M=e(d,["sha256Hash"]);M!=null&&t(E,["sha256Hash"],M);let K=e(d,["uri"]);K!=null&&t(E,["uri"],K);let X=e(d,["downloadUri"]);X!=null&&t(E,["downloadUri"],X);let he=e(d,["state"]);he!=null&&t(E,["state"],he);let te=e(d,["source"]);te!=null&&t(E,["source"],te);let Z=e(d,["videoMetadata"]);Z!=null&&t(E,["videoMetadata"],Z);let oe=e(d,["error"]);return oe!=null&&t(E,["error"],function(me){let Oe={},ue=e(me,["details"]);ue!=null&&t(Oe,["details"],ue);let Y=e(me,["message"]);Y!=null&&t(Oe,["message"],Y);let pt=e(me,["code"]);return pt!=null&&t(Oe,["code"],pt),Oe}(oe)),E}(u));let h=e(p,["config"]);return h!=null&&t(o,["config"],h),o}(n);return l=ht("upload/v1beta/files",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json()).then(p=>{let o=function(h){let d={},E=e(h,["sdkHttpResponse"]);return E!=null&&t(d,["sdkHttpResponse"],E),d}(p),u=new Sn;return Object.assign(u,o),u})}}async get(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let f=function(p){let o={},u=e(p,["name"]);u!=null&&t(o,["_url","file"],Lr(u));let h=e(p,["config"]);return h!=null&&t(o,["config"],h),o}(n);return l=ht("files/{file}",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json()).then(p=>Mi(p))}}async delete(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let f=function(p){let o={},u=e(p,["name"]);u!=null&&t(o,["_url","file"],Lr(u));let h=e(p,["config"]);return h!=null&&t(o,["config"],h),o}(n);return l=ht("files/{file}",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json().then(o=>(o.sdkHttpResponse={headers:p.headers},o))).then(p=>{let o=function(h){let d={},E=e(h,["sdkHttpResponse"]);return E!=null&&t(d,["sdkHttpResponse"],E),d}(p),u=new sn;return Object.assign(u,o),u})}}}function Di(r){let n={},i=e(r,["prebuiltVoiceConfig"]);return i!=null&&t(n,["prebuiltVoiceConfig"],function(s){let l={},v=e(s,["voiceName"]);return v!=null&&t(l,["voiceName"],v),l}(i)),n}function Ci(r){let n={},i=e(r,["text"]);i!=null&&t(n,["text"],i);let s=e(r,["weight"]);return s!=null&&t(n,["weight"],s),n}function Ui(r){let n={},i=e(r,["temperature"]);i!=null&&t(n,["temperature"],i);let s=e(r,["topK"]);s!=null&&t(n,["topK"],s);let l=e(r,["seed"]);l!=null&&t(n,["seed"],l);let v=e(r,["guidance"]);v!=null&&t(n,["guidance"],v);let f=e(r,["bpm"]);f!=null&&t(n,["bpm"],f);let p=e(r,["density"]);p!=null&&t(n,["density"],p);let o=e(r,["brightness"]);o!=null&&t(n,["brightness"],o);let u=e(r,["scale"]);u!=null&&t(n,["scale"],u);let h=e(r,["muteBass"]);h!=null&&t(n,["muteBass"],h);let d=e(r,["muteDrums"]);d!=null&&t(n,["muteDrums"],d);let E=e(r,["onlyBassAndDrums"]);E!=null&&t(n,["onlyBassAndDrums"],E);let g=e(r,["musicGenerationMode"]);return g!=null&&t(n,["musicGenerationMode"],g),n}function ji(r){let n={},i=e(r,["model"]);return i!=null&&t(n,["model"],i),n}function Li(r){let n={},i=e(r,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Ci(l))),t(n,["weightedPrompts"],s)}return n}function ii(r){let n={},i=e(r,["setup"]);i!=null&&t(n,["setup"],ji(i));let s=e(r,["clientContent"]);s!=null&&t(n,["clientContent"],Li(s));let l=e(r,["musicGenerationConfig"]);l!=null&&t(n,["musicGenerationConfig"],Ui(l));let v=e(r,["playbackControl"]);return v!=null&&t(n,["playbackControl"],v),n}function qi(r){let n={},i=e(r,["text"]);i!=null&&t(n,["text"],i);let s=e(r,["finished"]);return s!=null&&t(n,["finished"],s),n}function zr(r){let n={},i=e(r,["modality"]);i!=null&&t(n,["modality"],i);let s=e(r,["tokenCount"]);return s!=null&&t(n,["tokenCount"],s),n}function $i(r){let n={},i=e(r,["text"]);i!=null&&t(n,["text"],i);let s=e(r,["finished"]);return s!=null&&t(n,["finished"],s),n}function oi(r){let n={},i=e(r,["modality"]);i!=null&&t(n,["modality"],i);let s=e(r,["tokenCount"]);return s!=null&&t(n,["tokenCount"],s),n}function li(r){let n={},i=e(r,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(v=>function(f){let p={},o=e(f,["videoMetadata"]);o!=null&&t(p,["videoMetadata"],function(k){let I={},M=e(k,["fps"]);M!=null&&t(I,["fps"],M);let K=e(k,["endOffset"]);K!=null&&t(I,["endOffset"],K);let X=e(k,["startOffset"]);return X!=null&&t(I,["startOffset"],X),I}(o));let u=e(f,["thought"]);u!=null&&t(p,["thought"],u);let h=e(f,["inlineData"]);h!=null&&t(p,["inlineData"],function(k){let I={};if(e(k,["displayName"])!==void 0)throw Error("displayName parameter is not supported in Gemini API.");let M=e(k,["data"]);M!=null&&t(I,["data"],M);let K=e(k,["mimeType"]);return K!=null&&t(I,["mimeType"],K),I}(h));let d=e(f,["fileData"]);d!=null&&t(p,["fileData"],function(k){let I={};if(e(k,["displayName"])!==void 0)throw Error("displayName parameter is not supported in Gemini API.");let M=e(k,["fileUri"]);M!=null&&t(I,["fileUri"],M);let K=e(k,["mimeType"]);return K!=null&&t(I,["mimeType"],K),I}(d));let E=e(f,["thoughtSignature"]);E!=null&&t(p,["thoughtSignature"],E);let g=e(f,["codeExecutionResult"]);g!=null&&t(p,["codeExecutionResult"],g);let y=e(f,["executableCode"]);y!=null&&t(p,["executableCode"],y);let _=e(f,["functionCall"]);_!=null&&t(p,["functionCall"],_);let S=e(f,["functionResponse"]);S!=null&&t(p,["functionResponse"],S);let T=e(f,["text"]);return T!=null&&t(p,["text"],T),p}(v))),t(n,["parts"],l)}let s=e(r,["role"]);return s!=null&&t(n,["role"],s),n}function Si(r){let n={},i=e(r,["prebuiltVoiceConfig"]);return i!=null&&t(n,["prebuiltVoiceConfig"],function(s){let l={},v=e(s,["voiceName"]);return v!=null&&t(l,["voiceName"],v),l}(i)),n}function Hi(r,n){let i={},s=e(n,["model"]);s!=null&&t(i,["_url","model"],a(r,s));let l=e(n,["contents"]);if(l!=null){let f=Kt(l);Array.isArray(f)&&(f=f.map(p=>li(p))),t(i,["contents"],f)}let v=e(n,["config"]);return v!=null&&t(i,["generationConfig"],function(f,p,o){let u={},h=e(p,["systemInstruction"]);o!==void 0&&h!=null&&t(o,["systemInstruction"],li(Rt(h)));let d=e(p,["temperature"]);d!=null&&t(u,["temperature"],d);let E=e(p,["topP"]);E!=null&&t(u,["topP"],E);let g=e(p,["topK"]);g!=null&&t(u,["topK"],g);let y=e(p,["candidateCount"]);y!=null&&t(u,["candidateCount"],y);let _=e(p,["maxOutputTokens"]);_!=null&&t(u,["maxOutputTokens"],_);let S=e(p,["stopSequences"]);S!=null&&t(u,["stopSequences"],S);let T=e(p,["responseLogprobs"]);T!=null&&t(u,["responseLogprobs"],T);let k=e(p,["logprobs"]);k!=null&&t(u,["logprobs"],k);let I=e(p,["presencePenalty"]);I!=null&&t(u,["presencePenalty"],I);let M=e(p,["frequencyPenalty"]);M!=null&&t(u,["frequencyPenalty"],M);let K=e(p,["seed"]);K!=null&&t(u,["seed"],K);let X=e(p,["responseMimeType"]);X!=null&&t(u,["responseMimeType"],X);let he=e(p,["responseSchema"]);he!=null&&t(u,["responseSchema"],function(Ne){let Be={},Ze=e(Ne,["anyOf"]);Ze!=null&&t(Be,["anyOf"],Ze);let ze=e(Ne,["default"]);ze!=null&&t(Be,["default"],ze);let Ie=e(Ne,["description"]);Ie!=null&&t(Be,["description"],Ie);let xe=e(Ne,["enum"]);xe!=null&&t(Be,["enum"],xe);let ot=e(Ne,["example"]);ot!=null&&t(Be,["example"],ot);let lt=e(Ne,["format"]);lt!=null&&t(Be,["format"],lt);let Xe=e(Ne,["items"]);Xe!=null&&t(Be,["items"],Xe);let Me=e(Ne,["maxItems"]);Me!=null&&t(Be,["maxItems"],Me);let Se=e(Ne,["maxLength"]);Se!=null&&t(Be,["maxLength"],Se);let Ue=e(Ne,["maxProperties"]);Ue!=null&&t(Be,["maxProperties"],Ue);let je=e(Ne,["maximum"]);je!=null&&t(Be,["maximum"],je);let Ae=e(Ne,["minItems"]);Ae!=null&&t(Be,["minItems"],Ae);let De=e(Ne,["minLength"]);De!=null&&t(Be,["minLength"],De);let tt=e(Ne,["minProperties"]);tt!=null&&t(Be,["minProperties"],tt);let Le=e(Ne,["minimum"]);Le!=null&&t(Be,["minimum"],Le);let rt=e(Ne,["nullable"]);rt!=null&&t(Be,["nullable"],rt);let We=e(Ne,["pattern"]);We!=null&&t(Be,["pattern"],We);let mt=e(Ne,["properties"]);mt!=null&&t(Be,["properties"],mt);let Dt=e(Ne,["propertyOrdering"]);Dt!=null&&t(Be,["propertyOrdering"],Dt);let wt=e(Ne,["required"]);wt!=null&&t(Be,["required"],wt);let nt=e(Ne,["title"]);nt!=null&&t(Be,["title"],nt);let ft=e(Ne,["type"]);return ft!=null&&t(Be,["type"],ft),Be}(Lt(he)));let te=e(p,["responseJsonSchema"]);if(te!=null&&t(u,["responseJsonSchema"],te),e(p,["routingConfig"])!==void 0)throw Error("routingConfig parameter is not supported in Gemini API.");if(e(p,["modelSelectionConfig"])!==void 0)throw Error("modelSelectionConfig parameter is not supported in Gemini API.");let Z=e(p,["safetySettings"]);if(o!==void 0&&Z!=null){let Ne=Z;Array.isArray(Ne)&&(Ne=Ne.map(Be=>function(Ze){let ze={};if(e(Ze,["method"])!==void 0)throw Error("method parameter is not supported in Gemini API.");let Ie=e(Ze,["category"]);Ie!=null&&t(ze,["category"],Ie);let xe=e(Ze,["threshold"]);return xe!=null&&t(ze,["threshold"],xe),ze}(Be))),t(o,["safetySettings"],Ne)}let oe=e(p,["tools"]);if(o!==void 0&&oe!=null){let Ne=Bt(oe);Array.isArray(Ne)&&(Ne=Ne.map(Be=>function(Ze){let ze={},Ie=e(Ze,["functionDeclarations"]);if(Ie!=null){let Me=Ie;Array.isArray(Me)&&(Me=Me.map(Se=>function(Ue){let je={},Ae=e(Ue,["behavior"]);Ae!=null&&t(je,["behavior"],Ae);let De=e(Ue,["description"]);De!=null&&t(je,["description"],De);let tt=e(Ue,["name"]);tt!=null&&t(je,["name"],tt);let Le=e(Ue,["parameters"]);Le!=null&&t(je,["parameters"],Le);let rt=e(Ue,["parametersJsonSchema"]);rt!=null&&t(je,["parametersJsonSchema"],rt);let We=e(Ue,["response"]);We!=null&&t(je,["response"],We);let mt=e(Ue,["responseJsonSchema"]);return mt!=null&&t(je,["responseJsonSchema"],mt),je}(Se))),t(ze,["functionDeclarations"],Me)}if(e(Ze,["retrieval"])!==void 0)throw Error("retrieval parameter is not supported in Gemini API.");let xe=e(Ze,["googleSearch"]);xe!=null&&t(ze,["googleSearch"],function(Me){let Se={},Ue=e(Me,["timeRangeFilter"]);if(Ue!=null&&t(Se,["timeRangeFilter"],function(je){let Ae={},De=e(je,["startTime"]);De!=null&&t(Ae,["startTime"],De);let tt=e(je,["endTime"]);return tt!=null&&t(Ae,["endTime"],tt),Ae}(Ue)),e(Me,["excludeDomains"])!==void 0)throw Error("excludeDomains parameter is not supported in Gemini API.");return Se}(xe));let ot=e(Ze,["googleSearchRetrieval"]);if(ot!=null&&t(ze,["googleSearchRetrieval"],function(Me){let Se={},Ue=e(Me,["dynamicRetrievalConfig"]);return Ue!=null&&t(Se,["dynamicRetrievalConfig"],function(je){let Ae={},De=e(je,["mode"]);De!=null&&t(Ae,["mode"],De);let tt=e(je,["dynamicThreshold"]);return tt!=null&&t(Ae,["dynamicThreshold"],tt),Ae}(Ue)),Se}(ot)),e(Ze,["enterpriseWebSearch"])!==void 0)throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(e(Ze,["googleMaps"])!==void 0)throw Error("googleMaps parameter is not supported in Gemini API.");e(Ze,["urlContext"])!=null&&t(ze,["urlContext"],{});let lt=e(Ze,["computerUse"]);lt!=null&&t(ze,["computerUse"],function(Me){let Se={},Ue=e(Me,["environment"]);return Ue!=null&&t(Se,["environment"],Ue),Se}(lt));let Xe=e(Ze,["codeExecution"]);return Xe!=null&&t(ze,["codeExecution"],Xe),ze}(un(Be)))),t(o,["tools"],Ne)}let me=e(p,["toolConfig"]);if(o!==void 0&&me!=null&&t(o,["toolConfig"],function(Ne){let Be={},Ze=e(Ne,["functionCallingConfig"]);Ze!=null&&t(Be,["functionCallingConfig"],function(Ie){let xe={},ot=e(Ie,["mode"]);ot!=null&&t(xe,["mode"],ot);let lt=e(Ie,["allowedFunctionNames"]);return lt!=null&&t(xe,["allowedFunctionNames"],lt),xe}(Ze));let ze=e(Ne,["retrievalConfig"]);return ze!=null&&t(Be,["retrievalConfig"],function(Ie){let xe={},ot=e(Ie,["latLng"]);ot!=null&&t(xe,["latLng"],function(Xe){let Me={},Se=e(Xe,["latitude"]);Se!=null&&t(Me,["latitude"],Se);let Ue=e(Xe,["longitude"]);return Ue!=null&&t(Me,["longitude"],Ue),Me}(ot));let lt=e(Ie,["languageCode"]);return lt!=null&&t(xe,["languageCode"],lt),xe}(ze)),Be}(me)),e(p,["labels"])!==void 0)throw Error("labels parameter is not supported in Gemini API.");let Oe=e(p,["cachedContent"]);o!==void 0&&Oe!=null&&t(o,["cachedContent"],Zn(f,Oe));let ue=e(p,["responseModalities"]);ue!=null&&t(u,["responseModalities"],ue);let Y=e(p,["mediaResolution"]);Y!=null&&t(u,["mediaResolution"],Y);let pt=e(p,["speechConfig"]);if(pt!=null&&t(u,["speechConfig"],function(Ne){let Be={},Ze=e(Ne,["voiceConfig"]);Ze!=null&&t(Be,["voiceConfig"],Si(Ze));let ze=e(Ne,["multiSpeakerVoiceConfig"]);ze!=null&&t(Be,["multiSpeakerVoiceConfig"],function(xe){let ot={},lt=e(xe,["speakerVoiceConfigs"]);if(lt!=null){let Xe=lt;Array.isArray(Xe)&&(Xe=Xe.map(Me=>function(Se){let Ue={},je=e(Se,["speaker"]);je!=null&&t(Ue,["speaker"],je);let Ae=e(Se,["voiceConfig"]);return Ae!=null&&t(Ue,["voiceConfig"],Si(Ae)),Ue}(Me))),t(ot,["speakerVoiceConfigs"],Xe)}return ot}(ze));let Ie=e(Ne,["languageCode"]);return Ie!=null&&t(Be,["languageCode"],Ie),Be}(It(pt))),e(p,["audioTimestamp"])!==void 0)throw Error("audioTimestamp parameter is not supported in Gemini API.");let _t=e(p,["thinkingConfig"]);return _t!=null&&t(u,["thinkingConfig"],function(Ne){let Be={},Ze=e(Ne,["includeThoughts"]);Ze!=null&&t(Be,["includeThoughts"],Ze);let ze=e(Ne,["thinkingBudget"]);return ze!=null&&t(Be,["thinkingBudget"],ze),Be}(_t)),u}(r,v,i)),i}function Fi(r){let n={};if(e(r,["gcsUri"])!==void 0)throw Error("gcsUri parameter is not supported in Gemini API.");let i=e(r,["imageBytes"]);i!=null&&t(n,["bytesBase64Encoded"],nn(i));let s=e(r,["mimeType"]);return s!=null&&t(n,["mimeType"],s),n}function Yr(r){let n={},i=e(r,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(v=>function(f){let p={},o=e(f,["videoMetadata"]);o!=null&&t(p,["videoMetadata"],function(k){let I={},M=e(k,["fps"]);M!=null&&t(I,["fps"],M);let K=e(k,["endOffset"]);K!=null&&t(I,["endOffset"],K);let X=e(k,["startOffset"]);return X!=null&&t(I,["startOffset"],X),I}(o));let u=e(f,["thought"]);u!=null&&t(p,["thought"],u);let h=e(f,["inlineData"]);h!=null&&t(p,["inlineData"],function(k){let I={},M=e(k,["displayName"]);M!=null&&t(I,["displayName"],M);let K=e(k,["data"]);K!=null&&t(I,["data"],K);let X=e(k,["mimeType"]);return X!=null&&t(I,["mimeType"],X),I}(h));let d=e(f,["fileData"]);d!=null&&t(p,["fileData"],function(k){let I={},M=e(k,["displayName"]);M!=null&&t(I,["displayName"],M);let K=e(k,["fileUri"]);K!=null&&t(I,["fileUri"],K);let X=e(k,["mimeType"]);return X!=null&&t(I,["mimeType"],X),I}(d));let E=e(f,["thoughtSignature"]);E!=null&&t(p,["thoughtSignature"],E);let g=e(f,["codeExecutionResult"]);g!=null&&t(p,["codeExecutionResult"],g);let y=e(f,["executableCode"]);y!=null&&t(p,["executableCode"],y);let _=e(f,["functionCall"]);_!=null&&t(p,["functionCall"],_);let S=e(f,["functionResponse"]);S!=null&&t(p,["functionResponse"],S);let T=e(f,["text"]);return T!=null&&t(p,["text"],T),p}(v))),t(n,["parts"],l)}let s=e(r,["role"]);return s!=null&&t(n,["role"],s),n}function $r(r){let n={},i=e(r,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>function(E){let g={};if(e(E,["behavior"])!==void 0)throw Error("behavior parameter is not supported in Vertex AI.");let y=e(E,["description"]);y!=null&&t(g,["description"],y);let _=e(E,["name"]);_!=null&&t(g,["name"],_);let S=e(E,["parameters"]);S!=null&&t(g,["parameters"],S);let T=e(E,["parametersJsonSchema"]);T!=null&&t(g,["parametersJsonSchema"],T);let k=e(E,["response"]);k!=null&&t(g,["response"],k);let I=e(E,["responseJsonSchema"]);return I!=null&&t(g,["responseJsonSchema"],I),g}(d))),t(n,["functionDeclarations"],h)}let s=e(r,["retrieval"]);s!=null&&t(n,["retrieval"],s);let l=e(r,["googleSearch"]);l!=null&&t(n,["googleSearch"],function(h){let d={},E=e(h,["timeRangeFilter"]);E!=null&&t(d,["timeRangeFilter"],function(y){let _={},S=e(y,["startTime"]);S!=null&&t(_,["startTime"],S);let T=e(y,["endTime"]);return T!=null&&t(_,["endTime"],T),_}(E));let g=e(h,["excludeDomains"]);return g!=null&&t(d,["excludeDomains"],g),d}(l));let v=e(r,["googleSearchRetrieval"]);v!=null&&t(n,["googleSearchRetrieval"],function(h){let d={},E=e(h,["dynamicRetrievalConfig"]);return E!=null&&t(d,["dynamicRetrievalConfig"],function(g){let y={},_=e(g,["mode"]);_!=null&&t(y,["mode"],_);let S=e(g,["dynamicThreshold"]);return S!=null&&t(y,["dynamicThreshold"],S),y}(E)),d}(v));let f=e(r,["enterpriseWebSearch"]);f!=null&&t(n,["enterpriseWebSearch"],function(h){let d={},E=e(h,["excludeDomains"]);return E!=null&&t(d,["excludeDomains"],E),d}(f));let p=e(r,["googleMaps"]);p!=null&&t(n,["googleMaps"],function(h){let d={},E=e(h,["authConfig"]);return E!=null&&t(d,["authConfig"],function(g){let y={},_=e(g,["apiKeyConfig"]);_!=null&&t(y,["apiKeyConfig"],function(K){let X={},he=e(K,["apiKeyString"]);return he!=null&&t(X,["apiKeyString"],he),X}(_));let S=e(g,["authType"]);S!=null&&t(y,["authType"],S);let T=e(g,["googleServiceAccountConfig"]);T!=null&&t(y,["googleServiceAccountConfig"],T);let k=e(g,["httpBasicAuthConfig"]);k!=null&&t(y,["httpBasicAuthConfig"],k);let I=e(g,["oauthConfig"]);I!=null&&t(y,["oauthConfig"],I);let M=e(g,["oidcConfig"]);return M!=null&&t(y,["oidcConfig"],M),y}(E)),d}(p)),e(r,["urlContext"])!=null&&t(n,["urlContext"],{});let o=e(r,["computerUse"]);o!=null&&t(n,["computerUse"],function(h){let d={},E=e(h,["environment"]);return E!=null&&t(d,["environment"],E),d}(o));let u=e(r,["codeExecution"]);return u!=null&&t(n,["codeExecution"],u),n}function Ri(r,n){let i={},s=e(n,["model"]);s!=null&&t(i,["_url","model"],a(r,s));let l=e(n,["contents"]);if(l!=null){let f=Kt(l);Array.isArray(f)&&(f=f.map(p=>Yr(p))),t(i,["contents"],f)}let v=e(n,["config"]);return v!=null&&t(i,["generationConfig"],function(f,p,o){let u={},h=e(p,["systemInstruction"]);o!==void 0&&h!=null&&t(o,["systemInstruction"],Yr(Rt(h)));let d=e(p,["temperature"]);d!=null&&t(u,["temperature"],d);let E=e(p,["topP"]);E!=null&&t(u,["topP"],E);let g=e(p,["topK"]);g!=null&&t(u,["topK"],g);let y=e(p,["candidateCount"]);y!=null&&t(u,["candidateCount"],y);let _=e(p,["maxOutputTokens"]);_!=null&&t(u,["maxOutputTokens"],_);let S=e(p,["stopSequences"]);S!=null&&t(u,["stopSequences"],S);let T=e(p,["responseLogprobs"]);T!=null&&t(u,["responseLogprobs"],T);let k=e(p,["logprobs"]);k!=null&&t(u,["logprobs"],k);let I=e(p,["presencePenalty"]);I!=null&&t(u,["presencePenalty"],I);let M=e(p,["frequencyPenalty"]);M!=null&&t(u,["frequencyPenalty"],M);let K=e(p,["seed"]);K!=null&&t(u,["seed"],K);let X=e(p,["responseMimeType"]);X!=null&&t(u,["responseMimeType"],X);let he=e(p,["responseSchema"]);he!=null&&t(u,["responseSchema"],function(Ie){let xe={},ot=e(Ie,["anyOf"]);ot!=null&&t(xe,["anyOf"],ot);let lt=e(Ie,["default"]);lt!=null&&t(xe,["default"],lt);let Xe=e(Ie,["description"]);Xe!=null&&t(xe,["description"],Xe);let Me=e(Ie,["enum"]);Me!=null&&t(xe,["enum"],Me);let Se=e(Ie,["example"]);Se!=null&&t(xe,["example"],Se);let Ue=e(Ie,["format"]);Ue!=null&&t(xe,["format"],Ue);let je=e(Ie,["items"]);je!=null&&t(xe,["items"],je);let Ae=e(Ie,["maxItems"]);Ae!=null&&t(xe,["maxItems"],Ae);let De=e(Ie,["maxLength"]);De!=null&&t(xe,["maxLength"],De);let tt=e(Ie,["maxProperties"]);tt!=null&&t(xe,["maxProperties"],tt);let Le=e(Ie,["maximum"]);Le!=null&&t(xe,["maximum"],Le);let rt=e(Ie,["minItems"]);rt!=null&&t(xe,["minItems"],rt);let We=e(Ie,["minLength"]);We!=null&&t(xe,["minLength"],We);let mt=e(Ie,["minProperties"]);mt!=null&&t(xe,["minProperties"],mt);let Dt=e(Ie,["minimum"]);Dt!=null&&t(xe,["minimum"],Dt);let wt=e(Ie,["nullable"]);wt!=null&&t(xe,["nullable"],wt);let nt=e(Ie,["pattern"]);nt!=null&&t(xe,["pattern"],nt);let ft=e(Ie,["properties"]);ft!=null&&t(xe,["properties"],ft);let Ot=e(Ie,["propertyOrdering"]);Ot!=null&&t(xe,["propertyOrdering"],Ot);let Pt=e(Ie,["required"]);Pt!=null&&t(xe,["required"],Pt);let qt=e(Ie,["title"]);qt!=null&&t(xe,["title"],qt);let xt=e(Ie,["type"]);return xt!=null&&t(xe,["type"],xt),xe}(Lt(he)));let te=e(p,["responseJsonSchema"]);te!=null&&t(u,["responseJsonSchema"],te);let Z=e(p,["routingConfig"]);Z!=null&&t(u,["routingConfig"],Z);let oe=e(p,["modelSelectionConfig"]);oe!=null&&t(u,["modelConfig"],function(Ie){let xe={},ot=e(Ie,["featureSelectionPreference"]);return ot!=null&&t(xe,["featureSelectionPreference"],ot),xe}(oe));let me=e(p,["safetySettings"]);if(o!==void 0&&me!=null){let Ie=me;Array.isArray(Ie)&&(Ie=Ie.map(xe=>function(ot){let lt={},Xe=e(ot,["method"]);Xe!=null&&t(lt,["method"],Xe);let Me=e(ot,["category"]);Me!=null&&t(lt,["category"],Me);let Se=e(ot,["threshold"]);return Se!=null&&t(lt,["threshold"],Se),lt}(xe))),t(o,["safetySettings"],Ie)}let Oe=e(p,["tools"]);if(o!==void 0&&Oe!=null){let Ie=Bt(Oe);Array.isArray(Ie)&&(Ie=Ie.map(xe=>$r(un(xe)))),t(o,["tools"],Ie)}let ue=e(p,["toolConfig"]);o!==void 0&&ue!=null&&t(o,["toolConfig"],function(Ie){let xe={},ot=e(Ie,["functionCallingConfig"]);ot!=null&&t(xe,["functionCallingConfig"],function(Xe){let Me={},Se=e(Xe,["mode"]);Se!=null&&t(Me,["mode"],Se);let Ue=e(Xe,["allowedFunctionNames"]);return Ue!=null&&t(Me,["allowedFunctionNames"],Ue),Me}(ot));let lt=e(Ie,["retrievalConfig"]);return lt!=null&&t(xe,["retrievalConfig"],function(Xe){let Me={},Se=e(Xe,["latLng"]);Se!=null&&t(Me,["latLng"],function(je){let Ae={},De=e(je,["latitude"]);De!=null&&t(Ae,["latitude"],De);let tt=e(je,["longitude"]);return tt!=null&&t(Ae,["longitude"],tt),Ae}(Se));let Ue=e(Xe,["languageCode"]);return Ue!=null&&t(Me,["languageCode"],Ue),Me}(lt)),xe}(ue));let Y=e(p,["labels"]);o!==void 0&&Y!=null&&t(o,["labels"],Y);let pt=e(p,["cachedContent"]);o!==void 0&&pt!=null&&t(o,["cachedContent"],Zn(f,pt));let _t=e(p,["responseModalities"]);_t!=null&&t(u,["responseModalities"],_t);let Ne=e(p,["mediaResolution"]);Ne!=null&&t(u,["mediaResolution"],Ne);let Be=e(p,["speechConfig"]);Be!=null&&t(u,["speechConfig"],function(Ie){let xe={},ot=e(Ie,["voiceConfig"]);if(ot!=null&&t(xe,["voiceConfig"],function(Xe){let Me={},Se=e(Xe,["prebuiltVoiceConfig"]);return Se!=null&&t(Me,["prebuiltVoiceConfig"],function(Ue){let je={},Ae=e(Ue,["voiceName"]);return Ae!=null&&t(je,["voiceName"],Ae),je}(Se)),Me}(ot)),e(Ie,["multiSpeakerVoiceConfig"])!==void 0)throw Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");let lt=e(Ie,["languageCode"]);return lt!=null&&t(xe,["languageCode"],lt),xe}(It(Be)));let Ze=e(p,["audioTimestamp"]);Ze!=null&&t(u,["audioTimestamp"],Ze);let ze=e(p,["thinkingConfig"]);return ze!=null&&t(u,["thinkingConfig"],function(Ie){let xe={},ot=e(Ie,["includeThoughts"]);ot!=null&&t(xe,["includeThoughts"],ot);let lt=e(Ie,["thinkingBudget"]);return lt!=null&&t(xe,["thinkingBudget"],lt),xe}(ze)),u}(r,v,i)),i}function Sr(r){let n={},i=e(r,["gcsUri"]);i!=null&&t(n,["gcsUri"],i);let s=e(r,["imageBytes"]);s!=null&&t(n,["bytesBase64Encoded"],nn(s));let l=e(r,["mimeType"]);return l!=null&&t(n,["mimeType"],l),n}function Gi(r){let n={},i=e(r,["uri"]);i!=null&&t(n,["gcsUri"],i);let s=e(r,["videoBytes"]);s!=null&&t(n,["bytesBase64Encoded"],nn(s));let l=e(r,["mimeType"]);return l!=null&&t(n,["mimeType"],l),n}function to(r){let n={},i=e(r,["sdkHttpResponse"]);i!=null&&t(n,["sdkHttpResponse"],i);let s=e(r,["candidates"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>function(h){let d={},E=e(h,["content"]);E!=null&&t(d,["content"],function(X){let he={},te=e(X,["parts"]);if(te!=null){let oe=te;Array.isArray(oe)&&(oe=oe.map(me=>function(Oe){let ue={},Y=e(Oe,["videoMetadata"]);Y!=null&&t(ue,["videoMetadata"],function(lt){let Xe={},Me=e(lt,["fps"]);Me!=null&&t(Xe,["fps"],Me);let Se=e(lt,["endOffset"]);Se!=null&&t(Xe,["endOffset"],Se);let Ue=e(lt,["startOffset"]);return Ue!=null&&t(Xe,["startOffset"],Ue),Xe}(Y));let pt=e(Oe,["thought"]);pt!=null&&t(ue,["thought"],pt);let _t=e(Oe,["inlineData"]);_t!=null&&t(ue,["inlineData"],function(lt){let Xe={},Me=e(lt,["data"]);Me!=null&&t(Xe,["data"],Me);let Se=e(lt,["mimeType"]);return Se!=null&&t(Xe,["mimeType"],Se),Xe}(_t));let Ne=e(Oe,["fileData"]);Ne!=null&&t(ue,["fileData"],function(lt){let Xe={},Me=e(lt,["fileUri"]);Me!=null&&t(Xe,["fileUri"],Me);let Se=e(lt,["mimeType"]);return Se!=null&&t(Xe,["mimeType"],Se),Xe}(Ne));let Be=e(Oe,["thoughtSignature"]);Be!=null&&t(ue,["thoughtSignature"],Be);let Ze=e(Oe,["codeExecutionResult"]);Ze!=null&&t(ue,["codeExecutionResult"],Ze);let ze=e(Oe,["executableCode"]);ze!=null&&t(ue,["executableCode"],ze);let Ie=e(Oe,["functionCall"]);Ie!=null&&t(ue,["functionCall"],Ie);let xe=e(Oe,["functionResponse"]);xe!=null&&t(ue,["functionResponse"],xe);let ot=e(Oe,["text"]);return ot!=null&&t(ue,["text"],ot),ue}(me))),t(he,["parts"],oe)}let Z=e(X,["role"]);return Z!=null&&t(he,["role"],Z),he}(E));let g=e(h,["citationMetadata"]);g!=null&&t(d,["citationMetadata"],function(X){let he={},te=e(X,["citationSources"]);return te!=null&&t(he,["citations"],te),he}(g));let y=e(h,["tokenCount"]);y!=null&&t(d,["tokenCount"],y);let _=e(h,["finishReason"]);_!=null&&t(d,["finishReason"],_);let S=e(h,["urlContextMetadata"]);S!=null&&t(d,["urlContextMetadata"],function(X){let he={},te=e(X,["urlMetadata"]);if(te!=null){let Z=te;Array.isArray(Z)&&(Z=Z.map(oe=>function(me){let Oe={},ue=e(me,["retrievedUrl"]);ue!=null&&t(Oe,["retrievedUrl"],ue);let Y=e(me,["urlRetrievalStatus"]);return Y!=null&&t(Oe,["urlRetrievalStatus"],Y),Oe}(oe))),t(he,["urlMetadata"],Z)}return he}(S));let T=e(h,["avgLogprobs"]);T!=null&&t(d,["avgLogprobs"],T);let k=e(h,["groundingMetadata"]);k!=null&&t(d,["groundingMetadata"],k);let I=e(h,["index"]);I!=null&&t(d,["index"],I);let M=e(h,["logprobsResult"]);M!=null&&t(d,["logprobsResult"],M);let K=e(h,["safetyRatings"]);return K!=null&&t(d,["safetyRatings"],K),d}(u))),t(n,["candidates"],o)}let l=e(r,["modelVersion"]);l!=null&&t(n,["modelVersion"],l);let v=e(r,["promptFeedback"]);v!=null&&t(n,["promptFeedback"],v);let f=e(r,["responseId"]);f!=null&&t(n,["responseId"],f);let p=e(r,["usageMetadata"]);return p!=null&&t(n,["usageMetadata"],p),n}function wn(r){let n={},i=e(r,["safetyAttributes","categories"]);i!=null&&t(n,["categories"],i);let s=e(r,["safetyAttributes","scores"]);s!=null&&t(n,["scores"],s);let l=e(r,["contentType"]);return l!=null&&t(n,["contentType"],l),n}function Bi(r){let n={},i=e(r,["name"]);i!=null&&t(n,["name"],i);let s=e(r,["displayName"]);s!=null&&t(n,["displayName"],s);let l=e(r,["description"]);l!=null&&t(n,["description"],l);let v=e(r,["version"]);v!=null&&t(n,["version"],v);let f=e(r,["_self"]);f!=null&&t(n,["tunedModelInfo"],function(h){let d={},E=e(h,["baseModel"]);E!=null&&t(d,["baseModel"],E);let g=e(h,["createTime"]);g!=null&&t(d,["createTime"],g);let y=e(h,["updateTime"]);return y!=null&&t(d,["updateTime"],y),d}(f));let p=e(r,["inputTokenLimit"]);p!=null&&t(n,["inputTokenLimit"],p);let o=e(r,["outputTokenLimit"]);o!=null&&t(n,["outputTokenLimit"],o);let u=e(r,["supportedGenerationMethods"]);return u!=null&&t(n,["supportedActions"],u),n}function no(r){let n={},i=e(r,["sdkHttpResponse"]);i!=null&&t(n,["sdkHttpResponse"],i);let s=e(r,["candidates"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>function(d){let E={},g=e(d,["content"]);g!=null&&t(E,["content"],function(he){let te={},Z=e(he,["parts"]);if(Z!=null){let me=Z;Array.isArray(me)&&(me=me.map(Oe=>function(ue){let Y={},pt=e(ue,["videoMetadata"]);pt!=null&&t(Y,["videoMetadata"],function(Xe){let Me={},Se=e(Xe,["fps"]);Se!=null&&t(Me,["fps"],Se);let Ue=e(Xe,["endOffset"]);Ue!=null&&t(Me,["endOffset"],Ue);let je=e(Xe,["startOffset"]);return je!=null&&t(Me,["startOffset"],je),Me}(pt));let _t=e(ue,["thought"]);_t!=null&&t(Y,["thought"],_t);let Ne=e(ue,["inlineData"]);Ne!=null&&t(Y,["inlineData"],function(Xe){let Me={},Se=e(Xe,["displayName"]);Se!=null&&t(Me,["displayName"],Se);let Ue=e(Xe,["data"]);Ue!=null&&t(Me,["data"],Ue);let je=e(Xe,["mimeType"]);return je!=null&&t(Me,["mimeType"],je),Me}(Ne));let Be=e(ue,["fileData"]);Be!=null&&t(Y,["fileData"],function(Xe){let Me={},Se=e(Xe,["displayName"]);Se!=null&&t(Me,["displayName"],Se);let Ue=e(Xe,["fileUri"]);Ue!=null&&t(Me,["fileUri"],Ue);let je=e(Xe,["mimeType"]);return je!=null&&t(Me,["mimeType"],je),Me}(Be));let Ze=e(ue,["thoughtSignature"]);Ze!=null&&t(Y,["thoughtSignature"],Ze);let ze=e(ue,["codeExecutionResult"]);ze!=null&&t(Y,["codeExecutionResult"],ze);let Ie=e(ue,["executableCode"]);Ie!=null&&t(Y,["executableCode"],Ie);let xe=e(ue,["functionCall"]);xe!=null&&t(Y,["functionCall"],xe);let ot=e(ue,["functionResponse"]);ot!=null&&t(Y,["functionResponse"],ot);let lt=e(ue,["text"]);return lt!=null&&t(Y,["text"],lt),Y}(Oe))),t(te,["parts"],me)}let oe=e(he,["role"]);return oe!=null&&t(te,["role"],oe),te}(g));let y=e(d,["citationMetadata"]);y!=null&&t(E,["citationMetadata"],function(he){let te={},Z=e(he,["citations"]);return Z!=null&&t(te,["citations"],Z),te}(y));let _=e(d,["finishMessage"]);_!=null&&t(E,["finishMessage"],_);let S=e(d,["finishReason"]);S!=null&&t(E,["finishReason"],S);let T=e(d,["urlContextMetadata"]);T!=null&&t(E,["urlContextMetadata"],function(he){let te={},Z=e(he,["urlMetadata"]);if(Z!=null){let oe=Z;Array.isArray(oe)&&(oe=oe.map(me=>function(Oe){let ue={},Y=e(Oe,["retrievedUrl"]);Y!=null&&t(ue,["retrievedUrl"],Y);let pt=e(Oe,["urlRetrievalStatus"]);return pt!=null&&t(ue,["urlRetrievalStatus"],pt),ue}(me))),t(te,["urlMetadata"],oe)}return te}(T));let k=e(d,["avgLogprobs"]);k!=null&&t(E,["avgLogprobs"],k);let I=e(d,["groundingMetadata"]);I!=null&&t(E,["groundingMetadata"],I);let M=e(d,["index"]);M!=null&&t(E,["index"],M);let K=e(d,["logprobsResult"]);K!=null&&t(E,["logprobsResult"],K);let X=e(d,["safetyRatings"]);return X!=null&&t(E,["safetyRatings"],X),E}(h))),t(n,["candidates"],u)}let l=e(r,["createTime"]);l!=null&&t(n,["createTime"],l);let v=e(r,["modelVersion"]);v!=null&&t(n,["modelVersion"],v);let f=e(r,["promptFeedback"]);f!=null&&t(n,["promptFeedback"],f);let p=e(r,["responseId"]);p!=null&&t(n,["responseId"],p);let o=e(r,["usageMetadata"]);return o!=null&&t(n,["usageMetadata"],o),n}function Vi(r){let n={},i=e(r,["gcsUri"]);i!=null&&t(n,["gcsUri"],i);let s=e(r,["bytesBase64Encoded"]);s!=null&&t(n,["imageBytes"],nn(s));let l=e(r,["mimeType"]);return l!=null&&t(n,["mimeType"],l),n}function Ji(r){let n={},i=e(r,["safetyAttributes","categories"]);i!=null&&t(n,["categories"],i);let s=e(r,["safetyAttributes","scores"]);s!=null&&t(n,["scores"],s);let l=e(r,["contentType"]);return l!=null&&t(n,["contentType"],l),n}function mi(r){let n={},i=e(r,["_self"]);i!=null&&t(n,["image"],Vi(i));let s=e(r,["raiFilteredReason"]);s!=null&&t(n,["raiFilteredReason"],s);let l=e(r,["_self"]);l!=null&&t(n,["safetyAttributes"],Ji(l));let v=e(r,["prompt"]);return v!=null&&t(n,["enhancedPrompt"],v),n}function Wi(r){let n={},i=e(r,["name"]);i!=null&&t(n,["name"],i);let s=e(r,["displayName"]);s!=null&&t(n,["displayName"],s);let l=e(r,["description"]);l!=null&&t(n,["description"],l);let v=e(r,["versionId"]);v!=null&&t(n,["version"],v);let f=e(r,["deployedModels"]);if(f!=null){let d=f;Array.isArray(d)&&(d=d.map(E=>function(g){let y={},_=e(g,["endpoint"]);_!=null&&t(y,["name"],_);let S=e(g,["deployedModelId"]);return S!=null&&t(y,["deployedModelId"],S),y}(E))),t(n,["endpoints"],d)}let p=e(r,["labels"]);p!=null&&t(n,["labels"],p);let o=e(r,["_self"]);o!=null&&t(n,["tunedModelInfo"],function(d){let E={},g=e(d,["labels","google-vertex-llm-tuning-base-model-id"]);g!=null&&t(E,["baseModel"],g);let y=e(d,["createTime"]);y!=null&&t(E,["createTime"],y);let _=e(d,["updateTime"]);return _!=null&&t(E,["updateTime"],_),E}(o));let u=e(r,["defaultCheckpointId"]);u!=null&&t(n,["defaultCheckpointId"],u);let h=e(r,["checkpoints"]);if(h!=null){let d=h;Array.isArray(d)&&(d=d.map(E=>function(g){let y={},_=e(g,["checkpointId"]);_!=null&&t(y,["checkpointId"],_);let S=e(g,["epoch"]);S!=null&&t(y,["epoch"],S);let T=e(g,["step"]);return T!=null&&t(y,["step"],T),y}(E))),t(n,["checkpoints"],d)}return n}let Oi="x-goog-api-client",Qr=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ki{constructor(n){var i,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});let l={};this.clientOptions.vertexai?(l.apiVersion=(i=this.clientOptions.apiVersion)!=null?i:"v1beta1",l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!=null?s:"v1beta",l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!=null&&n}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw Error("HTTP options are not correctly set.");let i=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&i.push(n.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let n=new URL(this.getBaseUrl());return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw Error("HTTP options are not correctly set.")}constructUrl(n,i,s){let l=[this.getRequestUrlInternal(i)];return s&&l.push(this.getBaseResourcePath()),n!==""&&l.push(n),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let i=this.clientOptions.httpOptions;n.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));let s=this.shouldPrependVertexProjectPath(n),l=this.constructUrl(n.path,i,s);if(n.queryParams)for(let[f,p]of Object.entries(n.queryParams))l.searchParams.append(f,String(p));let v={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw Error("Request body should be empty for GET request, but got non empty request body")}else v.body=n.body;return v=await this.includeExtraHttpOptionsToRequestInit(v,i,n.abortSignal),this.unaryApiCall(l,v,n.httpMethod)}patchHttpOptions(n,i){let s=JSON.parse(JSON.stringify(n));for(let[l,v]of Object.entries(i))typeof v=="object"?s[l]=Object.assign(Object.assign({},s[l]),v):v!==void 0&&(s[l]=v);return s}async requestStream(n){let i=this.clientOptions.httpOptions;n.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));let s=this.shouldPrependVertexProjectPath(n),l=this.constructUrl(n.path,i,s);l.searchParams.has("alt")&&l.searchParams.get("alt")==="sse"||l.searchParams.set("alt","sse");let v={};return v.body=n.body,v=await this.includeExtraHttpOptionsToRequestInit(v,i,n.abortSignal),this.streamApiCall(l,v,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,i,s){if(i&&i.timeout||s){let l=new AbortController,v=l.signal;if(i.timeout&&i?.timeout>0){let f=setTimeout(()=>l.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}s&&s.addEventListener("abort",()=>{l.abort()}),n.signal=v}return i&&i.extraBody!==null&&function(l,v){if(!v||Object.keys(v).length===0)return;if(l.body instanceof Blob)return console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let f={};if(typeof l.body=="string"&&l.body.length>0)try{let p=JSON.parse(l.body);if(typeof p!="object"||p===null||Array.isArray(p))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");f=p}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}l.body=JSON.stringify(function p(o,u){let h=Object.assign({},o);for(let d in u)if(Object.prototype.hasOwnProperty.call(u,d)){let E=u[d],g=h[d];E&&typeof E=="object"&&!Array.isArray(E)&&g&&typeof g=="object"&&!Array.isArray(g)?h[d]=p(g,E):(g&&E&&typeof g!=typeof E&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof g}, New type: ${typeof E}. Overwriting.`),h[d]=E)}return h}(f,v))}(n,i.extraBody),n.headers=await this.getHeadersInternal(i),n}async unaryApiCall(n,i,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},i),{method:s})).then(async l=>(await Xi(l),new pn(l))).catch(l=>{throw l instanceof Error?l:Error(JSON.stringify(l))})}async streamApiCall(n,i,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},i),{method:s})).then(async l=>(await Xi(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:Error(JSON.stringify(l))})}processStreamResponse(n){var i;return Kr(this,arguments,function*(){let s=(i=n?.body)==null?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!s)throw Error("Response body is empty");try{let v="";for(;;){let{done:f,value:p}=yield On(s.read());if(f){if(v.trim().length>0)throw Error("Incomplete JSON segment at the end");break}let o=l.decode(p,{stream:!0});try{let h=JSON.parse(o);if("error"in h){let d=JSON.parse(JSON.stringify(h.error)),E=d.status,g=d.code,y=`got status: ${E}. ${JSON.stringify(h)}`;if(g>=400&&g<600)throw new bi({message:y,status:g})}}catch(h){if(h.name==="ApiError")throw h}let u=(v+=o).match(Qr);for(;u;){let h=u[1];try{let d=new Response(h,{headers:n?.headers,status:n?.status,statusText:n?.statusText});yield yield On(new pn(d)),u=(v=v.slice(u[0].length)).match(Qr)}catch(d){throw Error(`exception parsing stream chunk ${h}. ${d}`)}}}}finally{s.releaseLock()}})}async apiCall(n,i){return fetch(n,i).catch(s=>{throw Error(`exception ${s} sending request`)})}getDefaultHeaders(){let n={},i="google-genai-sdk/1.17.0 "+this.clientOptions.userAgentExtra;return n["User-Agent"]=i,n[Oi]=i,n["Content-Type"]="application/json",n}async getHeadersInternal(n){let i=new Headers;if(n&&n.headers){for(let[s,l]of Object.entries(n.headers))i.append(s,l);n.timeout&&n.timeout>0&&i.append("X-Server-Timeout",String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i),i}async uploadFile(n,i){var s;let l={};i!=null&&(l.mimeType=i.mimeType,l.name=i.name,l.displayName=i.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);let v=this.clientOptions.uploader,f=await v.stat(n);l.sizeBytes=String(f.size);let p=(s=i?.mimeType)!=null?s:f.type;if(p===void 0||p==="")throw Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=p;let o=await this.fetchUploadUrl(l,i);return v.upload(n,o,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,i){var s;let l={};l=i?.httpOptions?i.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`}};let v={file:n},f=await this.request({path:ht("upload/v1beta/files",v._url),body:JSON.stringify(v),httpMethod:"POST",httpOptions:l});if(!f||!f?.headers)throw Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let p=(s=f?.headers)==null?void 0:s["x-goog-upload-url"];if(p===void 0)throw Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function Xi(r){var n;if(r===void 0)throw Error("response is undefined");if(!r.ok){let i=r.status,s=JSON.stringify((n=r.headers.get("content-type"))!=null&&n.includes("application/json")?await r.json():{error:{message:await r.text(),code:r.status,status:r.statusText}});throw i>=400&&i<600?new bi({message:s,status:i}):Error(s)}}function Ti(r){for(let i of r){var n;if((n=i)!==null&&typeof n=="object"&&n instanceof Ai||typeof i=="object"&&"inputSchema"in i)return!0}return!1}function ro(r){var n;let i=(n=r[Oi])!=null?n:"";r[Oi]=(i+" mcp_used/unknown").trimStart()}class Ai{constructor(n=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=i}static create(n,i){return new Ai(n,i)}async initialize(){var n,i,s,l;if(this.mcpTools.length>0)return;let v={},f=[];for(let h of this.mcpClients)try{for(var p,o=!0,u=(i=void 0,ri(function(d,E=100){return Kr(this,arguments,function*(){let g,y=0;for(;y<E;){let _=yield On(d.listTools({cursor:g}));for(let S of _.tools)yield yield On(S),y++;if(!_.nextCursor)break;g=_.nextCursor}})}(h)));!(n=(p=await u.next()).done);o=!0){l=p.value,o=!1,f.push(l);let d=l.name;if(v[d])throw Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);v[d]=h}}catch(d){i={error:d}}finally{try{!o&&!n&&(s=u.return)&&await s.call(u)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=v}async tool(){return await this.initialize(),function(n,i={}){let s=[],l=new Set;for(let v of n){let f=v.name;if(l.has(f))throw Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);l.add(f);let p=function(o,u={}){let h={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(h.responseJsonSchema=o.outputSchema),u.behavior&&(h.behavior=u.behavior),{functionDeclarations:[h]}}(v,i);p.functionDeclarations&&s.push(...p.functionDeclarations)}return{functionDeclarations:s}}(this.mcpTools,this.config)}async callTool(n){await this.initialize();let i=[];for(let s of n)if(s.name in this.functionNameToMcpClient){let l,v=this.functionNameToMcpClient[s.name];this.config.timeout&&(l={timeout:this.config.timeout});let f=await v.callTool({name:s.name,arguments:s.args},void 0,l);i.push({functionResponse:{name:s.name,response:f.isError?{error:f}:f}})}return i}}async function io(r,n,i){let s=new vi;Object.assign(s,function(l){let v={};e(l,["setupComplete"])!=null&&t(v,["setupComplete"],{});let f=e(l,["serverContent"]);f!=null&&t(v,["serverContent"],function(o){let u={},h=e(o,["audioChunks"]);if(h!=null){let d=h;Array.isArray(d)&&(d=d.map(E=>function(g){let y={},_=e(g,["data"]);_!=null&&t(y,["data"],_);let S=e(g,["mimeType"]);S!=null&&t(y,["mimeType"],S);let T=e(g,["sourceMetadata"]);return T!=null&&t(y,["sourceMetadata"],function(k){let I={},M=e(k,["clientContent"]);M!=null&&t(I,["clientContent"],function(X){let he={},te=e(X,["weightedPrompts"]);if(te!=null){let Z=te;Array.isArray(Z)&&(Z=Z.map(oe=>function(me){let Oe={},ue=e(me,["text"]);ue!=null&&t(Oe,["text"],ue);let Y=e(me,["weight"]);return Y!=null&&t(Oe,["weight"],Y),Oe}(oe))),t(he,["weightedPrompts"],Z)}return he}(M));let K=e(k,["musicGenerationConfig"]);return K!=null&&t(I,["musicGenerationConfig"],function(X){let he={},te=e(X,["temperature"]);te!=null&&t(he,["temperature"],te);let Z=e(X,["topK"]);Z!=null&&t(he,["topK"],Z);let oe=e(X,["seed"]);oe!=null&&t(he,["seed"],oe);let me=e(X,["guidance"]);me!=null&&t(he,["guidance"],me);let Oe=e(X,["bpm"]);Oe!=null&&t(he,["bpm"],Oe);let ue=e(X,["density"]);ue!=null&&t(he,["density"],ue);let Y=e(X,["brightness"]);Y!=null&&t(he,["brightness"],Y);let pt=e(X,["scale"]);pt!=null&&t(he,["scale"],pt);let _t=e(X,["muteBass"]);_t!=null&&t(he,["muteBass"],_t);let Ne=e(X,["muteDrums"]);Ne!=null&&t(he,["muteDrums"],Ne);let Be=e(X,["onlyBassAndDrums"]);Be!=null&&t(he,["onlyBassAndDrums"],Be);let Ze=e(X,["musicGenerationMode"]);return Ze!=null&&t(he,["musicGenerationMode"],Ze),he}(K)),I}(T)),y}(E))),t(u,["audioChunks"],d)}return u}(f));let p=e(l,["filteredPrompt"]);return p!=null&&t(v,["filteredPrompt"],function(o){let u={},h=e(o,["text"]);h!=null&&t(u,["text"],h);let d=e(o,["filteredReason"]);return d!=null&&t(u,["filteredReason"],d),u}(p)),v}(i.data instanceof Blob?JSON.parse(await i.data.text()):JSON.parse(i.data))),n(s)}class oo{constructor(n,i,s){this.apiClient=n,this.auth=i,this.webSocketFactory=s}async connect(n){var i,s;if(this.apiClient.isVertexAI())throw Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let l=this.apiClient.getWebsocketBaseUrl(),v=this.apiClient.getApiVersion(),f=function(S){let T=new Headers;for(let[k,I]of Object.entries(S))T.append(k,I);return T}(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),o=`${l}/ws/google.ai.generativelanguage.${v}.GenerativeService.BidiGenerateMusic?key=${p}`,u=()=>{},h=new Promise(S=>{u=S}),d=n.callbacks,E=this.apiClient,g={onopen:function(){u({})},onmessage:S=>{io(E,d.onmessage,S)},onerror:(i=d?.onerror)!=null?i:function(S){},onclose:(s=d?.onclose)!=null?s:function(S){}},y=this.webSocketFactory.create(o,function(S){let T={};return S.forEach((k,I)=>{T[I]=k}),T}(f),g);y.connect(),await h;let _=ii({setup:ji({model:a(this.apiClient,n.model)})});return y.send(JSON.stringify(_)),new gi(y,this.apiClient)}}class gi{constructor(n,i){this.conn=n,this.apiClient=i}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw Error("Weighted prompts must be set and contain at least one entry.");let i=Li(function(s){let l={},v=e(s,["weightedPrompts"]);if(v!=null){let f=v;Array.isArray(f)&&(f=f.map(p=>Ci(p))),t(l,["weightedPrompts"],f)}return l}(n));this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});let i=ii(function(s){let l={},v=e(s,["musicGenerationConfig"]);return v!=null&&t(l,["musicGenerationConfig"],Ui(v)),l}(n));this.conn.send(JSON.stringify(i))}sendPlaybackControl(n){let i=ii({playbackControl:n});this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(St.PLAY)}pause(){this.sendPlaybackControl(St.PAUSE)}stop(){this.sendPlaybackControl(St.STOP)}resetContext(){this.sendPlaybackControl(St.RESET_CONTEXT)}close(){this.conn.close()}}async function go(r,n,i){let s=new rr,l=JSON.parse(i.data instanceof Blob?await i.data.text():i.data instanceof ArrayBuffer?new TextDecoder().decode(i.data):i.data);r.isVertexAI()?Object.assign(s,function(v){let f={},p=e(v,["setupComplete"]);p!=null&&t(f,["setupComplete"],function(y){let _={},S=e(y,["sessionId"]);return S!=null&&t(_,["sessionId"],S),_}(p));let o=e(v,["serverContent"]);o!=null&&t(f,["serverContent"],function(y){let _={},S=e(y,["modelTurn"]);S!=null&&t(_,["modelTurn"],function(he){let te={},Z=e(he,["parts"]);if(Z!=null){let me=Z;Array.isArray(me)&&(me=me.map(Oe=>function(ue){let Y={},pt=e(ue,["videoMetadata"]);pt!=null&&t(Y,["videoMetadata"],function(Xe){let Me={},Se=e(Xe,["fps"]);Se!=null&&t(Me,["fps"],Se);let Ue=e(Xe,["endOffset"]);Ue!=null&&t(Me,["endOffset"],Ue);let je=e(Xe,["startOffset"]);return je!=null&&t(Me,["startOffset"],je),Me}(pt));let _t=e(ue,["thought"]);_t!=null&&t(Y,["thought"],_t);let Ne=e(ue,["inlineData"]);Ne!=null&&t(Y,["inlineData"],function(Xe){let Me={},Se=e(Xe,["displayName"]);Se!=null&&t(Me,["displayName"],Se);let Ue=e(Xe,["data"]);Ue!=null&&t(Me,["data"],Ue);let je=e(Xe,["mimeType"]);return je!=null&&t(Me,["mimeType"],je),Me}(Ne));let Be=e(ue,["fileData"]);Be!=null&&t(Y,["fileData"],function(Xe){let Me={},Se=e(Xe,["displayName"]);Se!=null&&t(Me,["displayName"],Se);let Ue=e(Xe,["fileUri"]);Ue!=null&&t(Me,["fileUri"],Ue);let je=e(Xe,["mimeType"]);return je!=null&&t(Me,["mimeType"],je),Me}(Be));let Ze=e(ue,["thoughtSignature"]);Ze!=null&&t(Y,["thoughtSignature"],Ze);let ze=e(ue,["codeExecutionResult"]);ze!=null&&t(Y,["codeExecutionResult"],ze);let Ie=e(ue,["executableCode"]);Ie!=null&&t(Y,["executableCode"],Ie);let xe=e(ue,["functionCall"]);xe!=null&&t(Y,["functionCall"],xe);let ot=e(ue,["functionResponse"]);ot!=null&&t(Y,["functionResponse"],ot);let lt=e(ue,["text"]);return lt!=null&&t(Y,["text"],lt),Y}(Oe))),t(te,["parts"],me)}let oe=e(he,["role"]);return oe!=null&&t(te,["role"],oe),te}(S));let T=e(y,["turnComplete"]);T!=null&&t(_,["turnComplete"],T);let k=e(y,["interrupted"]);k!=null&&t(_,["interrupted"],k);let I=e(y,["groundingMetadata"]);I!=null&&t(_,["groundingMetadata"],I);let M=e(y,["generationComplete"]);M!=null&&t(_,["generationComplete"],M);let K=e(y,["inputTranscription"]);K!=null&&t(_,["inputTranscription"],$i(K));let X=e(y,["outputTranscription"]);return X!=null&&t(_,["outputTranscription"],$i(X)),_}(o));let u=e(v,["toolCall"]);u!=null&&t(f,["toolCall"],function(y){let _={},S=e(y,["functionCalls"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(k=>function(I){let M={},K=e(I,["args"]);K!=null&&t(M,["args"],K);let X=e(I,["name"]);return X!=null&&t(M,["name"],X),M}(k))),t(_,["functionCalls"],T)}return _}(u));let h=e(v,["toolCallCancellation"]);h!=null&&t(f,["toolCallCancellation"],function(y){let _={},S=e(y,["ids"]);return S!=null&&t(_,["ids"],S),_}(h));let d=e(v,["usageMetadata"]);d!=null&&t(f,["usageMetadata"],function(y){let _={},S=e(y,["promptTokenCount"]);S!=null&&t(_,["promptTokenCount"],S);let T=e(y,["cachedContentTokenCount"]);T!=null&&t(_,["cachedContentTokenCount"],T);let k=e(y,["candidatesTokenCount"]);k!=null&&t(_,["responseTokenCount"],k);let I=e(y,["toolUsePromptTokenCount"]);I!=null&&t(_,["toolUsePromptTokenCount"],I);let M=e(y,["thoughtsTokenCount"]);M!=null&&t(_,["thoughtsTokenCount"],M);let K=e(y,["totalTokenCount"]);K!=null&&t(_,["totalTokenCount"],K);let X=e(y,["promptTokensDetails"]);if(X!=null){let me=X;Array.isArray(me)&&(me=me.map(Oe=>oi(Oe))),t(_,["promptTokensDetails"],me)}let he=e(y,["cacheTokensDetails"]);if(he!=null){let me=he;Array.isArray(me)&&(me=me.map(Oe=>oi(Oe))),t(_,["cacheTokensDetails"],me)}let te=e(y,["candidatesTokensDetails"]);if(te!=null){let me=te;Array.isArray(me)&&(me=me.map(Oe=>oi(Oe))),t(_,["responseTokensDetails"],me)}let Z=e(y,["toolUsePromptTokensDetails"]);if(Z!=null){let me=Z;Array.isArray(me)&&(me=me.map(Oe=>oi(Oe))),t(_,["toolUsePromptTokensDetails"],me)}let oe=e(y,["trafficType"]);return oe!=null&&t(_,["trafficType"],oe),_}(d));let E=e(v,["goAway"]);E!=null&&t(f,["goAway"],function(y){let _={},S=e(y,["timeLeft"]);return S!=null&&t(_,["timeLeft"],S),_}(E));let g=e(v,["sessionResumptionUpdate"]);return g!=null&&t(f,["sessionResumptionUpdate"],function(y){let _={},S=e(y,["newHandle"]);S!=null&&t(_,["newHandle"],S);let T=e(y,["resumable"]);T!=null&&t(_,["resumable"],T);let k=e(y,["lastConsumedClientMessageIndex"]);return k!=null&&t(_,["lastConsumedClientMessageIndex"],k),_}(g)),f}(l)):Object.assign(s,function(v){let f={};e(v,["setupComplete"])!=null&&t(f,["setupComplete"],{});let p=e(v,["serverContent"]);p!=null&&t(f,["serverContent"],function(g){let y={},_=e(g,["modelTurn"]);_!=null&&t(y,["modelTurn"],function(he){let te={},Z=e(he,["parts"]);if(Z!=null){let me=Z;Array.isArray(me)&&(me=me.map(Oe=>function(ue){let Y={},pt=e(ue,["videoMetadata"]);pt!=null&&t(Y,["videoMetadata"],function(Xe){let Me={},Se=e(Xe,["fps"]);Se!=null&&t(Me,["fps"],Se);let Ue=e(Xe,["endOffset"]);Ue!=null&&t(Me,["endOffset"],Ue);let je=e(Xe,["startOffset"]);return je!=null&&t(Me,["startOffset"],je),Me}(pt));let _t=e(ue,["thought"]);_t!=null&&t(Y,["thought"],_t);let Ne=e(ue,["inlineData"]);Ne!=null&&t(Y,["inlineData"],function(Xe){let Me={},Se=e(Xe,["data"]);Se!=null&&t(Me,["data"],Se);let Ue=e(Xe,["mimeType"]);return Ue!=null&&t(Me,["mimeType"],Ue),Me}(Ne));let Be=e(ue,["fileData"]);Be!=null&&t(Y,["fileData"],function(Xe){let Me={},Se=e(Xe,["fileUri"]);Se!=null&&t(Me,["fileUri"],Se);let Ue=e(Xe,["mimeType"]);return Ue!=null&&t(Me,["mimeType"],Ue),Me}(Be));let Ze=e(ue,["thoughtSignature"]);Ze!=null&&t(Y,["thoughtSignature"],Ze);let ze=e(ue,["codeExecutionResult"]);ze!=null&&t(Y,["codeExecutionResult"],ze);let Ie=e(ue,["executableCode"]);Ie!=null&&t(Y,["executableCode"],Ie);let xe=e(ue,["functionCall"]);xe!=null&&t(Y,["functionCall"],xe);let ot=e(ue,["functionResponse"]);ot!=null&&t(Y,["functionResponse"],ot);let lt=e(ue,["text"]);return lt!=null&&t(Y,["text"],lt),Y}(Oe))),t(te,["parts"],me)}let oe=e(he,["role"]);return oe!=null&&t(te,["role"],oe),te}(_));let S=e(g,["turnComplete"]);S!=null&&t(y,["turnComplete"],S);let T=e(g,["interrupted"]);T!=null&&t(y,["interrupted"],T);let k=e(g,["groundingMetadata"]);k!=null&&t(y,["groundingMetadata"],k);let I=e(g,["generationComplete"]);I!=null&&t(y,["generationComplete"],I);let M=e(g,["inputTranscription"]);M!=null&&t(y,["inputTranscription"],qi(M));let K=e(g,["outputTranscription"]);K!=null&&t(y,["outputTranscription"],qi(K));let X=e(g,["urlContextMetadata"]);return X!=null&&t(y,["urlContextMetadata"],function(he){let te={},Z=e(he,["urlMetadata"]);if(Z!=null){let oe=Z;Array.isArray(oe)&&(oe=oe.map(me=>function(Oe){let ue={},Y=e(Oe,["retrievedUrl"]);Y!=null&&t(ue,["retrievedUrl"],Y);let pt=e(Oe,["urlRetrievalStatus"]);return pt!=null&&t(ue,["urlRetrievalStatus"],pt),ue}(me))),t(te,["urlMetadata"],oe)}return te}(X)),y}(p));let o=e(v,["toolCall"]);o!=null&&t(f,["toolCall"],function(g){let y={},_=e(g,["functionCalls"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>function(k){let I={},M=e(k,["id"]);M!=null&&t(I,["id"],M);let K=e(k,["args"]);K!=null&&t(I,["args"],K);let X=e(k,["name"]);return X!=null&&t(I,["name"],X),I}(T))),t(y,["functionCalls"],S)}return y}(o));let u=e(v,["toolCallCancellation"]);u!=null&&t(f,["toolCallCancellation"],function(g){let y={},_=e(g,["ids"]);return _!=null&&t(y,["ids"],_),y}(u));let h=e(v,["usageMetadata"]);h!=null&&t(f,["usageMetadata"],function(g){let y={},_=e(g,["promptTokenCount"]);_!=null&&t(y,["promptTokenCount"],_);let S=e(g,["cachedContentTokenCount"]);S!=null&&t(y,["cachedContentTokenCount"],S);let T=e(g,["responseTokenCount"]);T!=null&&t(y,["responseTokenCount"],T);let k=e(g,["toolUsePromptTokenCount"]);k!=null&&t(y,["toolUsePromptTokenCount"],k);let I=e(g,["thoughtsTokenCount"]);I!=null&&t(y,["thoughtsTokenCount"],I);let M=e(g,["totalTokenCount"]);M!=null&&t(y,["totalTokenCount"],M);let K=e(g,["promptTokensDetails"]);if(K!=null){let Z=K;Array.isArray(Z)&&(Z=Z.map(oe=>zr(oe))),t(y,["promptTokensDetails"],Z)}let X=e(g,["cacheTokensDetails"]);if(X!=null){let Z=X;Array.isArray(Z)&&(Z=Z.map(oe=>zr(oe))),t(y,["cacheTokensDetails"],Z)}let he=e(g,["responseTokensDetails"]);if(he!=null){let Z=he;Array.isArray(Z)&&(Z=Z.map(oe=>zr(oe))),t(y,["responseTokensDetails"],Z)}let te=e(g,["toolUsePromptTokensDetails"]);if(te!=null){let Z=te;Array.isArray(Z)&&(Z=Z.map(oe=>zr(oe))),t(y,["toolUsePromptTokensDetails"],Z)}return y}(h));let d=e(v,["goAway"]);d!=null&&t(f,["goAway"],function(g){let y={},_=e(g,["timeLeft"]);return _!=null&&t(y,["timeLeft"],_),y}(d));let E=e(v,["sessionResumptionUpdate"]);return E!=null&&t(f,["sessionResumptionUpdate"],function(g){let y={},_=e(g,["newHandle"]);_!=null&&t(y,["newHandle"],_);let S=e(g,["resumable"]);S!=null&&t(y,["resumable"],S);let T=e(g,["lastConsumedClientMessageIndex"]);return T!=null&&t(y,["lastConsumedClientMessageIndex"],T),y}(E)),f}(l)),n(s)}class yo{constructor(n,i,s){this.apiClient=n,this.auth=i,this.webSocketFactory=s,this.music=new oo(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var i,s,l,v,f,p;let o;if(n.config&&n.config.httpOptions)throw Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let u=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion(),d=this.apiClient.getHeaders();n.config&&n.config.tools&&Ti(n.config.tools)&&ro(d);let E=function(te){let Z=new Headers;for(let[oe,me]of Object.entries(te))Z.append(oe,me);return Z}(d);if(this.apiClient.isVertexAI())o=`${u}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E);else{let te=this.apiClient.getApiKey(),Z="BidiGenerateContent",oe="key";te?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Z="BidiGenerateContentConstrained",oe="access_token"),o=`${u}/ws/google.ai.generativelanguage.${h}.GenerativeService.${Z}?${oe}=${te}`}let g=()=>{},y=new Promise(te=>{g=te}),_=n.callbacks,S=this.apiClient,T={onopen:function(){var te;(te=_?.onopen)==null||te.call(_),g({})},onmessage:te=>{go(S,_.onmessage,te)},onerror:(i=_?.onerror)!=null?i:function(te){},onclose:(s=_?.onclose)!=null?s:function(te){}},k=this.webSocketFactory.create(o,function(te){let Z={};return te.forEach((oe,me)=>{Z[me]=oe}),Z}(E),T);k.connect(),await y;let I=a(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){let te=this.apiClient.getProject(),Z=this.apiClient.getLocation();I=`projects/${te}/locations/${Z}/`+I}let M={};this.apiClient.isVertexAI()&&((l=n.config)==null?void 0:l.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[re.AUDIO]}:n.config.responseModalities=[re.AUDIO]),(v=n.config)!=null&&v.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let K=(p=(f=n.config)==null?void 0:f.tools)!=null?p:[],X=[];for(let te of K)this.isCallableTool(te)?X.push(await te.tool()):X.push(te);X.length>0&&(n.config.tools=X);let he={model:I,config:n.config,callbacks:n.callbacks};return M=this.apiClient.isVertexAI()?function(te,Z){let oe={},me=e(Z,["model"]);me!=null&&t(oe,["setup","model"],a(te,me));let Oe=e(Z,["config"]);return Oe!=null&&t(oe,["config"],function(ue,Y){let pt=e(ue,["generationConfig"]);Y!==void 0&&pt!=null&&t(Y,["setup","generationConfig"],pt);let _t=e(ue,["responseModalities"]);Y!==void 0&&_t!=null&&t(Y,["setup","generationConfig","responseModalities"],_t);let Ne=e(ue,["temperature"]);Y!==void 0&&Ne!=null&&t(Y,["setup","generationConfig","temperature"],Ne);let Be=e(ue,["topP"]);Y!==void 0&&Be!=null&&t(Y,["setup","generationConfig","topP"],Be);let Ze=e(ue,["topK"]);Y!==void 0&&Ze!=null&&t(Y,["setup","generationConfig","topK"],Ze);let ze=e(ue,["maxOutputTokens"]);Y!==void 0&&ze!=null&&t(Y,["setup","generationConfig","maxOutputTokens"],ze);let Ie=e(ue,["mediaResolution"]);Y!==void 0&&Ie!=null&&t(Y,["setup","generationConfig","mediaResolution"],Ie);let xe=e(ue,["seed"]);Y!==void 0&&xe!=null&&t(Y,["setup","generationConfig","seed"],xe);let ot=e(ue,["speechConfig"]);Y!==void 0&&ot!=null&&t(Y,["setup","generationConfig","speechConfig"],function(Le){let rt={},We=e(Le,["voiceConfig"]);if(We!=null&&t(rt,["voiceConfig"],function(Dt){let wt={},nt=e(Dt,["prebuiltVoiceConfig"]);return nt!=null&&t(wt,["prebuiltVoiceConfig"],function(ft){let Ot={},Pt=e(ft,["voiceName"]);return Pt!=null&&t(Ot,["voiceName"],Pt),Ot}(nt)),wt}(We)),e(Le,["multiSpeakerVoiceConfig"])!==void 0)throw Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");let mt=e(Le,["languageCode"]);return mt!=null&&t(rt,["languageCode"],mt),rt}(Jt(ot)));let lt=e(ue,["enableAffectiveDialog"]);Y!==void 0&&lt!=null&&t(Y,["setup","generationConfig","enableAffectiveDialog"],lt);let Xe=e(ue,["systemInstruction"]);Y!==void 0&&Xe!=null&&t(Y,["setup","systemInstruction"],function(Le){let rt={},We=e(Le,["parts"]);if(We!=null){let Dt=We;Array.isArray(Dt)&&(Dt=Dt.map(wt=>function(nt){let ft={},Ot=e(nt,["videoMetadata"]);Ot!=null&&t(ft,["videoMetadata"],function(Yt){let tn={},Pn=e(Yt,["fps"]);Pn!=null&&t(tn,["fps"],Pn);let Ln=e(Yt,["endOffset"]);Ln!=null&&t(tn,["endOffset"],Ln);let _r=e(Yt,["startOffset"]);return _r!=null&&t(tn,["startOffset"],_r),tn}(Ot));let Pt=e(nt,["thought"]);Pt!=null&&t(ft,["thought"],Pt);let qt=e(nt,["inlineData"]);qt!=null&&t(ft,["inlineData"],function(Yt){let tn={},Pn=e(Yt,["displayName"]);Pn!=null&&t(tn,["displayName"],Pn);let Ln=e(Yt,["data"]);Ln!=null&&t(tn,["data"],Ln);let _r=e(Yt,["mimeType"]);return _r!=null&&t(tn,["mimeType"],_r),tn}(qt));let xt=e(nt,["fileData"]);xt!=null&&t(ft,["fileData"],function(Yt){let tn={},Pn=e(Yt,["displayName"]);Pn!=null&&t(tn,["displayName"],Pn);let Ln=e(Yt,["fileUri"]);Ln!=null&&t(tn,["fileUri"],Ln);let _r=e(Yt,["mimeType"]);return _r!=null&&t(tn,["mimeType"],_r),tn}(xt));let Nt=e(nt,["thoughtSignature"]);Nt!=null&&t(ft,["thoughtSignature"],Nt);let Gt=e(nt,["codeExecutionResult"]);Gt!=null&&t(ft,["codeExecutionResult"],Gt);let Ut=e(nt,["executableCode"]);Ut!=null&&t(ft,["executableCode"],Ut);let Ft=e(nt,["functionCall"]);Ft!=null&&t(ft,["functionCall"],Ft);let rn=e(nt,["functionResponse"]);rn!=null&&t(ft,["functionResponse"],rn);let mn=e(nt,["text"]);return mn!=null&&t(ft,["text"],mn),ft}(wt))),t(rt,["parts"],Dt)}let mt=e(Le,["role"]);return mt!=null&&t(rt,["role"],mt),rt}(Rt(Xe)));let Me=e(ue,["tools"]);if(Y!==void 0&&Me!=null){let Le=Bt(Me);Array.isArray(Le)&&(Le=Le.map(rt=>function(We){let mt={},Dt=e(We,["functionDeclarations"]);if(Dt!=null){let Nt=Dt;Array.isArray(Nt)&&(Nt=Nt.map(Gt=>function(Ut){let Ft={};if(e(Ut,["behavior"])!==void 0)throw Error("behavior parameter is not supported in Vertex AI.");let rn=e(Ut,["description"]);rn!=null&&t(Ft,["description"],rn);let mn=e(Ut,["name"]);mn!=null&&t(Ft,["name"],mn);let Yt=e(Ut,["parameters"]);Yt!=null&&t(Ft,["parameters"],Yt);let tn=e(Ut,["parametersJsonSchema"]);tn!=null&&t(Ft,["parametersJsonSchema"],tn);let Pn=e(Ut,["response"]);Pn!=null&&t(Ft,["response"],Pn);let Ln=e(Ut,["responseJsonSchema"]);return Ln!=null&&t(Ft,["responseJsonSchema"],Ln),Ft}(Gt))),t(mt,["functionDeclarations"],Nt)}let wt=e(We,["retrieval"]);wt!=null&&t(mt,["retrieval"],wt);let nt=e(We,["googleSearch"]);nt!=null&&t(mt,["googleSearch"],function(Nt){let Gt={},Ut=e(Nt,["timeRangeFilter"]);Ut!=null&&t(Gt,["timeRangeFilter"],function(rn){let mn={},Yt=e(rn,["startTime"]);Yt!=null&&t(mn,["startTime"],Yt);let tn=e(rn,["endTime"]);return tn!=null&&t(mn,["endTime"],tn),mn}(Ut));let Ft=e(Nt,["excludeDomains"]);return Ft!=null&&t(Gt,["excludeDomains"],Ft),Gt}(nt));let ft=e(We,["googleSearchRetrieval"]);ft!=null&&t(mt,["googleSearchRetrieval"],function(Nt){let Gt={},Ut=e(Nt,["dynamicRetrievalConfig"]);return Ut!=null&&t(Gt,["dynamicRetrievalConfig"],function(Ft){let rn={},mn=e(Ft,["mode"]);mn!=null&&t(rn,["mode"],mn);let Yt=e(Ft,["dynamicThreshold"]);return Yt!=null&&t(rn,["dynamicThreshold"],Yt),rn}(Ut)),Gt}(ft));let Ot=e(We,["enterpriseWebSearch"]);Ot!=null&&t(mt,["enterpriseWebSearch"],function(Nt){let Gt={},Ut=e(Nt,["excludeDomains"]);return Ut!=null&&t(Gt,["excludeDomains"],Ut),Gt}(Ot));let Pt=e(We,["googleMaps"]);Pt!=null&&t(mt,["googleMaps"],function(Nt){let Gt={},Ut=e(Nt,["authConfig"]);return Ut!=null&&t(Gt,["authConfig"],function(Ft){let rn={},mn=e(Ft,["apiKeyConfig"]);mn!=null&&t(rn,["apiKeyConfig"],function(Lo){let No={},ko=e(Lo,["apiKeyString"]);return ko!=null&&t(No,["apiKeyString"],ko),No}(mn));let Yt=e(Ft,["authType"]);Yt!=null&&t(rn,["authType"],Yt);let tn=e(Ft,["googleServiceAccountConfig"]);tn!=null&&t(rn,["googleServiceAccountConfig"],tn);let Pn=e(Ft,["httpBasicAuthConfig"]);Pn!=null&&t(rn,["httpBasicAuthConfig"],Pn);let Ln=e(Ft,["oauthConfig"]);Ln!=null&&t(rn,["oauthConfig"],Ln);let _r=e(Ft,["oidcConfig"]);return _r!=null&&t(rn,["oidcConfig"],_r),rn}(Ut)),Gt}(Pt)),e(We,["urlContext"])!=null&&t(mt,["urlContext"],{});let qt=e(We,["computerUse"]);qt!=null&&t(mt,["computerUse"],function(Nt){let Gt={},Ut=e(Nt,["environment"]);return Ut!=null&&t(Gt,["environment"],Ut),Gt}(qt));let xt=e(We,["codeExecution"]);return xt!=null&&t(mt,["codeExecution"],xt),mt}(un(rt)))),t(Y,["setup","tools"],Le)}let Se=e(ue,["sessionResumption"]);Y!==void 0&&Se!=null&&t(Y,["setup","sessionResumption"],function(Le){let rt={},We=e(Le,["handle"]);We!=null&&t(rt,["handle"],We);let mt=e(Le,["transparent"]);return mt!=null&&t(rt,["transparent"],mt),rt}(Se));let Ue=e(ue,["inputAudioTranscription"]);Y!==void 0&&Ue!=null&&t(Y,["setup","inputAudioTranscription"],{});let je=e(ue,["outputAudioTranscription"]);Y!==void 0&&je!=null&&t(Y,["setup","outputAudioTranscription"],{});let Ae=e(ue,["realtimeInputConfig"]);Y!==void 0&&Ae!=null&&t(Y,["setup","realtimeInputConfig"],function(Le){let rt={},We=e(Le,["automaticActivityDetection"]);We!=null&&t(rt,["automaticActivityDetection"],function(wt){let nt={},ft=e(wt,["disabled"]);ft!=null&&t(nt,["disabled"],ft);let Ot=e(wt,["startOfSpeechSensitivity"]);Ot!=null&&t(nt,["startOfSpeechSensitivity"],Ot);let Pt=e(wt,["endOfSpeechSensitivity"]);Pt!=null&&t(nt,["endOfSpeechSensitivity"],Pt);let qt=e(wt,["prefixPaddingMs"]);qt!=null&&t(nt,["prefixPaddingMs"],qt);let xt=e(wt,["silenceDurationMs"]);return xt!=null&&t(nt,["silenceDurationMs"],xt),nt}(We));let mt=e(Le,["activityHandling"]);mt!=null&&t(rt,["activityHandling"],mt);let Dt=e(Le,["turnCoverage"]);return Dt!=null&&t(rt,["turnCoverage"],Dt),rt}(Ae));let De=e(ue,["contextWindowCompression"]);Y!==void 0&&De!=null&&t(Y,["setup","contextWindowCompression"],function(Le){let rt={},We=e(Le,["triggerTokens"]);We!=null&&t(rt,["triggerTokens"],We);let mt=e(Le,["slidingWindow"]);return mt!=null&&t(rt,["slidingWindow"],function(Dt){let wt={},nt=e(Dt,["targetTokens"]);return nt!=null&&t(wt,["targetTokens"],nt),wt}(mt)),rt}(De));let tt=e(ue,["proactivity"]);return Y!==void 0&&tt!=null&&t(Y,["setup","proactivity"],function(Le){let rt={},We=e(Le,["proactiveAudio"]);return We!=null&&t(rt,["proactiveAudio"],We),rt}(tt)),{}}(Oe,oe)),oe}(this.apiClient,he):function(te,Z){let oe={},me=e(Z,["model"]);me!=null&&t(oe,["setup","model"],a(te,me));let Oe=e(Z,["config"]);return Oe!=null&&t(oe,["config"],function(ue,Y){let pt=e(ue,["generationConfig"]);Y!==void 0&&pt!=null&&t(Y,["setup","generationConfig"],pt);let _t=e(ue,["responseModalities"]);Y!==void 0&&_t!=null&&t(Y,["setup","generationConfig","responseModalities"],_t);let Ne=e(ue,["temperature"]);Y!==void 0&&Ne!=null&&t(Y,["setup","generationConfig","temperature"],Ne);let Be=e(ue,["topP"]);Y!==void 0&&Be!=null&&t(Y,["setup","generationConfig","topP"],Be);let Ze=e(ue,["topK"]);Y!==void 0&&Ze!=null&&t(Y,["setup","generationConfig","topK"],Ze);let ze=e(ue,["maxOutputTokens"]);Y!==void 0&&ze!=null&&t(Y,["setup","generationConfig","maxOutputTokens"],ze);let Ie=e(ue,["mediaResolution"]);Y!==void 0&&Ie!=null&&t(Y,["setup","generationConfig","mediaResolution"],Ie);let xe=e(ue,["seed"]);Y!==void 0&&xe!=null&&t(Y,["setup","generationConfig","seed"],xe);let ot=e(ue,["speechConfig"]);Y!==void 0&&ot!=null&&t(Y,["setup","generationConfig","speechConfig"],function(Le){let rt={},We=e(Le,["voiceConfig"]);We!=null&&t(rt,["voiceConfig"],Di(We));let mt=e(Le,["multiSpeakerVoiceConfig"]);mt!=null&&t(rt,["multiSpeakerVoiceConfig"],function(wt){let nt={},ft=e(wt,["speakerVoiceConfigs"]);if(ft!=null){let Ot=ft;Array.isArray(Ot)&&(Ot=Ot.map(Pt=>function(qt){let xt={},Nt=e(qt,["speaker"]);Nt!=null&&t(xt,["speaker"],Nt);let Gt=e(qt,["voiceConfig"]);return Gt!=null&&t(xt,["voiceConfig"],Di(Gt)),xt}(Pt))),t(nt,["speakerVoiceConfigs"],Ot)}return nt}(mt));let Dt=e(Le,["languageCode"]);return Dt!=null&&t(rt,["languageCode"],Dt),rt}(Jt(ot)));let lt=e(ue,["enableAffectiveDialog"]);Y!==void 0&&lt!=null&&t(Y,["setup","generationConfig","enableAffectiveDialog"],lt);let Xe=e(ue,["systemInstruction"]);Y!==void 0&&Xe!=null&&t(Y,["setup","systemInstruction"],function(Le){let rt={},We=e(Le,["parts"]);if(We!=null){let Dt=We;Array.isArray(Dt)&&(Dt=Dt.map(wt=>function(nt){let ft={},Ot=e(nt,["videoMetadata"]);Ot!=null&&t(ft,["videoMetadata"],function(Yt){let tn={},Pn=e(Yt,["fps"]);Pn!=null&&t(tn,["fps"],Pn);let Ln=e(Yt,["endOffset"]);Ln!=null&&t(tn,["endOffset"],Ln);let _r=e(Yt,["startOffset"]);return _r!=null&&t(tn,["startOffset"],_r),tn}(Ot));let Pt=e(nt,["thought"]);Pt!=null&&t(ft,["thought"],Pt);let qt=e(nt,["inlineData"]);qt!=null&&t(ft,["inlineData"],function(Yt){let tn={};if(e(Yt,["displayName"])!==void 0)throw Error("displayName parameter is not supported in Gemini API.");let Pn=e(Yt,["data"]);Pn!=null&&t(tn,["data"],Pn);let Ln=e(Yt,["mimeType"]);return Ln!=null&&t(tn,["mimeType"],Ln),tn}(qt));let xt=e(nt,["fileData"]);xt!=null&&t(ft,["fileData"],function(Yt){let tn={};if(e(Yt,["displayName"])!==void 0)throw Error("displayName parameter is not supported in Gemini API.");let Pn=e(Yt,["fileUri"]);Pn!=null&&t(tn,["fileUri"],Pn);let Ln=e(Yt,["mimeType"]);return Ln!=null&&t(tn,["mimeType"],Ln),tn}(xt));let Nt=e(nt,["thoughtSignature"]);Nt!=null&&t(ft,["thoughtSignature"],Nt);let Gt=e(nt,["codeExecutionResult"]);Gt!=null&&t(ft,["codeExecutionResult"],Gt);let Ut=e(nt,["executableCode"]);Ut!=null&&t(ft,["executableCode"],Ut);let Ft=e(nt,["functionCall"]);Ft!=null&&t(ft,["functionCall"],Ft);let rn=e(nt,["functionResponse"]);rn!=null&&t(ft,["functionResponse"],rn);let mn=e(nt,["text"]);return mn!=null&&t(ft,["text"],mn),ft}(wt))),t(rt,["parts"],Dt)}let mt=e(Le,["role"]);return mt!=null&&t(rt,["role"],mt),rt}(Rt(Xe)));let Me=e(ue,["tools"]);if(Y!==void 0&&Me!=null){let Le=Bt(Me);Array.isArray(Le)&&(Le=Le.map(rt=>function(We){let mt={},Dt=e(We,["functionDeclarations"]);if(Dt!=null){let Pt=Dt;Array.isArray(Pt)&&(Pt=Pt.map(qt=>function(xt){let Nt={},Gt=e(xt,["behavior"]);Gt!=null&&t(Nt,["behavior"],Gt);let Ut=e(xt,["description"]);Ut!=null&&t(Nt,["description"],Ut);let Ft=e(xt,["name"]);Ft!=null&&t(Nt,["name"],Ft);let rn=e(xt,["parameters"]);rn!=null&&t(Nt,["parameters"],rn);let mn=e(xt,["parametersJsonSchema"]);mn!=null&&t(Nt,["parametersJsonSchema"],mn);let Yt=e(xt,["response"]);Yt!=null&&t(Nt,["response"],Yt);let tn=e(xt,["responseJsonSchema"]);return tn!=null&&t(Nt,["responseJsonSchema"],tn),Nt}(qt))),t(mt,["functionDeclarations"],Pt)}if(e(We,["retrieval"])!==void 0)throw Error("retrieval parameter is not supported in Gemini API.");let wt=e(We,["googleSearch"]);wt!=null&&t(mt,["googleSearch"],function(Pt){let qt={},xt=e(Pt,["timeRangeFilter"]);if(xt!=null&&t(qt,["timeRangeFilter"],function(Nt){let Gt={},Ut=e(Nt,["startTime"]);Ut!=null&&t(Gt,["startTime"],Ut);let Ft=e(Nt,["endTime"]);return Ft!=null&&t(Gt,["endTime"],Ft),Gt}(xt)),e(Pt,["excludeDomains"])!==void 0)throw Error("excludeDomains parameter is not supported in Gemini API.");return qt}(wt));let nt=e(We,["googleSearchRetrieval"]);if(nt!=null&&t(mt,["googleSearchRetrieval"],function(Pt){let qt={},xt=e(Pt,["dynamicRetrievalConfig"]);return xt!=null&&t(qt,["dynamicRetrievalConfig"],function(Nt){let Gt={},Ut=e(Nt,["mode"]);Ut!=null&&t(Gt,["mode"],Ut);let Ft=e(Nt,["dynamicThreshold"]);return Ft!=null&&t(Gt,["dynamicThreshold"],Ft),Gt}(xt)),qt}(nt)),e(We,["enterpriseWebSearch"])!==void 0)throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(e(We,["googleMaps"])!==void 0)throw Error("googleMaps parameter is not supported in Gemini API.");e(We,["urlContext"])!=null&&t(mt,["urlContext"],{});let ft=e(We,["computerUse"]);ft!=null&&t(mt,["computerUse"],function(Pt){let qt={},xt=e(Pt,["environment"]);return xt!=null&&t(qt,["environment"],xt),qt}(ft));let Ot=e(We,["codeExecution"]);return Ot!=null&&t(mt,["codeExecution"],Ot),mt}(un(rt)))),t(Y,["setup","tools"],Le)}let Se=e(ue,["sessionResumption"]);Y!==void 0&&Se!=null&&t(Y,["setup","sessionResumption"],function(Le){let rt={},We=e(Le,["handle"]);if(We!=null&&t(rt,["handle"],We),e(Le,["transparent"])!==void 0)throw Error("transparent parameter is not supported in Gemini API.");return rt}(Se));let Ue=e(ue,["inputAudioTranscription"]);Y!==void 0&&Ue!=null&&t(Y,["setup","inputAudioTranscription"],{});let je=e(ue,["outputAudioTranscription"]);Y!==void 0&&je!=null&&t(Y,["setup","outputAudioTranscription"],{});let Ae=e(ue,["realtimeInputConfig"]);Y!==void 0&&Ae!=null&&t(Y,["setup","realtimeInputConfig"],function(Le){let rt={},We=e(Le,["automaticActivityDetection"]);We!=null&&t(rt,["automaticActivityDetection"],function(wt){let nt={},ft=e(wt,["disabled"]);ft!=null&&t(nt,["disabled"],ft);let Ot=e(wt,["startOfSpeechSensitivity"]);Ot!=null&&t(nt,["startOfSpeechSensitivity"],Ot);let Pt=e(wt,["endOfSpeechSensitivity"]);Pt!=null&&t(nt,["endOfSpeechSensitivity"],Pt);let qt=e(wt,["prefixPaddingMs"]);qt!=null&&t(nt,["prefixPaddingMs"],qt);let xt=e(wt,["silenceDurationMs"]);return xt!=null&&t(nt,["silenceDurationMs"],xt),nt}(We));let mt=e(Le,["activityHandling"]);mt!=null&&t(rt,["activityHandling"],mt);let Dt=e(Le,["turnCoverage"]);return Dt!=null&&t(rt,["turnCoverage"],Dt),rt}(Ae));let De=e(ue,["contextWindowCompression"]);Y!==void 0&&De!=null&&t(Y,["setup","contextWindowCompression"],function(Le){let rt={},We=e(Le,["triggerTokens"]);We!=null&&t(rt,["triggerTokens"],We);let mt=e(Le,["slidingWindow"]);return mt!=null&&t(rt,["slidingWindow"],function(Dt){let wt={},nt=e(Dt,["targetTokens"]);return nt!=null&&t(wt,["targetTokens"],nt),wt}(mt)),rt}(De));let tt=e(ue,["proactivity"]);return Y!==void 0&&tt!=null&&t(Y,["setup","proactivity"],function(Le){let rt={},We=e(Le,["proactiveAudio"]);return We!=null&&t(rt,["proactiveAudio"],We),rt}(tt)),{}}(Oe,oe)),oe}(this.apiClient,he),delete M.config,k.send(JSON.stringify(M)),new vo(k,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}let lo={turnComplete:!0};class vo{constructor(n,i){this.conn=n,this.apiClient=i}tLiveClientContent(n,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=Kt(i.turns),s=n.isVertexAI()?s.map(l=>Yr(l)):s.map(l=>li(l))}catch{throw Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(n,i){let s=[];if(i.functionResponses==null||(s=Array.isArray(i.functionResponses)?i.functionResponses:[i.functionResponses]).length===0)throw Error("functionResponses is required.");for(let l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw Error(`Could not parse function response, type '${typeof l}'.`);if(!n.isVertexAI()&&!("id"in l))throw Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},lo),n);let i=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(i))}sendRealtimeInput(n){let i={};i=this.apiClient.isVertexAI()?{realtimeInput:function(s){let l={},v=e(s,["media"]);v!=null&&t(l,["mediaChunks"],P(v));let f=e(s,["audio"]);f!=null&&t(l,["audio"],Ce(f));let p=e(s,["audioStreamEnd"]);p!=null&&t(l,["audioStreamEnd"],p);let o=e(s,["video"]);o!=null&&t(l,["video"],D(o));let u=e(s,["text"]);return u!=null&&t(l,["text"],u),e(s,["activityStart"])!=null&&t(l,["activityStart"],{}),e(s,["activityEnd"])!=null&&t(l,["activityEnd"],{}),l}(n)}:{realtimeInput:function(s){let l={},v=e(s,["media"]);v!=null&&t(l,["mediaChunks"],P(v));let f=e(s,["audio"]);f!=null&&t(l,["audio"],Ce(f));let p=e(s,["audioStreamEnd"]);p!=null&&t(l,["audioStreamEnd"],p);let o=e(s,["video"]);o!=null&&t(l,["video"],D(o));let u=e(s,["text"]);return u!=null&&t(l,["text"],u),e(s,["activityStart"])!=null&&t(l,["activityStart"],{}),e(s,["activityEnd"])!=null&&t(l,["activityEnd"],{}),l}(n)},this.conn.send(JSON.stringify(i))}sendToolResponse(n){if(n.functionResponses==null)throw Error("Tool response parameters are required.");let i=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function ao(r){var n,i,s;if((n=r?.automaticFunctionCalling)!=null&&n.disable)return!0;let l=!1;for(let f of(i=r?.tools)!=null?i:[])if(ai(f)){l=!0;break}if(!l)return!0;let v=(s=r?.automaticFunctionCalling)==null?void 0:s.maximumRemoteCalls;return(!(!v||!(v<0)&&Number.isInteger(v))||v==0)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",v),!0)}function ai(r){return"callTool"in r&&typeof r.callTool=="function"}function so(r){var n;return!((n=r?.automaticFunctionCalling)!=null&&n.ignoreCallHistory)}class _o extends an{constructor(n){super(),this.apiClient=n,this.generateContent=async i=>{var s,l,v,f,p;let o,u,h=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!function(y){var _,S,T;return(T=(S=(_=y.config)==null?void 0:_.tools)==null?void 0:S.some(k=>ai(k)))!=null&&T}(i)||ao(i.config))return await this.generateContentInternal(h);if(function(y){var _,S,T;return(T=(S=(_=y.config)==null?void 0:_.tools)==null?void 0:S.some(k=>!ai(k)))!=null&&T}(i))throw Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d=Kt(h.contents),E=(v=(l=(s=h.config)==null?void 0:s.automaticFunctionCalling)==null?void 0:l.maximumRemoteCalls)!=null?v:10,g=0;for(;g<E&&(o=await this.generateContentInternal(h)).functionCalls&&o.functionCalls.length!==0;){let y=o.candidates[0].content,_=[];for(let S of(p=(f=i.config)==null?void 0:f.tools)!=null?p:[])if(ai(S)){let T=await S.callTool(o.functionCalls);_.push(...T)}g++,u={role:"user",parts:_},h.contents=Kt(h.contents),h.contents.push(y),h.contents.push(u),so(h.config)&&(d.push(y),d.push(u))}return so(h.config)&&(o.automaticFunctionCallingHistory=d),o},this.generateContentStream=async i=>{if(this.maybeMoveToResponseJsonSchem(i),!ao(i.config))return await this.processAfcStream(i);{let s=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(s)}},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var l;let v,f=[];if(s?.generatedImages)for(let p of s.generatedImages)p&&p?.safetyAttributes&&((l=p?.safetyAttributes)==null?void 0:l.contentType)==="Positive Prompt"?v=p?.safetyAttributes:f.push(p);return v?{generatedImages:f,positivePromptSafetyAttributes:v,sdkHttpResponse:s.sdkHttpResponse}:{generatedImages:f,sdkHttpResponse:s.sdkHttpResponse}}),this.list=async i=>{var s;let l={config:Object.assign(Object.assign({},{queryBase:!0}),i?.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if((s=l.config)!=null&&s.filter)throw Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new pi(et.PAGED_ITEM_MODELS,v=>this.listInternal(v),await this.listInternal(l),l)},this.editImage=async i=>{let s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));let l={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async i=>{if((i.prompt||i.image||i.video)&&i.source)throw Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&!n.config.responseJsonSchema&&Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema)}async processParamsMaybeAddMcpUsage(n){var i,s,l;let v=(i=n.config)==null?void 0:i.tools;if(!v)return n;let f=await Promise.all(v.map(async o=>ai(o)?await o.tool():o)),p={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:f})};if(p.config.tools=f,n.config&&n.config.tools&&Ti(n.config.tools)){let o=Object.assign({},(l=(s=n.config.httpOptions)==null?void 0:s.headers)!=null?l:{});Object.keys(o).length===0&&(o=this.apiClient.getDefaultHeaders()),ro(o),p.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:o})}return p}async initAfcToolsMap(n){var i,s,l;let v=new Map;for(let f of(s=(i=n.config)==null?void 0:i.tools)!=null?s:[])if(ai(f))for(let p of(l=(await f.tool()).functionDeclarations)!=null?l:[]){if(!p.name)throw Error("Function declaration name is required.");if(v.has(p.name))throw Error(`Duplicate tool declaration name: ${p.name}`);v.set(p.name,f)}return v}async processAfcStream(n){var i,s,l;let v=(l=(s=(i=n.config)==null?void 0:i.automaticFunctionCalling)==null?void 0:s.maximumRemoteCalls)!=null?l:10,f=!1,p=0;return function(o,u,h){var d,E;return Kr(this,arguments,function*(){for(var g,y,_,S;p<v;){f&&(p++,f=!1);let M=yield On(o.processParamsMaybeAddMcpUsage(h)),K=yield On(o.generateContentStreamInternal(M)),X=[],he=[];try{for(var T,k=!0,I=(y=void 0,ri(K));!(g=(T=yield On(I.next())).done);k=!0)if(S=T.value,k=!1,yield yield On(S),S.candidates&&((d=S.candidates[0])==null?void 0:d.content)){for(let te of(he.push(S.candidates[0].content),(E=S.candidates[0].content.parts)!=null?E:[]))if(p<v&&te.functionCall){if(!te.functionCall.name)throw Error("Function call name was not returned by the model.");if(u.has(te.functionCall.name)){let Z=yield On(u.get(te.functionCall.name).callTool([te.functionCall]));X.push(...Z)}else throw Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${te.functionCall.name}`)}}}catch(te){y={error:te}}finally{try{!k&&!g&&(_=I.return)&&(yield On(_.call(I)))}finally{if(y)throw y.error}}if(X.length>0){f=!0;let te=new dn;te.candidates=[{content:{role:"user",parts:X}}],yield yield On(te);let Z=[];Z.push(...he),Z.push({role:"user",parts:X});let oe=Kt(h.contents).concat(Z);h.contents=oe}else break}})}(this,await this.initAfcToolsMap(n),n)}async generateContentInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=Ri(this.apiClient,n);return f=ht("{model}:generateContent",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=no(u),d=new dn;return Object.assign(d,h),d})}{let o=Hi(this.apiClient,n);return f=ht("{model}:generateContent",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=to(u),d=new dn;return Object.assign(d,h),d})}}async generateContentStreamInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=Ri(this.apiClient,n);return f=ht("{model}:streamGenerateContent?alt=sse",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(function(u){return Kr(this,arguments,function*(){var h,d,E,g;try{for(var y,_=!0,S=ri(u);!(h=(y=yield On(S.next())).done);_=!0){g=y.value,_=!1;let T=no(yield On(g.json()));T.sdkHttpResponse={headers:g.headers};let k=new dn;Object.assign(k,T),yield yield On(k)}}catch(T){d={error:T}}finally{try{!_&&!h&&(E=S.return)&&(yield On(E.call(S)))}finally{if(d)throw d.error}}})})}{let o=Hi(this.apiClient,n);return f=ht("{model}:streamGenerateContent?alt=sse",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(function(u){return Kr(this,arguments,function*(){var h,d,E,g;try{for(var y,_=!0,S=ri(u);!(h=(y=yield On(S.next())).done);_=!0){g=y.value,_=!1;let T=to(yield On(g.json()));T.sdkHttpResponse={headers:g.headers};let k=new dn;Object.assign(k,T),yield yield On(k)}}catch(T){d={error:T}}finally{try{!_&&!h&&(E=S.return)&&(yield On(E.call(S)))}finally{if(d)throw d.error}}})})}}async embedContent(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","model"],a(u,E));let g=e(h,["contents"]);g!=null&&t(d,["instances[]","content"],Ht(u,g));let y=e(h,["config"]);return y!=null&&t(d,["config"],function(_,S){let T=e(_,["taskType"]);S!==void 0&&T!=null&&t(S,["instances[]","task_type"],T);let k=e(_,["title"]);S!==void 0&&k!=null&&t(S,["instances[]","title"],k);let I=e(_,["outputDimensionality"]);S!==void 0&&I!=null&&t(S,["parameters","outputDimensionality"],I);let M=e(_,["mimeType"]);S!==void 0&&M!=null&&t(S,["instances[]","mimeType"],M);let K=e(_,["autoTruncate"]);return S!==void 0&&K!=null&&t(S,["parameters","autoTruncate"],K),{}}(y,d)),d}(this.apiClient,n);return f=ht("{model}:predict",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["predictions[]","embeddings"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(k=>function(I){let M={},K=e(I,["values"]);K!=null&&t(M,["values"],K);let X=e(I,["statistics"]);return X!=null&&t(M,["statistics"],function(he){let te={},Z=e(he,["truncated"]);Z!=null&&t(te,["truncated"],Z);let oe=e(he,["token_count"]);return oe!=null&&t(te,["tokenCount"],oe),te}(X)),M}(k))),t(g,["embeddings"],T)}let S=e(E,["metadata"]);return S!=null&&t(g,["metadata"],function(T){let k={},I=e(T,["billableCharacterCount"]);return I!=null&&t(k,["billableCharacterCount"],I),k}(S)),g}(u),d=new Un;return Object.assign(d,h),d})}{let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","model"],a(u,E));let g=e(h,["contents"]);g!=null&&t(d,["requests[]","content"],Ht(u,g));let y=e(h,["config"]);y!=null&&t(d,["config"],function(S,T){let k=e(S,["taskType"]);T!==void 0&&k!=null&&t(T,["requests[]","taskType"],k);let I=e(S,["title"]);T!==void 0&&I!=null&&t(T,["requests[]","title"],I);let M=e(S,["outputDimensionality"]);if(T!==void 0&&M!=null&&t(T,["requests[]","outputDimensionality"],M),e(S,["mimeType"])!==void 0)throw Error("mimeType parameter is not supported in Gemini API.");if(e(S,["autoTruncate"])!==void 0)throw Error("autoTruncate parameter is not supported in Gemini API.");return{}}(y,d));let _=e(h,["model"]);return _!==void 0&&t(d,["requests[]","model"],a(u,_)),d}(this.apiClient,n);return f=ht("{model}:batchEmbedContents",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["embeddings"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>function(k){let I={},M=e(k,["values"]);return M!=null&&t(I,["values"],M),I}(T))),t(g,["embeddings"],S)}return e(E,["metadata"])!=null&&t(g,["metadata"],{}),g}(u),d=new Un;return Object.assign(d,h),d})}}async generateImagesInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","model"],a(u,E));let g=e(h,["prompt"]);g!=null&&t(d,["instances[0]","prompt"],g);let y=e(h,["config"]);return y!=null&&t(d,["config"],function(_,S){let T=e(_,["outputGcsUri"]);S!==void 0&&T!=null&&t(S,["parameters","storageUri"],T);let k=e(_,["negativePrompt"]);S!==void 0&&k!=null&&t(S,["parameters","negativePrompt"],k);let I=e(_,["numberOfImages"]);S!==void 0&&I!=null&&t(S,["parameters","sampleCount"],I);let M=e(_,["aspectRatio"]);S!==void 0&&M!=null&&t(S,["parameters","aspectRatio"],M);let K=e(_,["guidanceScale"]);S!==void 0&&K!=null&&t(S,["parameters","guidanceScale"],K);let X=e(_,["seed"]);S!==void 0&&X!=null&&t(S,["parameters","seed"],X);let he=e(_,["safetyFilterLevel"]);S!==void 0&&he!=null&&t(S,["parameters","safetySetting"],he);let te=e(_,["personGeneration"]);S!==void 0&&te!=null&&t(S,["parameters","personGeneration"],te);let Z=e(_,["includeSafetyAttributes"]);S!==void 0&&Z!=null&&t(S,["parameters","includeSafetyAttributes"],Z);let oe=e(_,["includeRaiReason"]);S!==void 0&&oe!=null&&t(S,["parameters","includeRaiReason"],oe);let me=e(_,["language"]);S!==void 0&&me!=null&&t(S,["parameters","language"],me);let Oe=e(_,["outputMimeType"]);S!==void 0&&Oe!=null&&t(S,["parameters","outputOptions","mimeType"],Oe);let ue=e(_,["outputCompressionQuality"]);S!==void 0&&ue!=null&&t(S,["parameters","outputOptions","compressionQuality"],ue);let Y=e(_,["addWatermark"]);S!==void 0&&Y!=null&&t(S,["parameters","addWatermark"],Y);let pt=e(_,["imageSize"]);S!==void 0&&pt!=null&&t(S,["parameters","sampleImageSize"],pt);let _t=e(_,["enhancePrompt"]);return S!==void 0&&_t!=null&&t(S,["parameters","enhancePrompt"],_t),{}}(y,d)),d}(this.apiClient,n);return f=ht("{model}:predict",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["predictions"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(k=>mi(k))),t(g,["generatedImages"],T)}let S=e(E,["positivePromptSafetyAttributes"]);return S!=null&&t(g,["positivePromptSafetyAttributes"],Ji(S)),g}(u),d=new Xt;return Object.assign(d,h),d})}{let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","model"],a(u,E));let g=e(h,["prompt"]);g!=null&&t(d,["instances[0]","prompt"],g);let y=e(h,["config"]);return y!=null&&t(d,["config"],function(_,S){if(e(_,["outputGcsUri"])!==void 0)throw Error("outputGcsUri parameter is not supported in Gemini API.");if(e(_,["negativePrompt"])!==void 0)throw Error("negativePrompt parameter is not supported in Gemini API.");let T=e(_,["numberOfImages"]);S!==void 0&&T!=null&&t(S,["parameters","sampleCount"],T);let k=e(_,["aspectRatio"]);S!==void 0&&k!=null&&t(S,["parameters","aspectRatio"],k);let I=e(_,["guidanceScale"]);if(S!==void 0&&I!=null&&t(S,["parameters","guidanceScale"],I),e(_,["seed"])!==void 0)throw Error("seed parameter is not supported in Gemini API.");let M=e(_,["safetyFilterLevel"]);S!==void 0&&M!=null&&t(S,["parameters","safetySetting"],M);let K=e(_,["personGeneration"]);S!==void 0&&K!=null&&t(S,["parameters","personGeneration"],K);let X=e(_,["includeSafetyAttributes"]);S!==void 0&&X!=null&&t(S,["parameters","includeSafetyAttributes"],X);let he=e(_,["includeRaiReason"]);S!==void 0&&he!=null&&t(S,["parameters","includeRaiReason"],he);let te=e(_,["language"]);S!==void 0&&te!=null&&t(S,["parameters","language"],te);let Z=e(_,["outputMimeType"]);S!==void 0&&Z!=null&&t(S,["parameters","outputOptions","mimeType"],Z);let oe=e(_,["outputCompressionQuality"]);if(S!==void 0&&oe!=null&&t(S,["parameters","outputOptions","compressionQuality"],oe),e(_,["addWatermark"])!==void 0)throw Error("addWatermark parameter is not supported in Gemini API.");let me=e(_,["imageSize"]);if(S!==void 0&&me!=null&&t(S,["parameters","sampleImageSize"],me),e(_,["enhancePrompt"])!==void 0)throw Error("enhancePrompt parameter is not supported in Gemini API.");return{}}(y,d)),d}(this.apiClient,n);return f=ht("{model}:predict",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["predictions"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(k=>function(I){let M={},K=e(I,["_self"]);K!=null&&t(M,["image"],function(te){let Z={},oe=e(te,["bytesBase64Encoded"]);oe!=null&&t(Z,["imageBytes"],nn(oe));let me=e(te,["mimeType"]);return me!=null&&t(Z,["mimeType"],me),Z}(K));let X=e(I,["raiFilteredReason"]);X!=null&&t(M,["raiFilteredReason"],X);let he=e(I,["_self"]);return he!=null&&t(M,["safetyAttributes"],wn(he)),M}(k))),t(g,["generatedImages"],T)}let S=e(E,["positivePromptSafetyAttributes"]);return S!=null&&t(g,["positivePromptSafetyAttributes"],wn(S)),g}(u),d=new Xt;return Object.assign(d,h),d})}}async editImageInternal(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI()){let f=function(p,o){let u={},h=e(o,["model"]);h!=null&&t(u,["_url","model"],a(p,h));let d=e(o,["prompt"]);d!=null&&t(u,["instances[0]","prompt"],d);let E=e(o,["referenceImages"]);if(E!=null){let y=E;Array.isArray(y)&&(y=y.map(_=>function(S){let T={},k=e(S,["referenceImage"]);k!=null&&t(T,["referenceImage"],Sr(k));let I=e(S,["referenceId"]);I!=null&&t(T,["referenceId"],I);let M=e(S,["referenceType"]);M!=null&&t(T,["referenceType"],M);let K=e(S,["maskImageConfig"]);K!=null&&t(T,["maskImageConfig"],function(Z){let oe={},me=e(Z,["maskMode"]);me!=null&&t(oe,["maskMode"],me);let Oe=e(Z,["segmentationClasses"]);Oe!=null&&t(oe,["maskClasses"],Oe);let ue=e(Z,["maskDilation"]);return ue!=null&&t(oe,["dilation"],ue),oe}(K));let X=e(S,["controlImageConfig"]);X!=null&&t(T,["controlImageConfig"],function(Z){let oe={},me=e(Z,["controlType"]);me!=null&&t(oe,["controlType"],me);let Oe=e(Z,["enableControlImageComputation"]);return Oe!=null&&t(oe,["computeControl"],Oe),oe}(X));let he=e(S,["styleImageConfig"]);he!=null&&t(T,["styleImageConfig"],function(Z){let oe={},me=e(Z,["styleDescription"]);return me!=null&&t(oe,["styleDescription"],me),oe}(he));let te=e(S,["subjectImageConfig"]);return te!=null&&t(T,["subjectImageConfig"],function(Z){let oe={},me=e(Z,["subjectType"]);me!=null&&t(oe,["subjectType"],me);let Oe=e(Z,["subjectDescription"]);return Oe!=null&&t(oe,["subjectDescription"],Oe),oe}(te)),T}(_))),t(u,["instances[0]","referenceImages"],y)}let g=e(o,["config"]);return g!=null&&t(u,["config"],function(y,_){let S=e(y,["outputGcsUri"]);_!==void 0&&S!=null&&t(_,["parameters","storageUri"],S);let T=e(y,["negativePrompt"]);_!==void 0&&T!=null&&t(_,["parameters","negativePrompt"],T);let k=e(y,["numberOfImages"]);_!==void 0&&k!=null&&t(_,["parameters","sampleCount"],k);let I=e(y,["aspectRatio"]);_!==void 0&&I!=null&&t(_,["parameters","aspectRatio"],I);let M=e(y,["guidanceScale"]);_!==void 0&&M!=null&&t(_,["parameters","guidanceScale"],M);let K=e(y,["seed"]);_!==void 0&&K!=null&&t(_,["parameters","seed"],K);let X=e(y,["safetyFilterLevel"]);_!==void 0&&X!=null&&t(_,["parameters","safetySetting"],X);let he=e(y,["personGeneration"]);_!==void 0&&he!=null&&t(_,["parameters","personGeneration"],he);let te=e(y,["includeSafetyAttributes"]);_!==void 0&&te!=null&&t(_,["parameters","includeSafetyAttributes"],te);let Z=e(y,["includeRaiReason"]);_!==void 0&&Z!=null&&t(_,["parameters","includeRaiReason"],Z);let oe=e(y,["language"]);_!==void 0&&oe!=null&&t(_,["parameters","language"],oe);let me=e(y,["outputMimeType"]);_!==void 0&&me!=null&&t(_,["parameters","outputOptions","mimeType"],me);let Oe=e(y,["outputCompressionQuality"]);_!==void 0&&Oe!=null&&t(_,["parameters","outputOptions","compressionQuality"],Oe);let ue=e(y,["addWatermark"]);_!==void 0&&ue!=null&&t(_,["parameters","addWatermark"],ue);let Y=e(y,["editMode"]);_!==void 0&&Y!=null&&t(_,["parameters","editMode"],Y);let pt=e(y,["baseSteps"]);return _!==void 0&&pt!=null&&t(_,["parameters","editConfig","baseSteps"],pt),{}}(g,u)),u}(this.apiClient,n);return l=ht("{model}:predict",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json().then(o=>(o.sdkHttpResponse={headers:p.headers},o))).then(p=>{let o=function(h){let d={},E=e(h,["sdkHttpResponse"]);E!=null&&t(d,["sdkHttpResponse"],E);let g=e(h,["predictions"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(_=>mi(_))),t(d,["generatedImages"],y)}return d}(p),u=new Hn;return Object.assign(u,o),u})}throw Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI()){let f=function(p,o){let u={},h=e(o,["model"]);h!=null&&t(u,["_url","model"],a(p,h));let d=e(o,["image"]);d!=null&&t(u,["instances[0]","image"],Sr(d));let E=e(o,["upscaleFactor"]);E!=null&&t(u,["parameters","upscaleConfig","upscaleFactor"],E);let g=e(o,["config"]);return g!=null&&t(u,["config"],function(y,_){let S=e(y,["outputGcsUri"]);_!==void 0&&S!=null&&t(_,["parameters","storageUri"],S);let T=e(y,["includeRaiReason"]);_!==void 0&&T!=null&&t(_,["parameters","includeRaiReason"],T);let k=e(y,["outputMimeType"]);_!==void 0&&k!=null&&t(_,["parameters","outputOptions","mimeType"],k);let I=e(y,["outputCompressionQuality"]);_!==void 0&&I!=null&&t(_,["parameters","outputOptions","compressionQuality"],I);let M=e(y,["enhanceInputImage"]);_!==void 0&&M!=null&&t(_,["parameters","upscaleConfig","enhanceInputImage"],M);let K=e(y,["imagePreservationFactor"]);_!==void 0&&K!=null&&t(_,["parameters","upscaleConfig","imagePreservationFactor"],K);let X=e(y,["numberOfImages"]);_!==void 0&&X!=null&&t(_,["parameters","sampleCount"],X);let he=e(y,["mode"]);return _!==void 0&&he!=null&&t(_,["parameters","mode"],he),{}}(g,u)),u}(this.apiClient,n);return l=ht("{model}:predict",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json().then(o=>(o.sdkHttpResponse={headers:p.headers},o))).then(p=>{let o=function(h){let d={},E=e(h,["sdkHttpResponse"]);E!=null&&t(d,["sdkHttpResponse"],E);let g=e(h,["predictions"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(_=>mi(_))),t(d,["generatedImages"],y)}return d}(p),u=new qn;return Object.assign(u,o),u})}throw Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI()){let f=function(p,o){let u={},h=e(o,["model"]);h!=null&&t(u,["_url","model"],a(p,h));let d=e(o,["source"]);d!=null&&t(u,["config"],function(g,y){let _=e(g,["prompt"]);y!==void 0&&_!=null&&t(y,["instances[0]","prompt"],_);let S=e(g,["personImage"]);y!==void 0&&S!=null&&t(y,["instances[0]","personImage","image"],Sr(S));let T=e(g,["productImages"]);if(y!==void 0&&T!=null){let k=T;Array.isArray(k)&&(k=k.map(I=>function(M){let K={},X=e(M,["productImage"]);return X!=null&&t(K,["image"],Sr(X)),K}(I))),t(y,["instances[0]","productImages"],k)}return{}}(d,u));let E=e(o,["config"]);return E!=null&&t(u,["config"],function(g,y){let _=e(g,["numberOfImages"]);y!==void 0&&_!=null&&t(y,["parameters","sampleCount"],_);let S=e(g,["baseSteps"]);y!==void 0&&S!=null&&t(y,["parameters","editConfig","baseSteps"],S);let T=e(g,["outputGcsUri"]);y!==void 0&&T!=null&&t(y,["parameters","storageUri"],T);let k=e(g,["seed"]);y!==void 0&&k!=null&&t(y,["parameters","seed"],k);let I=e(g,["safetyFilterLevel"]);y!==void 0&&I!=null&&t(y,["parameters","safetySetting"],I);let M=e(g,["personGeneration"]);y!==void 0&&M!=null&&t(y,["parameters","personGeneration"],M);let K=e(g,["addWatermark"]);y!==void 0&&K!=null&&t(y,["parameters","addWatermark"],K);let X=e(g,["outputMimeType"]);y!==void 0&&X!=null&&t(y,["parameters","outputOptions","mimeType"],X);let he=e(g,["outputCompressionQuality"]);y!==void 0&&he!=null&&t(y,["parameters","outputOptions","compressionQuality"],he);let te=e(g,["enhancePrompt"]);return y!==void 0&&te!=null&&t(y,["parameters","enhancePrompt"],te),{}}(E,u)),u}(this.apiClient,n);return l=ht("{model}:predict",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json()).then(p=>{let o=function(h){let d={},E=e(h,["predictions"]);if(E!=null){let g=E;Array.isArray(g)&&(g=g.map(y=>mi(y))),t(d,["generatedImages"],g)}return d}(p),u=new nr;return Object.assign(u,o),u})}throw Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI()){let f=function(p,o){let u={},h=e(o,["model"]);h!=null&&t(u,["_url","model"],a(p,h));let d=e(o,["source"]);d!=null&&t(u,["config"],function(g,y){let _=e(g,["prompt"]);y!==void 0&&_!=null&&t(y,["instances[0]","prompt"],_);let S=e(g,["image"]);y!==void 0&&S!=null&&t(y,["instances[0]","image"],Sr(S));let T=e(g,["scribbleImage"]);return y!==void 0&&T!=null&&t(y,["instances[0]","scribble"],function(k){let I={},M=e(k,["image"]);return M!=null&&t(I,["image"],Sr(M)),I}(T)),{}}(d,u));let E=e(o,["config"]);return E!=null&&t(u,["config"],function(g,y){let _=e(g,["mode"]);y!==void 0&&_!=null&&t(y,["parameters","mode"],_);let S=e(g,["maxPredictions"]);y!==void 0&&S!=null&&t(y,["parameters","maxPredictions"],S);let T=e(g,["confidenceThreshold"]);y!==void 0&&T!=null&&t(y,["parameters","confidenceThreshold"],T);let k=e(g,["maskDilation"]);y!==void 0&&k!=null&&t(y,["parameters","maskDilation"],k);let I=e(g,["binaryColorThreshold"]);return y!==void 0&&I!=null&&t(y,["parameters","binaryColorThreshold"],I),{}}(E,u)),u}(this.apiClient,n);return l=ht("{model}:predict",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json()).then(p=>{let o=function(h){let d={},E=e(h,["predictions"]);if(E!=null){let g=E;Array.isArray(g)&&(g=g.map(y=>function(_){let S={},T=e(_,["_self"]);T!=null&&t(S,["mask"],Vi(T));let k=e(_,["labels"]);if(k!=null){let I=k;Array.isArray(I)&&(I=I.map(M=>function(K){let X={},he=e(K,["label"]);he!=null&&t(X,["label"],he);let te=e(K,["score"]);return te!=null&&t(X,["score"],te),X}(M))),t(S,["labels"],I)}return S}(y))),t(d,["generatedMasks"],g)}return d}(p),u=new Wn;return Object.assign(u,o),u})}throw Error("This method is only supported by the Vertex AI.")}async get(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","name"],a(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json()).then(u=>Wi(u))}{let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","name"],a(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json()).then(u=>Bi(u))}}async listInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["config"]);return E!=null&&t(d,["config"],function(g,y,_){let S=e(y,["pageSize"]);_!==void 0&&S!=null&&t(_,["_query","pageSize"],S);let T=e(y,["pageToken"]);_!==void 0&&T!=null&&t(_,["_query","pageToken"],T);let k=e(y,["filter"]);_!==void 0&&k!=null&&t(_,["_query","filter"],k);let I=e(y,["queryBase"]);return _!==void 0&&I!=null&&t(_,["_url","models_url"],Wr(g,I)),{}}(u,E,d)),d}(this.apiClient,n);return f=ht("{models_url}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["nextPageToken"]);_!=null&&t(g,["nextPageToken"],_);let S=e(E,["_self"]);if(S!=null){let T=ui(S);Array.isArray(T)&&(T=T.map(k=>Wi(k))),t(g,["models"],T)}return g}(u),d=new In;return Object.assign(d,h),d})}{let o=function(u,h){let d={},E=e(h,["config"]);return E!=null&&t(d,["config"],function(g,y,_){let S=e(y,["pageSize"]);_!==void 0&&S!=null&&t(_,["_query","pageSize"],S);let T=e(y,["pageToken"]);_!==void 0&&T!=null&&t(_,["_query","pageToken"],T);let k=e(y,["filter"]);_!==void 0&&k!=null&&t(_,["_query","filter"],k);let I=e(y,["queryBase"]);return _!==void 0&&I!=null&&t(_,["_url","models_url"],Wr(g,I)),{}}(u,E,d)),d}(this.apiClient,n);return f=ht("{models_url}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["nextPageToken"]);_!=null&&t(g,["nextPageToken"],_);let S=e(E,["_self"]);if(S!=null){let T=ui(S);Array.isArray(T)&&(T=T.map(k=>Bi(k))),t(g,["models"],T)}return g}(u),d=new In;return Object.assign(d,h),d})}}async update(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","model"],a(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],function(y,_){let S=e(y,["displayName"]);_!==void 0&&S!=null&&t(_,["displayName"],S);let T=e(y,["description"]);_!==void 0&&T!=null&&t(_,["description"],T);let k=e(y,["defaultCheckpointId"]);return _!==void 0&&k!=null&&t(_,["defaultCheckpointId"],k),{}}(g,d)),d}(this.apiClient,n);return f=ht("{model}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json()).then(u=>Wi(u))}{let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","name"],a(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],function(y,_){let S=e(y,["displayName"]);_!==void 0&&S!=null&&t(_,["displayName"],S);let T=e(y,["description"]);_!==void 0&&T!=null&&t(_,["description"],T);let k=e(y,["defaultCheckpointId"]);return _!==void 0&&k!=null&&t(_,["defaultCheckpointId"],k),{}}(g,d)),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json()).then(u=>Bi(u))}}async delete(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","name"],a(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);return y!=null&&t(g,["sdkHttpResponse"],y),g}(u),d=new hn;return Object.assign(d,h),d})}{let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","name"],a(u,E));let g=e(h,["config"]);return g!=null&&t(d,["config"],g),d}(this.apiClient,n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);return y!=null&&t(g,["sdkHttpResponse"],y),g}(u),d=new hn;return Object.assign(d,h),d})}}async countTokens(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","model"],a(u,E));let g=e(h,["contents"]);if(g!=null){let _=Kt(g);Array.isArray(_)&&(_=_.map(S=>Yr(S))),t(d,["contents"],_)}let y=e(h,["config"]);return y!=null&&t(d,["config"],function(_,S){let T=e(_,["systemInstruction"]);S!==void 0&&T!=null&&t(S,["systemInstruction"],Yr(Rt(T)));let k=e(_,["tools"]);if(S!==void 0&&k!=null){let M=k;Array.isArray(M)&&(M=M.map(K=>$r(K))),t(S,["tools"],M)}let I=e(_,["generationConfig"]);return S!==void 0&&I!=null&&t(S,["generationConfig"],I),{}}(y,d)),d}(this.apiClient,n);return f=ht("{model}:countTokens",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["totalTokens"]);return _!=null&&t(g,["totalTokens"],_),g}(u),d=new jn;return Object.assign(d,h),d})}{let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","model"],a(u,E));let g=e(h,["contents"]);if(g!=null){let _=Kt(g);Array.isArray(_)&&(_=_.map(S=>li(S))),t(d,["contents"],_)}let y=e(h,["config"]);return y!=null&&t(d,["config"],function(_){if(e(_,["systemInstruction"])!==void 0)throw Error("systemInstruction parameter is not supported in Gemini API.");if(e(_,["tools"])!==void 0)throw Error("tools parameter is not supported in Gemini API.");if(e(_,["generationConfig"])!==void 0)throw Error("generationConfig parameter is not supported in Gemini API.");return{}}(y)),d}(this.apiClient,n);return f=ht("{model}:countTokens",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["totalTokens"]);_!=null&&t(g,["totalTokens"],_);let S=e(E,["cachedContentTokenCount"]);return S!=null&&t(g,["cachedContentTokenCount"],S),g}(u),d=new jn;return Object.assign(d,h),d})}}async computeTokens(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI()){let f=function(p,o){let u={},h=e(o,["model"]);h!=null&&t(u,["_url","model"],a(p,h));let d=e(o,["contents"]);if(d!=null){let g=Kt(d);Array.isArray(g)&&(g=g.map(y=>Yr(y))),t(u,["contents"],g)}let E=e(o,["config"]);return E!=null&&t(u,["config"],E),u}(this.apiClient,n);return l=ht("{model}:computeTokens",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json().then(o=>(o.sdkHttpResponse={headers:p.headers},o))).then(p=>{let o=function(h){let d={},E=e(h,["sdkHttpResponse"]);E!=null&&t(d,["sdkHttpResponse"],E);let g=e(h,["tokensInfo"]);return g!=null&&t(d,["tokensInfo"],g),d}(p),u=new kn;return Object.assign(u,o),u})}throw Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","model"],a(u,E));let g=e(h,["prompt"]);g!=null&&t(d,["instances[0]","prompt"],g);let y=e(h,["image"]);y!=null&&t(d,["instances[0]","image"],Sr(y));let _=e(h,["video"]);_!=null&&t(d,["instances[0]","video"],Gi(_));let S=e(h,["source"]);S!=null&&t(d,["config"],function(k,I){let M=e(k,["prompt"]);I!==void 0&&M!=null&&t(I,["instances[0]","prompt"],M);let K=e(k,["image"]);I!==void 0&&K!=null&&t(I,["instances[0]","image"],Sr(K));let X=e(k,["video"]);return I!==void 0&&X!=null&&t(I,["instances[0]","video"],Gi(X)),{}}(S,d));let T=e(h,["config"]);return T!=null&&t(d,["config"],function(k,I){let M=e(k,["numberOfVideos"]);I!==void 0&&M!=null&&t(I,["parameters","sampleCount"],M);let K=e(k,["outputGcsUri"]);I!==void 0&&K!=null&&t(I,["parameters","storageUri"],K);let X=e(k,["fps"]);I!==void 0&&X!=null&&t(I,["parameters","fps"],X);let he=e(k,["durationSeconds"]);I!==void 0&&he!=null&&t(I,["parameters","durationSeconds"],he);let te=e(k,["seed"]);I!==void 0&&te!=null&&t(I,["parameters","seed"],te);let Z=e(k,["aspectRatio"]);I!==void 0&&Z!=null&&t(I,["parameters","aspectRatio"],Z);let oe=e(k,["resolution"]);I!==void 0&&oe!=null&&t(I,["parameters","resolution"],oe);let me=e(k,["personGeneration"]);I!==void 0&&me!=null&&t(I,["parameters","personGeneration"],me);let Oe=e(k,["pubsubTopic"]);I!==void 0&&Oe!=null&&t(I,["parameters","pubsubTopic"],Oe);let ue=e(k,["negativePrompt"]);I!==void 0&&ue!=null&&t(I,["parameters","negativePrompt"],ue);let Y=e(k,["enhancePrompt"]);I!==void 0&&Y!=null&&t(I,["parameters","enhancePrompt"],Y);let pt=e(k,["generateAudio"]);I!==void 0&&pt!=null&&t(I,["parameters","generateAudio"],pt);let _t=e(k,["lastFrame"]);I!==void 0&&_t!=null&&t(I,["instances[0]","lastFrame"],Sr(_t));let Ne=e(k,["referenceImages"]);if(I!==void 0&&Ne!=null){let Ze=Ne;Array.isArray(Ze)&&(Ze=Ze.map(ze=>function(Ie){let xe={},ot=e(Ie,["image"]);ot!=null&&t(xe,["image"],Sr(ot));let lt=e(Ie,["referenceType"]);return lt!=null&&t(xe,["referenceType"],lt),xe}(ze))),t(I,["instances[0]","referenceImages"],Ze)}let Be=e(k,["compressionQuality"]);return I!==void 0&&Be!=null&&t(I,["parameters","compressionQuality"],Be),{}}(T,d)),d}(this.apiClient,n);return f=ht("{model}:predictLongRunning",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json()).then(u=>{let h=function(E){let g={},y=e(E,["name"]);y!=null&&t(g,["name"],y);let _=e(E,["metadata"]);_!=null&&t(g,["metadata"],_);let S=e(E,["done"]);S!=null&&t(g,["done"],S);let T=e(E,["error"]);T!=null&&t(g,["error"],T);let k=e(E,["response"]);return k!=null&&t(g,["response"],function(I){let M={},K=e(I,["videos"]);if(K!=null){let te=K;Array.isArray(te)&&(te=te.map(Z=>function(oe){let me={},Oe=e(oe,["_self"]);return Oe!=null&&t(me,["video"],function(ue){let Y={},pt=e(ue,["gcsUri"]);pt!=null&&t(Y,["uri"],pt);let _t=e(ue,["bytesBase64Encoded"]);_t!=null&&t(Y,["videoBytes"],nn(_t));let Ne=e(ue,["mimeType"]);return Ne!=null&&t(Y,["mimeType"],Ne),Y}(Oe)),me}(Z))),t(M,["generatedVideos"],te)}let X=e(I,["raiMediaFilteredCount"]);X!=null&&t(M,["raiMediaFilteredCount"],X);let he=e(I,["raiMediaFilteredReasons"]);return he!=null&&t(M,["raiMediaFilteredReasons"],he),M}(k)),g}(u),d=new Mn;return Object.assign(d,h),d})}{let o=function(u,h){let d={},E=e(h,["model"]);E!=null&&t(d,["_url","model"],a(u,E));let g=e(h,["prompt"]);g!=null&&t(d,["instances[0]","prompt"],g);let y=e(h,["image"]);if(y!=null&&t(d,["instances[0]","image"],Fi(y)),e(h,["video"])!==void 0)throw Error("video parameter is not supported in Gemini API.");let _=e(h,["source"]);_!=null&&t(d,["config"],function(T,k){let I=e(T,["prompt"]);k!==void 0&&I!=null&&t(k,["instances[0]","prompt"],I);let M=e(T,["image"]);if(k!==void 0&&M!=null&&t(k,["instances[0]","image"],Fi(M)),e(T,["video"])!==void 0)throw Error("video parameter is not supported in Gemini API.");return{}}(_,d));let S=e(h,["config"]);return S!=null&&t(d,["config"],function(T,k){let I=e(T,["numberOfVideos"]);if(k!==void 0&&I!=null&&t(k,["parameters","sampleCount"],I),e(T,["outputGcsUri"])!==void 0)throw Error("outputGcsUri parameter is not supported in Gemini API.");if(e(T,["fps"])!==void 0)throw Error("fps parameter is not supported in Gemini API.");let M=e(T,["durationSeconds"]);if(k!==void 0&&M!=null&&t(k,["parameters","durationSeconds"],M),e(T,["seed"])!==void 0)throw Error("seed parameter is not supported in Gemini API.");let K=e(T,["aspectRatio"]);k!==void 0&&K!=null&&t(k,["parameters","aspectRatio"],K);let X=e(T,["resolution"]);k!==void 0&&X!=null&&t(k,["parameters","resolution"],X);let he=e(T,["personGeneration"]);if(k!==void 0&&he!=null&&t(k,["parameters","personGeneration"],he),e(T,["pubsubTopic"])!==void 0)throw Error("pubsubTopic parameter is not supported in Gemini API.");let te=e(T,["negativePrompt"]);k!==void 0&&te!=null&&t(k,["parameters","negativePrompt"],te);let Z=e(T,["enhancePrompt"]);if(k!==void 0&&Z!=null&&t(k,["parameters","enhancePrompt"],Z),e(T,["generateAudio"])!==void 0)throw Error("generateAudio parameter is not supported in Gemini API.");if(e(T,["lastFrame"])!==void 0)throw Error("lastFrame parameter is not supported in Gemini API.");if(e(T,["referenceImages"])!==void 0)throw Error("referenceImages parameter is not supported in Gemini API.");if(e(T,["compressionQuality"])!==void 0)throw Error("compressionQuality parameter is not supported in Gemini API.");return{}}(S,d)),d}(this.apiClient,n);return f=ht("{model}:predictLongRunning",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json()).then(u=>{let h=function(E){let g={},y=e(E,["name"]);y!=null&&t(g,["name"],y);let _=e(E,["metadata"]);_!=null&&t(g,["metadata"],_);let S=e(E,["done"]);S!=null&&t(g,["done"],S);let T=e(E,["error"]);T!=null&&t(g,["error"],T);let k=e(E,["response","generateVideoResponse"]);return k!=null&&t(g,["response"],function(I){let M={},K=e(I,["generatedSamples"]);if(K!=null){let te=K;Array.isArray(te)&&(te=te.map(Z=>function(oe){let me={},Oe=e(oe,["_self"]);return Oe!=null&&t(me,["video"],function(ue){let Y={},pt=e(ue,["video","uri"]);pt!=null&&t(Y,["uri"],pt);let _t=e(ue,["video","encodedVideo"]);_t!=null&&t(Y,["videoBytes"],nn(_t));let Ne=e(ue,["encoding"]);return Ne!=null&&t(Y,["mimeType"],Ne),Y}(Oe)),me}(Z))),t(M,["generatedVideos"],te)}let X=e(I,["raiMediaFilteredCount"]);X!=null&&t(M,["raiMediaFilteredCount"],X);let he=e(I,["raiMediaFilteredReasons"]);return he!=null&&t(M,["raiMediaFilteredReasons"],he),M}(k)),g}(u),d=new Mn;return Object.assign(d,h),d})}}}class wi extends an{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){let i=n.operation,s=n.config;if(i.name===void 0||i.name==="")throw Error("Operation name is required.");if(this.apiClient.isVertexAI()){let l,v=i.name.split("/operations/")[0];s&&"httpOptions"in s&&(l=s.httpOptions);let f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:v,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:f,isVertexAI:!0})}{let l=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:l,isVertexAI:!1})}}async get(n){let i=n.operation,s=n.config;if(i.name===void 0||i.name==="")throw Error("Operation name is required.");if(this.apiClient.isVertexAI()){let l,v=i.name.split("/operations/")[0];s&&"httpOptions"in s&&(l=s.httpOptions);let f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:v,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:f,isVertexAI:!0})}{let l=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:l,isVertexAI:!1})}}async getVideosOperationInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u){let h={},d=e(u,["operationName"]);d!=null&&t(h,["_url","operationName"],d);let E=e(u,["config"]);return E!=null&&t(h,["config"],E),h}(n);return f=ht("{operationName}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json())}{let o=function(u){let h={},d=e(u,["operationName"]);d!=null&&t(h,["_url","operationName"],d);let E=e(u,["config"]);return E!=null&&t(h,["config"],E),h}(n);return f=ht("{operationName}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json())}}async fetchPredictVideosOperationInternal(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI()){let f=function(p){let o={},u=e(p,["operationName"]);u!=null&&t(o,["operationName"],u);let h=e(p,["resourceName"]);h!=null&&t(o,["_url","resourceName"],h);let d=e(p,["config"]);return d!=null&&t(o,["config"],d),o}(n);return l=ht("{resourceName}:fetchPredictOperation",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json())}throw Error("This method is only supported by the Vertex AI.")}}function uo(r){let n={},i=e(r,["prebuiltVoiceConfig"]);return i!=null&&t(n,["prebuiltVoiceConfig"],function(s){let l={},v=e(s,["voiceName"]);return v!=null&&t(l,["voiceName"],v),l}(i)),n}class Eo extends an{constructor(n){super(),this.apiClient=n}async create(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI())throw Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let f=function(o,u){let h={},d=e(u,["config"]);return d!=null&&t(h,["config"],function(E,g,y){let _=e(g,["expireTime"]);y!==void 0&&_!=null&&t(y,["expireTime"],_);let S=e(g,["newSessionExpireTime"]);y!==void 0&&S!=null&&t(y,["newSessionExpireTime"],S);let T=e(g,["uses"]);y!==void 0&&T!=null&&t(y,["uses"],T);let k=e(g,["liveConnectConstraints"]);y!==void 0&&k!=null&&t(y,["bidiGenerateContentSetup"],function(M,K){let X={},he=e(K,["model"]);he!=null&&t(X,["setup","model"],a(M,he));let te=e(K,["config"]);return te!=null&&t(X,["config"],function(Z,oe){let me=e(Z,["generationConfig"]);oe!==void 0&&me!=null&&t(oe,["setup","generationConfig"],me);let Oe=e(Z,["responseModalities"]);oe!==void 0&&Oe!=null&&t(oe,["setup","generationConfig","responseModalities"],Oe);let ue=e(Z,["temperature"]);oe!==void 0&&ue!=null&&t(oe,["setup","generationConfig","temperature"],ue);let Y=e(Z,["topP"]);oe!==void 0&&Y!=null&&t(oe,["setup","generationConfig","topP"],Y);let pt=e(Z,["topK"]);oe!==void 0&&pt!=null&&t(oe,["setup","generationConfig","topK"],pt);let _t=e(Z,["maxOutputTokens"]);oe!==void 0&&_t!=null&&t(oe,["setup","generationConfig","maxOutputTokens"],_t);let Ne=e(Z,["mediaResolution"]);oe!==void 0&&Ne!=null&&t(oe,["setup","generationConfig","mediaResolution"],Ne);let Be=e(Z,["seed"]);oe!==void 0&&Be!=null&&t(oe,["setup","generationConfig","seed"],Be);let Ze=e(Z,["speechConfig"]);oe!==void 0&&Ze!=null&&t(oe,["setup","generationConfig","speechConfig"],function(je){let Ae={},De=e(je,["voiceConfig"]);De!=null&&t(Ae,["voiceConfig"],uo(De));let tt=e(je,["multiSpeakerVoiceConfig"]);tt!=null&&t(Ae,["multiSpeakerVoiceConfig"],function(rt){let We={},mt=e(rt,["speakerVoiceConfigs"]);if(mt!=null){let Dt=mt;Array.isArray(Dt)&&(Dt=Dt.map(wt=>function(nt){let ft={},Ot=e(nt,["speaker"]);Ot!=null&&t(ft,["speaker"],Ot);let Pt=e(nt,["voiceConfig"]);return Pt!=null&&t(ft,["voiceConfig"],uo(Pt)),ft}(wt))),t(We,["speakerVoiceConfigs"],Dt)}return We}(tt));let Le=e(je,["languageCode"]);return Le!=null&&t(Ae,["languageCode"],Le),Ae}(Jt(Ze)));let ze=e(Z,["enableAffectiveDialog"]);oe!==void 0&&ze!=null&&t(oe,["setup","generationConfig","enableAffectiveDialog"],ze);let Ie=e(Z,["systemInstruction"]);oe!==void 0&&Ie!=null&&t(oe,["setup","systemInstruction"],function(je){let Ae={},De=e(je,["parts"]);if(De!=null){let Le=De;Array.isArray(Le)&&(Le=Le.map(rt=>function(We){let mt={},Dt=e(We,["videoMetadata"]);Dt!=null&&t(mt,["videoMetadata"],function(Ut){let Ft={},rn=e(Ut,["fps"]);rn!=null&&t(Ft,["fps"],rn);let mn=e(Ut,["endOffset"]);mn!=null&&t(Ft,["endOffset"],mn);let Yt=e(Ut,["startOffset"]);return Yt!=null&&t(Ft,["startOffset"],Yt),Ft}(Dt));let wt=e(We,["thought"]);wt!=null&&t(mt,["thought"],wt);let nt=e(We,["inlineData"]);nt!=null&&t(mt,["inlineData"],function(Ut){let Ft={};if(e(Ut,["displayName"])!==void 0)throw Error("displayName parameter is not supported in Gemini API.");let rn=e(Ut,["data"]);rn!=null&&t(Ft,["data"],rn);let mn=e(Ut,["mimeType"]);return mn!=null&&t(Ft,["mimeType"],mn),Ft}(nt));let ft=e(We,["fileData"]);ft!=null&&t(mt,["fileData"],function(Ut){let Ft={};if(e(Ut,["displayName"])!==void 0)throw Error("displayName parameter is not supported in Gemini API.");let rn=e(Ut,["fileUri"]);rn!=null&&t(Ft,["fileUri"],rn);let mn=e(Ut,["mimeType"]);return mn!=null&&t(Ft,["mimeType"],mn),Ft}(ft));let Ot=e(We,["thoughtSignature"]);Ot!=null&&t(mt,["thoughtSignature"],Ot);let Pt=e(We,["codeExecutionResult"]);Pt!=null&&t(mt,["codeExecutionResult"],Pt);let qt=e(We,["executableCode"]);qt!=null&&t(mt,["executableCode"],qt);let xt=e(We,["functionCall"]);xt!=null&&t(mt,["functionCall"],xt);let Nt=e(We,["functionResponse"]);Nt!=null&&t(mt,["functionResponse"],Nt);let Gt=e(We,["text"]);return Gt!=null&&t(mt,["text"],Gt),mt}(rt))),t(Ae,["parts"],Le)}let tt=e(je,["role"]);return tt!=null&&t(Ae,["role"],tt),Ae}(Rt(Ie)));let xe=e(Z,["tools"]);if(oe!==void 0&&xe!=null){let je=Bt(xe);Array.isArray(je)&&(je=je.map(Ae=>function(De){let tt={},Le=e(De,["functionDeclarations"]);if(Le!=null){let wt=Le;Array.isArray(wt)&&(wt=wt.map(nt=>function(ft){let Ot={},Pt=e(ft,["behavior"]);Pt!=null&&t(Ot,["behavior"],Pt);let qt=e(ft,["description"]);qt!=null&&t(Ot,["description"],qt);let xt=e(ft,["name"]);xt!=null&&t(Ot,["name"],xt);let Nt=e(ft,["parameters"]);Nt!=null&&t(Ot,["parameters"],Nt);let Gt=e(ft,["parametersJsonSchema"]);Gt!=null&&t(Ot,["parametersJsonSchema"],Gt);let Ut=e(ft,["response"]);Ut!=null&&t(Ot,["response"],Ut);let Ft=e(ft,["responseJsonSchema"]);return Ft!=null&&t(Ot,["responseJsonSchema"],Ft),Ot}(nt))),t(tt,["functionDeclarations"],wt)}if(e(De,["retrieval"])!==void 0)throw Error("retrieval parameter is not supported in Gemini API.");let rt=e(De,["googleSearch"]);rt!=null&&t(tt,["googleSearch"],function(wt){let nt={},ft=e(wt,["timeRangeFilter"]);if(ft!=null&&t(nt,["timeRangeFilter"],function(Ot){let Pt={},qt=e(Ot,["startTime"]);qt!=null&&t(Pt,["startTime"],qt);let xt=e(Ot,["endTime"]);return xt!=null&&t(Pt,["endTime"],xt),Pt}(ft)),e(wt,["excludeDomains"])!==void 0)throw Error("excludeDomains parameter is not supported in Gemini API.");return nt}(rt));let We=e(De,["googleSearchRetrieval"]);if(We!=null&&t(tt,["googleSearchRetrieval"],function(wt){let nt={},ft=e(wt,["dynamicRetrievalConfig"]);return ft!=null&&t(nt,["dynamicRetrievalConfig"],function(Ot){let Pt={},qt=e(Ot,["mode"]);qt!=null&&t(Pt,["mode"],qt);let xt=e(Ot,["dynamicThreshold"]);return xt!=null&&t(Pt,["dynamicThreshold"],xt),Pt}(ft)),nt}(We)),e(De,["enterpriseWebSearch"])!==void 0)throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(e(De,["googleMaps"])!==void 0)throw Error("googleMaps parameter is not supported in Gemini API.");e(De,["urlContext"])!=null&&t(tt,["urlContext"],{});let mt=e(De,["computerUse"]);mt!=null&&t(tt,["computerUse"],function(wt){let nt={},ft=e(wt,["environment"]);return ft!=null&&t(nt,["environment"],ft),nt}(mt));let Dt=e(De,["codeExecution"]);return Dt!=null&&t(tt,["codeExecution"],Dt),tt}(un(Ae)))),t(oe,["setup","tools"],je)}let ot=e(Z,["sessionResumption"]);oe!==void 0&&ot!=null&&t(oe,["setup","sessionResumption"],function(je){let Ae={},De=e(je,["handle"]);if(De!=null&&t(Ae,["handle"],De),e(je,["transparent"])!==void 0)throw Error("transparent parameter is not supported in Gemini API.");return Ae}(ot));let lt=e(Z,["inputAudioTranscription"]);oe!==void 0&&lt!=null&&t(oe,["setup","inputAudioTranscription"],{});let Xe=e(Z,["outputAudioTranscription"]);oe!==void 0&&Xe!=null&&t(oe,["setup","outputAudioTranscription"],{});let Me=e(Z,["realtimeInputConfig"]);oe!==void 0&&Me!=null&&t(oe,["setup","realtimeInputConfig"],function(je){let Ae={},De=e(je,["automaticActivityDetection"]);De!=null&&t(Ae,["automaticActivityDetection"],function(rt){let We={},mt=e(rt,["disabled"]);mt!=null&&t(We,["disabled"],mt);let Dt=e(rt,["startOfSpeechSensitivity"]);Dt!=null&&t(We,["startOfSpeechSensitivity"],Dt);let wt=e(rt,["endOfSpeechSensitivity"]);wt!=null&&t(We,["endOfSpeechSensitivity"],wt);let nt=e(rt,["prefixPaddingMs"]);nt!=null&&t(We,["prefixPaddingMs"],nt);let ft=e(rt,["silenceDurationMs"]);return ft!=null&&t(We,["silenceDurationMs"],ft),We}(De));let tt=e(je,["activityHandling"]);tt!=null&&t(Ae,["activityHandling"],tt);let Le=e(je,["turnCoverage"]);return Le!=null&&t(Ae,["turnCoverage"],Le),Ae}(Me));let Se=e(Z,["contextWindowCompression"]);oe!==void 0&&Se!=null&&t(oe,["setup","contextWindowCompression"],function(je){let Ae={},De=e(je,["triggerTokens"]);De!=null&&t(Ae,["triggerTokens"],De);let tt=e(je,["slidingWindow"]);return tt!=null&&t(Ae,["slidingWindow"],function(Le){let rt={},We=e(Le,["targetTokens"]);return We!=null&&t(rt,["targetTokens"],We),rt}(tt)),Ae}(Se));let Ue=e(Z,["proactivity"]);return oe!==void 0&&Ue!=null&&t(oe,["setup","proactivity"],function(je){let Ae={},De=e(je,["proactiveAudio"]);return De!=null&&t(Ae,["proactiveAudio"],De),Ae}(Ue)),{}}(te,X)),X}(E,k));let I=e(g,["lockAdditionalFields"]);return y!==void 0&&I!=null&&t(y,["fieldMask"],I),{}}(o,d,h)),h}(this.apiClient,n);l=ht("auth_tokens",f._url),v=f._query,delete f.config,delete f._url,delete f._query;let p=function(o,u){let h=null,d=o.bidiGenerateContentSetup;if(typeof d=="object"&&d!==null&&"setup"in d){let g=d.setup;typeof g=="object"&&g!==null?(o.bidiGenerateContentSetup=g,h=g):delete o.bidiGenerateContentSetup}else d!==void 0&&delete o.bidiGenerateContentSetup;let E=o.fieldMask;if(h){let g=function(y){let _=[];for(let S in y)if(Object.prototype.hasOwnProperty.call(y,S)){let T=y[S];if(typeof T=="object"&&T!=null&&Object.keys(T).length>0){let k=Object.keys(T).map(I=>`${S}.${I}`);_.push(...k)}else _.push(S)}return _.join(",")}(h);if(Array.isArray(u?.lockAdditionalFields)&&u?.lockAdditionalFields.length===0)g?o.fieldMask=g:delete o.fieldMask;else if(u?.lockAdditionalFields&&u.lockAdditionalFields.length>0&&E!==null&&Array.isArray(E)&&E.length>0){let y=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],_=[];E.length>0&&(_=E.map(T=>y.includes(T)?`generationConfig.${T}`:T));let S=[];g&&S.push(g),_.length>0&&S.push(..._),S.length>0?o.fieldMask=S.join(","):delete o.fieldMask}else delete o.fieldMask}else E!==null&&Array.isArray(E)&&E.length>0?o.fieldMask=E.join(","):delete o.fieldMask;return o}(f,n.config);return this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(o=>o.json()).then(o=>function(u){let h={},d=e(u,["name"]);return d!=null&&t(h,["name"],d),h}(o))}}}function co(r){let n={},i=e(r,["sdkHttpResponse"]);i!=null&&t(n,["sdkHttpResponse"],i);let s=e(r,["name"]);s!=null&&t(n,["name"],s);let l=e(r,["state"]);l!=null&&t(n,["state"],Jr(l));let v=e(r,["createTime"]);v!=null&&t(n,["createTime"],v);let f=e(r,["tuningTask","startTime"]);f!=null&&t(n,["startTime"],f);let p=e(r,["tuningTask","completeTime"]);p!=null&&t(n,["endTime"],p);let o=e(r,["updateTime"]);o!=null&&t(n,["updateTime"],o);let u=e(r,["description"]);u!=null&&t(n,["description"],u);let h=e(r,["baseModel"]);h!=null&&t(n,["baseModel"],h);let d=e(r,["_self"]);d!=null&&t(n,["tunedModel"],function(I){let M={},K=e(I,["name"]);K!=null&&t(M,["model"],K);let X=e(I,["name"]);return X!=null&&t(M,["endpoint"],X),M}(d));let E=e(r,["customBaseModel"]);E!=null&&t(n,["customBaseModel"],E);let g=e(r,["experiment"]);g!=null&&t(n,["experiment"],g);let y=e(r,["labels"]);y!=null&&t(n,["labels"],y);let _=e(r,["outputUri"]);_!=null&&t(n,["outputUri"],_);let S=e(r,["pipelineJob"]);S!=null&&t(n,["pipelineJob"],S);let T=e(r,["serviceAccount"]);T!=null&&t(n,["serviceAccount"],T);let k=e(r,["tunedModelDisplayName"]);return k!=null&&t(n,["tunedModelDisplayName"],k),n}function Pi(r){let n={},i=e(r,["sdkHttpResponse"]);i!=null&&t(n,["sdkHttpResponse"],i);let s=e(r,["name"]);s!=null&&t(n,["name"],s);let l=e(r,["state"]);l!=null&&t(n,["state"],Jr(l));let v=e(r,["createTime"]);v!=null&&t(n,["createTime"],v);let f=e(r,["startTime"]);f!=null&&t(n,["startTime"],f);let p=e(r,["endTime"]);p!=null&&t(n,["endTime"],p);let o=e(r,["updateTime"]);o!=null&&t(n,["updateTime"],o);let u=e(r,["error"]);u!=null&&t(n,["error"],u);let h=e(r,["description"]);h!=null&&t(n,["description"],h);let d=e(r,["baseModel"]);d!=null&&t(n,["baseModel"],d);let E=e(r,["tunedModel"]);E!=null&&t(n,["tunedModel"],function(Z){let oe={},me=e(Z,["model"]);me!=null&&t(oe,["model"],me);let Oe=e(Z,["endpoint"]);Oe!=null&&t(oe,["endpoint"],Oe);let ue=e(Z,["checkpoints"]);if(ue!=null){let Y=ue;Array.isArray(Y)&&(Y=Y.map(pt=>function(_t){let Ne={},Be=e(_t,["checkpointId"]);Be!=null&&t(Ne,["checkpointId"],Be);let Ze=e(_t,["epoch"]);Ze!=null&&t(Ne,["epoch"],Ze);let ze=e(_t,["step"]);ze!=null&&t(Ne,["step"],ze);let Ie=e(_t,["endpoint"]);return Ie!=null&&t(Ne,["endpoint"],Ie),Ne}(pt))),t(oe,["checkpoints"],Y)}return oe}(E));let g=e(r,["preTunedModel"]);g!=null&&t(n,["preTunedModel"],g);let y=e(r,["supervisedTuningSpec"]);y!=null&&t(n,["supervisedTuningSpec"],y);let _=e(r,["tuningDataStats"]);_!=null&&t(n,["tuningDataStats"],_);let S=e(r,["encryptionSpec"]);S!=null&&t(n,["encryptionSpec"],S);let T=e(r,["partnerModelTuningSpec"]);T!=null&&t(n,["partnerModelTuningSpec"],T);let k=e(r,["customBaseModel"]);k!=null&&t(n,["customBaseModel"],k);let I=e(r,["experiment"]);I!=null&&t(n,["experiment"],I);let M=e(r,["labels"]);M!=null&&t(n,["labels"],M);let K=e(r,["outputUri"]);K!=null&&t(n,["outputUri"],K);let X=e(r,["pipelineJob"]);X!=null&&t(n,["pipelineJob"],X);let he=e(r,["serviceAccount"]);he!=null&&t(n,["serviceAccount"],he);let te=e(r,["tunedModelDisplayName"]);return te!=null&&t(n,["tunedModelDisplayName"],te),n}class po extends an{constructor(n){super(),this.apiClient=n,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new pi(et.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.tune=async i=>{if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){let s={tunedModelName:i.baseModel},l=Object.assign(Object.assign({},i),{preTunedModel:s});return l.baseModel=void 0,await this.tuneInternal(l)}else{let s=Object.assign({},i);return await this.tuneInternal(s)}{let s=Object.assign({},i),l=await this.tuneMldevInternal(s),v="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?v=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(v=l.name.split("/operations/")[0]),{name:v,state:we.JOB_STATE_QUEUED}}}}async getInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u){let h={},d=e(u,["name"]);d!=null&&t(h,["_url","name"],d);let E=e(u,["config"]);return E!=null&&t(h,["config"],E),h}(n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>Pi(u))}{let o=function(u){let h={},d=e(u,["name"]);d!=null&&t(h,["_url","name"],d);let E=e(u,["config"]);return E!=null&&t(h,["config"],E),h}(n);return f=ht("{name}",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>co(u))}}async listInternal(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u){let h={},d=e(u,["config"]);return d!=null&&t(h,["config"],function(E,g){let y=e(E,["pageSize"]);g!==void 0&&y!=null&&t(g,["_query","pageSize"],y);let _=e(E,["pageToken"]);g!==void 0&&_!=null&&t(g,["_query","pageToken"],_);let S=e(E,["filter"]);return g!==void 0&&S!=null&&t(g,["_query","filter"],S),{}}(d,h)),h}(n);return f=ht("tuningJobs",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["nextPageToken"]);_!=null&&t(g,["nextPageToken"],_);let S=e(E,["tuningJobs"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(k=>Pi(k))),t(g,["tuningJobs"],T)}return g}(u),d=new fn;return Object.assign(d,h),d})}{let o=function(u){let h={},d=e(u,["config"]);return d!=null&&t(h,["config"],function(E,g){let y=e(E,["pageSize"]);g!==void 0&&y!=null&&t(g,["_query","pageSize"],y);let _=e(E,["pageToken"]);g!==void 0&&_!=null&&t(g,["_query","pageToken"],_);let S=e(E,["filter"]);return g!==void 0&&S!=null&&t(g,["_query","filter"],S),{}}(d,h)),h}(n);return f=ht("tunedModels",o._url),p=o._query,delete o.config,delete o._url,delete o._query,this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal}).then(u=>u.json().then(h=>(h.sdkHttpResponse={headers:u.headers},h))).then(u=>{let h=function(E){let g={},y=e(E,["sdkHttpResponse"]);y!=null&&t(g,["sdkHttpResponse"],y);let _=e(E,["nextPageToken"]);_!=null&&t(g,["nextPageToken"],_);let S=e(E,["tunedModels"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(k=>co(k))),t(g,["tuningJobs"],T)}return g}(u),d=new fn;return Object.assign(d,h),d})}}async cancel(n){var i,s,l,v;let f="",p={};if(this.apiClient.isVertexAI()){let o=function(u){let h={},d=e(u,["name"]);d!=null&&t(h,["_url","name"],d);let E=e(u,["config"]);return E!=null&&t(h,["config"],E),h}(n);f=ht("{name}:cancel",o._url),p=o._query,delete o.config,delete o._url,delete o._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal})}else{let o=function(u){let h={},d=e(u,["name"]);d!=null&&t(h,["_url","name"],d);let E=e(u,["config"]);return E!=null&&t(h,["config"],E),h}(n);f=ht("{name}:cancel",o._url),p=o._query,delete o.config,delete o._url,delete o._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(l=n.config)==null?void 0:l.httpOptions,abortSignal:(v=n.config)==null?void 0:v.abortSignal})}}async tuneInternal(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI()){let f=function(p){let o={},u=e(p,["baseModel"]);u!=null&&t(o,["baseModel"],u);let h=e(p,["preTunedModel"]);h!=null&&t(o,["preTunedModel"],h);let d=e(p,["trainingDataset"]);d!=null&&t(o,["supervisedTuningSpec","trainingDatasetUri"],function(g,y){let _=e(g,["gcsUri"]);y!==void 0&&_!=null&&t(y,["supervisedTuningSpec","trainingDatasetUri"],_);let S=e(g,["vertexDatasetResource"]);if(y!==void 0&&S!=null&&t(y,["supervisedTuningSpec","trainingDatasetUri"],S),e(g,["examples"])!==void 0)throw Error("examples parameter is not supported in Vertex AI.");return{}}(d,o));let E=e(p,["config"]);return E!=null&&t(o,["config"],function(g,y){let _={},S=e(g,["validationDataset"]);y!==void 0&&S!=null&&t(y,["supervisedTuningSpec"],function(te,Z){let oe={},me=e(te,["gcsUri"]);me!=null&&t(oe,["validationDatasetUri"],me);let Oe=e(te,["vertexDatasetResource"]);return Z!==void 0&&Oe!=null&&t(Z,["supervisedTuningSpec","trainingDatasetUri"],Oe),oe}(S,_));let T=e(g,["tunedModelDisplayName"]);y!==void 0&&T!=null&&t(y,["tunedModelDisplayName"],T);let k=e(g,["description"]);y!==void 0&&k!=null&&t(y,["description"],k);let I=e(g,["epochCount"]);y!==void 0&&I!=null&&t(y,["supervisedTuningSpec","hyperParameters","epochCount"],I);let M=e(g,["learningRateMultiplier"]);y!==void 0&&M!=null&&t(y,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],M);let K=e(g,["exportLastCheckpointOnly"]);y!==void 0&&K!=null&&t(y,["supervisedTuningSpec","exportLastCheckpointOnly"],K);let X=e(g,["preTunedModelCheckpointId"]);X!=null&&t(_,["preTunedModel","checkpointId"],X);let he=e(g,["adapterSize"]);if(y!==void 0&&he!=null&&t(y,["supervisedTuningSpec","hyperParameters","adapterSize"],he),e(g,["batchSize"])!==void 0)throw Error("batchSize parameter is not supported in Vertex AI.");if(e(g,["learningRate"])!==void 0)throw Error("learningRate parameter is not supported in Vertex AI.");return _}(E,o)),o}(n);return l=ht("tuningJobs",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json().then(o=>(o.sdkHttpResponse={headers:p.headers},o))).then(p=>Pi(p))}throw Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var i,s;let l="",v={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let f=function(p){let o={},u=e(p,["baseModel"]);u!=null&&t(o,["baseModel"],u);let h=e(p,["preTunedModel"]);h!=null&&t(o,["preTunedModel"],h);let d=e(p,["trainingDataset"]);d!=null&&t(o,["tuningTask","trainingData"],function(g){let y={};if(e(g,["gcsUri"])!==void 0)throw Error("gcsUri parameter is not supported in Gemini API.");if(e(g,["vertexDatasetResource"])!==void 0)throw Error("vertexDatasetResource parameter is not supported in Gemini API.");let _=e(g,["examples"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>function(k){let I={},M=e(k,["textInput"]);M!=null&&t(I,["textInput"],M);let K=e(k,["output"]);return K!=null&&t(I,["output"],K),I}(T))),t(y,["examples","examples"],S)}return y}(d));let E=e(p,["config"]);return E!=null&&t(o,["config"],function(g,y){let _={};if(e(g,["validationDataset"])!==void 0)throw Error("validationDataset parameter is not supported in Gemini API.");let S=e(g,["tunedModelDisplayName"]);if(y!==void 0&&S!=null&&t(y,["displayName"],S),e(g,["description"])!==void 0)throw Error("description parameter is not supported in Gemini API.");let T=e(g,["epochCount"]);y!==void 0&&T!=null&&t(y,["tuningTask","hyperparameters","epochCount"],T);let k=e(g,["learningRateMultiplier"]);if(k!=null&&t(_,["tuningTask","hyperparameters","learningRateMultiplier"],k),e(g,["exportLastCheckpointOnly"])!==void 0)throw Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(e(g,["preTunedModelCheckpointId"])!==void 0)throw Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(e(g,["adapterSize"])!==void 0)throw Error("adapterSize parameter is not supported in Gemini API.");let I=e(g,["batchSize"]);y!==void 0&&I!=null&&t(y,["tuningTask","hyperparameters","batchSize"],I);let M=e(g,["learningRate"]);return y!==void 0&&M!=null&&t(y,["tuningTask","hyperparameters","learningRate"],M),_}(E,o)),o}(n);return l=ht("tunedModels",f._url),v=f._query,delete f.config,delete f._url,delete f._query,this.apiClient.request({path:l,queryParams:v,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)==null?void 0:i.httpOptions,abortSignal:(s=n.config)==null?void 0:s.abortSignal}).then(p=>p.json().then(o=>(o.sdkHttpResponse={headers:p.headers},o))).then(p=>function(o){let u={},h=e(o,["sdkHttpResponse"]);h!=null&&t(u,["sdkHttpResponse"],h);let d=e(o,["name"]);d!=null&&t(u,["name"],d);let E=e(o,["metadata"]);E!=null&&t(u,["metadata"],E);let g=e(o,["done"]);g!=null&&t(u,["done"],g);let y=e(o,["error"]);return y!=null&&t(u,["error"],y),u}(p))}}}class fo{async download(n,i){throw Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}let Ii="x-goog-upload-status";async function bo(r,n,i){var s,l,v;let f=0,p=0,o=new pn(new Response),u="upload";for(f=r.size;p<f;){let d=Math.min(8388608,f-p),E=r.slice(p,p+d);p+d>=f&&(u+=", finalize");let g=0,y=1e3;for(;g<3&&((s=(o=await i.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(p),"Content-Length":String(d)}}}))==null?void 0:o.headers)==null||!s[Ii]);)g++,await function(_){return new Promise(S=>setTimeout(S,_))}(y),y*=2;if(p+=d,((l=o?.headers)==null?void 0:l[Ii])!=="active")break;if(f<=p)throw Error("All content has been uploaded, but the upload status is not finalized.")}let h=await o?.json();if(((v=o?.headers)==null?void 0:v[Ii])!=="final")throw Error("Failed to upload file: Upload status is not finalized.");return h.file}async function Co(r){return{size:r.size,type:r.type}}class So{async upload(n,i,s){if(typeof n=="string")throw Error("File path is not supported in browser uploader.");return await bo(n,i,s)}async stat(n){if(typeof n!="string")return await Co(n);throw Error("File path is not supported in browser uploader.")}}class xi{create(n,i,s){return new ho(n,i,s)}}class ho{constructor(n,i,s){this.url=n,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw Error("WebSocket is not connected");this.ws.close()}}let zi="x-goog-api-key";class Ro{constructor(n){this.apiKey=n}async addAuthHeaders(n){if(n.get(zi)===null){if(this.apiKey.startsWith("auth_tokens/"))throw Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw Error("API key is missing. Please provide a valid API key.");n.append(zi,this.apiKey)}}}let Oo="edge",To=new class{constructor(r){var n;if(r.apiKey==null)throw Error("An API Key must be set when running in a browser");if(r.project||r.location)throw Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=r.vertexai)!=null&&n,this.apiKey=r.apiKey;let i=function(l,v,f,p){return l?.baseUrl?l.baseUrl:v?Ye??f:Ct??p}(r.httpOptions,r.vertexai,void 0,void 0);i&&(r.httpOptions?r.httpOptions.baseUrl=i:r.httpOptions={baseUrl:i}),this.apiVersion=r.apiVersion;let s=new Ro(this.apiKey);this.apiClient=new Ki({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:r.httpOptions,userAgentExtra:"gl-node/web",uploader:new So,downloader:new fo}),this.models=new _o(this.apiClient),this.live=new yo(this.apiClient,s,new xi),this.batches=new _i(this.apiClient),this.chats=new hi(this.models,this.apiClient),this.caches=new mo(this.apiClient),this.files=new xr(this.apiClient),this.operations=new wi(this.apiClient),this.authTokens=new Eo(this.apiClient),this.tunings=new po(this.apiClient)}}({apiKey:process.env.GOOGLE_API_KEY||process.env.GEMINI_API_KEY||""});async function Ao(r){try{let{prompt:n,frames:i=[],variants:s=4,layoutImage:l}=await r.json();if(!n||!Array.isArray(i)||i.length===0)return Response.json({error:"Missing prompt or frames"},{status:400});let v=[{text:String(n)},...i.slice(0,3).map(o=>({inlineData:{data:o,mimeType:"image/png"}})),...l?[{inlineData:{data:String(l),mimeType:"image/png"}}]:[]],f=Math.max(1,Math.min(Number(s)||4,8)),p=[];for(let o=0;o<f;o++){let u=await To.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:v,config:{responseModalities:[re.TEXT,re.IMAGE]}}),h=u.candidates?.[0]??void 0;for(let d of h?.content?.parts??[]){let E=d.inlineData?.data;typeof E=="string"&&E.length>0&&p.push(E)}}return Response.json({images:p})}catch(n){return console.error("/api/generate error",n),Response.json({error:n instanceof Error?n.message:"Unknown error"},{status:500})}}var m=F.i(11905);let c=new Or.AppRouteRouteModule({definition:{kind:ur.RouteKind.APP_ROUTE,page:"/api/generate/route",pathname:"/api/generate",filename:"route",bundlePath:""},distDir:process.env.__NEXT_RELATIVE_DIST_DIR||"",relativeProjectDir:process.env.__NEXT_RELATIVE_PROJECT_DIR||"",resolvedPagePath:"[project]/app/api/generate/route.ts",nextConfigOutput:"",userland:m}),{workAsyncStorage:b,workUnitAsyncStorage:w,serverHooks:W}=c;function ee(){return(0,jr.patchFetch)({workAsyncStorage:b,workUnitAsyncStorage:w})}async function se(r,n,i){var s;let l="/api/generate/route";l=l.replace(/\/index$/,"")||"/";let v=await c.prepare(r,n,{srcPage:l,multiZoneDraftMode:!1});if(!v)return n.statusCode=400,n.end("Bad Request"),i.waitUntil==null||i.waitUntil.call(i,Promise.resolve()),null;let{buildId:f,params:p,nextConfig:o,isDraftMode:u,prerenderManifest:h,routerServerContext:d,isOnDemandRevalidate:E,revalidateOnlyGenerated:g,resolvedPathname:y}=v,_=(0,gn.normalizeAppPath)(l),S=!!(h.dynamicRoutes[_]||h.routes[y]);if(S&&!u){let me=!!h.routes[y],Oe=h.dynamicRoutes[_];if(Oe&&Oe.fallback===!1&&!me)throw new An}let T=null;!S||c.isDev||u||(T=(T=y)==="/index"?"/":T);let k=c.isDev===!0||!S,I=S&&!k,M=r.method||"GET",K=(0,ir.getTracer)(),X=K.getActiveScopeSpan(),he={params:p,prerenderManifest:h,renderOpts:{experimental:{cacheComponents:!!o.experimental.cacheComponents,authInterrupts:!!o.experimental.authInterrupts},supportsDynamicResponse:k,incrementalCache:(0,be.getRequestMeta)(r,"incrementalCache"),cacheLifeProfiles:(s=o.experimental)==null?void 0:s.cacheLife,isRevalidate:I,waitUntil:i.waitUntil,onClose:me=>{n.on("close",me)},onAfterTaskError:void 0,onInstrumentationRequestError:(me,Oe,ue)=>c.onRequestError(r,me,ue,d)},sharedContext:{buildId:f}},te=new cn(r),Z=new Qt(n),oe=zt.NextRequestAdapter.fromNodeNextRequest(te,(0,zt.signalFromNodeResponse)(n));try{let me=async ue=>c.handle(oe,he).finally(()=>{if(!ue)return;ue.setAttributes({"http.status_code":n.statusCode,"next.rsc":!1});let Y=K.getRootSpanAttributes();if(!Y)return;if(Y.get("next.span_type")!==tr.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${Y.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let pt=Y.get("next.route");if(pt){let _t=`${M} ${pt}`;ue.setAttributes({"next.route":pt,"http.route":pt,"next.span_name":_t}),ue.updateName(_t)}else ue.updateName(`${M} ${r.url}`)}),Oe=async ue=>{var Y,pt;let _t=async({previousCacheEntry:Ze})=>{try{if(!(0,be.getRequestMeta)(r,"minimalMode")&&E&&g&&!Ze)return n.statusCode=404,n.setHeader("x-nextjs-cache","REVALIDATED"),n.end("This page could not be found"),null;let ze=await me(ue);r.fetchMetrics=he.renderOpts.fetchMetrics;let Ie=he.renderOpts.pendingWaitUntil;Ie&&i.waitUntil&&(i.waitUntil(Ie),Ie=void 0);let xe=he.renderOpts.collectedTags;if(!S)return await on(te,Z,ze,he.renderOpts.pendingWaitUntil),null;{let ot=await ze.blob(),lt=(0,bn.toNodeOutgoingHttpHeaders)(ze.headers);xe&&(lt[ln.NEXT_CACHE_TAGS_HEADER]=xe),!lt["content-type"]&&ot.type&&(lt["content-type"]=ot.type);let Xe=he.renderOpts.collectedRevalidate!==void 0&&!(he.renderOpts.collectedRevalidate>=ln.INFINITE_CACHE)&&he.renderOpts.collectedRevalidate,Me=he.renderOpts.collectedExpire===void 0||he.renderOpts.collectedExpire>=ln.INFINITE_CACHE?void 0:he.renderOpts.collectedExpire;return{value:{kind:Zt.CachedRouteKind.APP_ROUTE,status:ze.status,body:wr.Buffer.from(await ot.arrayBuffer()),headers:lt},cacheControl:{revalidate:Xe,expire:Me}}}}catch(ze){throw Ze?.isStale&&await c.onRequestError(r,ze,{routerKind:"App Router",routePath:l,routeType:"route",revalidateReason:Cn({isRevalidate:I,isOnDemandRevalidate:E})},d),ze}},Ne=await c.handleResponse({req:r,nextConfig:o,cacheKey:T,routeKind:ur.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:h,isRoutePPREnabled:!1,isOnDemandRevalidate:E,revalidateOnlyGenerated:g,responseGenerator:_t,waitUntil:i.waitUntil});if(!S)return null;if((Ne==null||(Y=Ne.value)==null?void 0:Y.kind)!==Zt.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${Ne==null||(pt=Ne.value)==null?void 0:pt.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,be.getRequestMeta)(r,"minimalMode")||n.setHeader("x-nextjs-cache",E?"REVALIDATED":Ne.isMiss?"MISS":Ne.isStale?"STALE":"HIT"),u&&n.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let Be=(0,bn.fromNodeOutgoingHttpHeaders)(Ne.value.headers);return(0,be.getRequestMeta)(r,"minimalMode")&&S||Be.delete(ln.NEXT_CACHE_TAGS_HEADER),!Ne.cacheControl||n.getHeader("Cache-Control")||Be.get("Cache-Control")||Be.set("Cache-Control",function({revalidate:Ze,expire:ze}){let Ie=typeof Ze=="number"&&ze!==void 0&&Ze<ze?`, stale-while-revalidate=${ze-Ze}`:"";return Ze===0?"private, no-cache, no-store, max-age=0, must-revalidate":typeof Ze=="number"?`s-maxage=${Ze}${Ie}`:`s-maxage=${ln.CACHE_ONE_YEAR}${Ie}`}(Ne.cacheControl)),await on(te,Z,new Response(Ne.value.body,{headers:Be,status:Ne.value.status||200})),null};X?await Oe(X):await K.withPropagatedContext(r.headers,()=>K.trace(tr.BaseServerSpan.handleRequest,{spanName:`${M} ${r.url}`,kind:ir.SpanKind.SERVER,attributes:{"http.method":M,"http.target":r.url}},Oe))}catch(me){if(X||me instanceof An||await c.onRequestError(r,me,{routerKind:"App Router",routePath:_,routeType:"route",revalidateReason:Cn({isRevalidate:I,isOnDemandRevalidate:E})}),S)throw me;return await on(te,Z,new Response(null,{status:500})),null}}var pe=F.i(68267);let Ve=(en=yn.__RSC_MANIFEST)==null?void 0:en["/api/generate/route"],Je=(r=>r?JSON.parse(r):void 0)(yn.__RSC_SERVER_MANIFEST);Ve&&Je&&function({page:r,clientReferenceManifest:n,serverActionsManifest:i,serverModuleMap:s}){var l;let v=(l=Tt[En])==null?void 0:l.clientReferenceManifestsPerPage;Tt[En]={clientReferenceManifestsPerPage:{...v,[(0,gn.normalizeAppPath)(r)]:n},serverActionsManifest:i,serverModuleMap:s}}({page:"/api/generate/route",clientReferenceManifest:Ve,serverActionsManifest:Je,serverModuleMap:function({serverActionsManifest:r}){return new Proxy({},{get:(n,i)=>{var s,l,v;let f,p=(l=r.edge)==null||(s=l[i])==null?void 0:s.workers;if(!p)return;let o=vn.workAsyncStorage.getStore();if(!(f=o?p[v=o.page,(0,pr.pathHasPrefix)(v,"app")?v:"app"+v]:Object.values(p).at(0)))return;let{moduleId:u,async:h}=f;return{id:u,name:i,chunks:[],async:h}}})}({serverActionsManifest:Je})});let Fe=pe,_e=Er.wrap(pe.routeModule,{nextConfig:{configFile:"/Users/ajjoobandi/Development/hackathons/CreatorToolHub/thumbnailer/next.config.ts",configFileName:"next.config.ts",cacheMaxMemorySize:52428800,cacheHandler:null,env:{},experimental:{allowedRevalidateHeaderKeys:null,clientRouterFilter:!0,clientRouterFilterAllowedRate:null,clientRouterFilterRedirects:!1,fetchCacheKeyPrefix:"",isrFlushToDisk:!0,mdxRs:null,strictNextHead:null,swcPlugins:null,externalMiddlewareRewritesResolve:null,scrollRestoration:!1,manualClientBasePath:!1,optimisticClientCache:!0,middlewarePrefetch:"flexible",optimizeCss:!1,nextScriptWorkers:!1,webVitalsAttribution:null,serverActions:null,sri:null,reactCompiler:null,cacheComponents:!1,useCache:!1,rootParams:null,adjustFontFallbacks:null,adjustFontFallbacksWithSizeAdjust:null,after:null,amp:null,appDocumentPreloading:null,cacheHandlers:{},cacheLife:{default:{stale:300,revalidate:900,expire:4294967294},seconds:{stale:30,revalidate:1,expire:60},minutes:{stale:300,revalidate:60,expire:3600},hours:{stale:300,revalidate:3600,expire:86400},days:{stale:300,revalidate:86400,expire:604800},weeks:{stale:300,revalidate:604800,expire:2592e3},max:{stale:300,revalidate:2592e3,expire:4294967294}},caseSensitiveRoutes:!1,cpus:9,craCompat:!1,disableOptimizedLoading:!1,disablePostcssPresetEnv:null,esmExternals:!0,extensionAlias:null,externalDir:!1,fallbackNodePolyfills:null,forceSwcTransforms:!1,fullySpecified:!1,gzipSize:!0,inlineCss:!1,instrumentationHook:null,clientTraceMetadata:null,largePageDataBytes:128e3,logging:null,memoryBasedWorkersCount:!1,optimizeServerReact:!0,optimizePackageImports:["lucide-react","date-fns","lodash-es","ramda","antd","react-bootstrap","ahooks","@ant-design/icons","@headlessui/react","@headlessui-float/react","@heroicons/react/20/solid","@heroicons/react/24/solid","@heroicons/react/24/outline","@visx/visx","@tremor/react","rxjs","@mui/material","@mui/icons-material","recharts","react-use","effect","@effect/schema","@effect/platform","@effect/platform-node","@effect/platform-browser","@effect/platform-bun","@effect/sql","@effect/sql-mssql","@effect/sql-mysql2","@effect/sql-pg","@effect/sql-sqlite-node","@effect/sql-sqlite-bun","@effect/sql-sqlite-wasm","@effect/sql-sqlite-react-native","@effect/rpc","@effect/rpc-http","@effect/typeclass","@effect/experimental","@effect/opentelemetry","@material-ui/core","@material-ui/icons","@tabler/icons-react","mui-core","react-icons/ai","react-icons/bi","react-icons/bs","react-icons/cg","react-icons/ci","react-icons/di","react-icons/fa","react-icons/fa6","react-icons/fc","react-icons/fi","react-icons/gi","react-icons/go","react-icons/gr","react-icons/hi","react-icons/hi2","react-icons/im","react-icons/io","react-icons/io5","react-icons/lia","react-icons/lib","react-icons/lu","react-icons/md","react-icons/pi","react-icons/ri","react-icons/rx","react-icons/si","react-icons/sl","react-icons/tb","react-icons/tfi","react-icons/ti","react-icons/vsc","react-icons/wi"],ppr:!1,taint:null,routerBFCache:!1,proxyTimeout:null,serverMinification:!0,serverSourceMaps:!1,swcTraceProfiling:!1,trustHostHeader:!0,urlImports:null,viewTransition:!1,webpackBuildWorker:null,workerThreads:!1,turbopackMinify:null,turbopackPersistentCaching:null,turbopackSourceMaps:null,turbopackTreeShaking:null,turbopackScopeHoisting:null,turbopackUseSystemTlsCerts:null,globalNotFound:!1,turbopackRemoveUnusedExports:null,devtoolSegmentExplorer:!0},images:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:null,domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",remotePatterns:[],unoptimized:!1},pageExtensions:["tsx","ts","jsx","js"],reactProductionProfiling:!1,reactStrictMode:null,transpilePackages:null,modularizeImports:{"@mui/icons-material":{transform:"@mui/icons-material/{{member}}",preventFullImport:!1,skipDefaultConversion:!1},lodash:{transform:"lodash/{{member}}",preventFullImport:!1,skipDefaultConversion:!1}},distDir:".next",deploymentId:null,sassOptions:{},trailingSlash:!1,assetPrefix:"",basePath:"",skipMiddlewareUrlNormalize:null,skipTrailingSlashRedirect:null,i18n:null,crossOrigin:null,devIndicators:{buildActivityPosition:null,position:"bottom-left"},output:null,turbopack:{loaders:null,rules:null,conditions:null,resolveAlias:null,resolveExtensions:null,moduleIds:null},productionBrowserSourceMaps:!1,outputFileTracingIncludes:null,outputFileTracingExcludes:null,outputFileTracingRoot:"/Users/ajjoobandi/Development/hackathons/CreatorToolHub/thumbnailer",bundlePagesRouterDependencies:!1,serverExternalPackages:null,_originalRedirects:null,compiler:{reactRemoveProperties:null,relay:null,emotion:null,removeConsole:null,styledComponents:null},optimizeFonts:null,amp:{canonicalBase:""},cleanDistDir:!0,compress:!0,eslint:{dirs:null,ignoreDuringBuilds:!1},excludeDefaultMomentLocales:!0,exportPathMap:{},generateBuildId:null,generateEtags:!0,httpAgentOptions:{keepAlive:!0},onDemandEntries:{maxInactiveAge:6e4,pagesBufferLength:5},poweredByHeader:!0,publicRuntimeConfig:{},serverRuntimeConfig:{},staticPageGenerationTimeout:60,target:null,typescript:{ignoreBuildErrors:!1,tsconfigPath:"tsconfig.json"},useFileSystemPublicRoutes:!0,webpack:null}})}]),(Tt.TURBOPACK||(Tt.TURBOPACK=[])).push(["chunks/turbopack-edge-wrapper_6e44f7ae.js",{otherChunks:["chunks/_7815e3ef._.js","chunks/[root-of-the-server]__ec7f7068._.js"],runtimeModuleIds:[52288]}]),(()=>{let F;if(!Array.isArray(Tt.TURBOPACK))return;let Ct=new WeakMap;function Ye(q,V){this.m=q,this.e=V}let ke=Ye.prototype,At=Object.prototype.hasOwnProperty,at=typeof Symbol<"u"&&Symbol.toStringTag;function ne(q,V,Q){At.call(q,V)||Object.defineProperty(q,V,Q)}function le(q,V){let Q=q[V];return Q||(Q=C(V),q[V]=Q),Q}function C(q){return{exports:{},error:void 0,id:q,namespaceObject:void 0}}function x(q,V){ne(q,"__esModule",{value:!0}),at&&ne(q,at,{value:"Module"});let Q=0;for(;Q<V.length;){let ce=V[Q++],Te=V[Q++];typeof V[Q]=="function"?ne(q,ce,{get:Te,set:V[Q++],enumerable:!0}):ne(q,ce,{get:Te,enumerable:!0})}Object.seal(q)}ke.s=function(q,V){let Q,ce;V!=null?ce=(Q=le(this.c,V)).exports:(Q=this.m,ce=this.e),Q.namespaceObject=ce,x(ce,q)},ke.j=function(q,V){var Q,ce;let Te,dt,qe;V!=null?dt=(Te=le(this.c,V)).exports:(Te=this.m,dt=this.e);let Ke=(Q=Te,ce=dt,(qe=Ct.get(Q))||(Ct.set(Q,qe=[]),Q.exports=Q.namespaceObject=new Proxy(ce,{get($e,vt){if(At.call($e,vt)||vt==="default"||vt==="__esModule")return Reflect.get($e,vt);for(let St of qe){let et=Reflect.get(St,vt);if(et!==void 0)return et}},ownKeys($e){let vt=Reflect.ownKeys($e);for(let St of qe)for(let et of Reflect.ownKeys(St))et==="default"||vt.includes(et)||vt.push(et);return vt}})),qe);typeof q=="object"&&q!==null&&Ke.push(q)},ke.v=function(q,V){(V!=null?le(this.c,V):this.m).exports=q},ke.n=function(q,V){let Q;(Q=V!=null?le(this.c,V):this.m).exports=Q.namespaceObject=q};let j=Object.getPrototypeOf?q=>Object.getPrototypeOf(q):q=>q.__proto__,$=[null,j({}),j([]),j(j)];function A(q,V,Q){let ce=[],Te=-1;for(let dt=q;(typeof dt=="object"||typeof dt=="function")&&!$.includes(dt);dt=j(dt))for(let qe of Object.getOwnPropertyNames(dt))ce.push(qe,function(Ke,$e){return()=>Ke[$e]}(q,qe)),Te===-1&&qe==="default"&&(Te=ce.length-1);return Q&&Te>=0||(Te>=0?ce[Te]=()=>q:ce.push("default",()=>q)),x(V,ce),V}function N(q){return typeof q=="function"?function(...V){return q.apply(this,V)}:Object.create(null)}function J(q){return typeof q=="string"?q:q.path}function O(){let q,V;return{promise:new Promise((Q,ce)=>{V=ce,q=Q}),resolve:q,reject:V}}ke.i=function(q){let V=ut(q,this.m);if(V.namespaceObject)return V.namespaceObject;let Q=V.exports;return V.namespaceObject=A(Q,N(Q),Q&&Q.__esModule)},ke.A=function(q){return this.r(q)(this.i.bind(this))},ke.t=typeof yi=="function"?yi:function(){throw Error("Unexpected use of runtime require")},ke.r=function(q){return ut(q,this.m).exports},ke.f=function(q){function V(Q){if(At.call(q,Q))return q[Q].module();let ce=Error(`Cannot find module '${Q}'`);throw ce.code="MODULE_NOT_FOUND",ce}return V.keys=()=>Object.keys(q),V.resolve=Q=>{if(At.call(q,Q))return q[Q].id();let ce=Error(`Cannot find module '${Q}'`);throw ce.code="MODULE_NOT_FOUND",ce},V.import=async Q=>await V(Q),V};let G=Symbol("turbopack queues"),B=Symbol("turbopack exports"),fe=Symbol("turbopack error");function re(q){q&&q.status!==1&&(q.status=1,q.forEach(V=>V.queueCount--),q.forEach(V=>V.queueCount--?V.queueCount++:V()))}ke.a=function(q,V){let Q=this.m,ce=V?Object.assign([],{status:-1}):void 0,Te=new Set,{resolve:dt,reject:qe,promise:Ke}=O(),$e=Object.assign(Ke,{[B]:Q.exports,[G]:St=>{ce&&St(ce),Te.forEach(St),$e.catch(()=>{})}}),vt={get:()=>$e,set(St){St!==$e&&($e[B]=St)}};Object.defineProperty(Q,"exports",vt),Object.defineProperty(Q,"namespaceObject",vt),q(function(St){let et=St.map($t=>{if($t!==null&&typeof $t=="object"){if(G in $t)return $t;if($t!=null&&typeof $t=="object"&&"then"in $t&&typeof $t.then=="function"){let Gn=Object.assign([],{status:0}),bn={[B]:{},[G]:Nn=>Nn(Gn)};return $t.then(Nn=>{bn[B]=Nn,re(Gn)},Nn=>{bn[fe]=Nn,re(Gn)}),bn}}return{[B]:$t,[G]:()=>{}}}),en=()=>et.map($t=>{if($t[fe])throw $t[fe];return $t[B]}),{promise:gn,resolve:pr}=O(),vn=Object.assign(()=>pr(en),{queueCount:0});function En($t){$t!==ce&&!Te.has($t)&&(Te.add($t),$t&&$t.status===0&&(vn.queueCount++,$t.push(vn)))}return et.map($t=>$t[G](En)),vn.queueCount?gn:en()},function(St){St?qe($e[fe]=St):dt($e[B]),re(ce)}),ce&&ce.status===-1&&(ce.status=0)};let Ee=function(q){let V=new URL(q,"x:/"),Q={};for(let ce in V)Q[ce]=V[ce];for(let ce in Q.href=q,Q.pathname=q.replace(/[?#].*/,""),Q.origin=Q.protocol="",Q.toString=Q.toJSON=(...Te)=>q,Q)Object.defineProperty(this,ce,{enumerable:!0,configurable:!0,value:Q[ce]})};function we(q,V){throw Error(`Invariant: ${V(q)}`)}Ee.prototype=URL.prototype,ke.U=Ee,ke.z=function(q){throw Error("dynamic usage of require is not supported")},ke.g=Tt;let Pe=Ye.prototype;var Qe=function(q){return q[q.Runtime=0]="Runtime",q[q.Parent=1]="Parent",q[q.Update=2]="Update",q}(Qe||{});let st=new Map;ke.M=st;let jt=new Map,Et=new Map;async function de(q,V,Q){let ce;if(typeof Q=="string")return H(q,V,z(Q));let Te=Q.included||[],dt=Te.map($e=>!!st.has($e)||jt.get($e));if(dt.length>0&&dt.every($e=>$e))return void await Promise.all(dt);let qe=Q.moduleChunks||[],Ke=qe.map($e=>Et.get($e)).filter($e=>$e);if(Ke.length>0){if(Ke.length===qe.length)return void await Promise.all(Ke);let $e=new Set;for(let vt of qe)Et.has(vt)||$e.add(vt);for(let vt of $e){let St=H(q,V,z(vt));Et.set(vt,St),Ke.push(St)}ce=Promise.all(Ke)}else for(let $e of(ce=H(q,V,z(Q.path)),qe))Et.has($e)||Et.set($e,ce);for(let $e of Te)jt.has($e)||jt.set($e,ce);await ce}Pe.l=function(q){return de(1,this.m.id,q)};let ye=Promise.resolve(void 0),L=new WeakMap;function H(q,V,Q){let ce=F.loadChunkCached(q,Q),Te=L.get(ce);if(Te===void 0){let dt=L.set.bind(L,ce,ye);Te=ce.then(dt).catch(qe=>{let Ke;switch(q){case 0:Ke=`as a runtime dependency of chunk ${V}`;break;case 1:Ke=`from module ${V}`;break;case 2:Ke="from an HMR update";break;default:we(q,$e=>`Unknown source type: ${$e}`)}throw Error(`Failed to load chunk ${Q} ${Ke}${qe?`: ${qe}`:""}`,qe?{cause:qe}:void 0)}),L.set(ce,Te)}return Te}function z(q){return`${q.split("/").map(V=>encodeURIComponent(V)).join("/")}`}Pe.L=function(q){return H(1,this.m.id,q)},Pe.R=function(q){let V=this.r(q);return V?.default??V},Pe.P=function(q){return`/ROOT/${q??""}`},Pe.b=function(q){let V=new Blob([`self.TURBOPACK_WORKER_LOCATION = ${JSON.stringify(location.origin)};
self.TURBOPACK_NEXT_CHUNK_URLS = ${JSON.stringify(q.reverse().map(z),null,2)};
importScripts(...self.TURBOPACK_NEXT_CHUNK_URLS.map(c => self.TURBOPACK_WORKER_LOCATION + c).reverse());`],{type:"text/javascript"});return URL.createObjectURL(V)};let ie=/\.js(?:\?[^#]*)?(?:#.*)?$/;ke.w=function(q,V,Q){return F.loadWebAssembly(1,this.m.id,q,V,Q)},ke.u=function(q,V){return F.loadWebAssemblyModule(1,this.m.id,q,V)};let ge={};ke.c=ge;let ut=(q,V)=>{let Q=ge[q];if(Q){if(Q.error)throw Q.error;return Q}return Ge(q,Qe.Parent,V.id)};function Ge(q,V,Q){let ce=st.get(q);typeof ce!="function"&&function(Ke,$e,vt){let St;switch($e){case 0:St=`as a runtime entry of chunk ${vt}`;break;case 1:St=`because it was required from module ${vt}`;break;case 2:St="because of an HMR update";break;default:we($e,et=>`Unknown source type: ${et}`)}throw Error(`Module ${Ke} was instantiated ${St}, but the module factory is not available. It might have been deleted in an HMR update.`)}(q,V,Q);let Te=C(q),dt=Te.exports;ge[q]=Te;let qe=new Ye(Te,dt);try{ce(qe,Te,dt)}catch(Ke){throw Te.error=Ke,Ke}return Te.namespaceObject&&Te.exports!==Te.namespaceObject&&A(Te.exports,Te.namespaceObject),Te}function gt(q){let V,Q=function(ce){if(typeof ce=="string")return ce;let Te=decodeURIComponent((typeof TURBOPACK_NEXT_CHUNK_URLS<"u"?TURBOPACK_NEXT_CHUNK_URLS.pop():ce.getAttribute("src")).replace(/[?#].*$/,""));return Te.startsWith("")?Te.slice(0):Te}(q[0]);return q.length===2?V=q[1]:(V=void 0,function(ce,Te,dt,qe){let Ke=1;for(;Ke<ce.length;){let $e=ce[Ke],vt=Ke+1;for(;vt<ce.length&&typeof ce[vt]!="function";)vt++;if(vt===ce.length)throw Error("malformed chunk format, expected a factory function");if(!dt.has($e)){let St=ce[vt];for(Object.defineProperty(St,"name",{value:"__TURBOPACK__module__evaluation__"});Ke<vt;Ke++)$e=ce[Ke],dt.set($e,St)}Ke=vt+1}}(q,0,st)),F.registerChunk(Q,V)}function yt(q,V,Q=!1){let ce;try{ce=V()}catch(Te){throw Error(`Failed to load external module ${q}: ${Te}`)}return!Q||ce.__esModule?ce:A(ce,N(ce),!0)}ke.y=async function(q){let V;try{V=await import(q)}catch(Q){throw Error(`Failed to load external module ${q}: ${Q}`)}return V&&V.__esModule&&V.default&&"default"in V.default?A(V.default,N(V),!0):V},yt.resolve=(q,V)=>yi.resolve(q,V),ke.x=yt,(()=>{F={registerChunk(Te,dt){q.add(Te),function(qe){let Ke=V.get(qe);if(Ke!=null){for(let $e of Ke)$e.requiredChunks.delete(qe),$e.requiredChunks.size===0&&Q($e.runtimeModuleIds,$e.chunkPath);V.delete(qe)}}(Te),dt!=null&&(dt.otherChunks.length===0?Q(dt.runtimeModuleIds,Te):function(qe,Ke,$e){let vt=new Set,St={runtimeModuleIds:$e,chunkPath:qe,requiredChunks:vt};for(let et of Ke){let en=J(et);if(q.has(en))continue;vt.add(en);let gn=V.get(en);gn==null&&(gn=new Set,V.set(en,gn)),gn.add(St)}St.requiredChunks.size===0&&Q(St.runtimeModuleIds,St.chunkPath)}(Te,dt.otherChunks.filter(qe=>{var Ke;return Ke=J(qe),ie.test(Ke)}),dt.runtimeModuleIds))},loadChunkCached(Te,dt){throw Error("chunk loading is not supported")},async loadWebAssembly(Te,dt,qe,Ke,$e){let vt=await ce(qe,Ke);return await WebAssembly.instantiate(vt,$e)},loadWebAssemblyModule:async(Te,dt,qe,Ke)=>ce(qe,Ke)};let q=new Set,V=new Map;function Q(Te,dt){for(let qe of Te)(function(Ke,$e){let vt=ge[$e];if(vt){if(vt.error)throw vt.error;return}Ge($e,Qe.Runtime,Ke)})(dt,qe)}async function ce(Te,dt){let qe;try{qe=dt()}catch{}if(!qe)throw Error(`dynamically loading WebAssembly is not supported in this runtime as global was not injected for chunk '${Te}'`);return qe}})();let Vt=Tt.TURBOPACK;Tt.TURBOPACK={push:gt},Vt.forEach(gt)})(),function(){let F={exports:{},loaded:!1};return function(Ye,ke){var At=Object.create,at=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,le=Object.getOwnPropertyNames,C=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,j=de=>at(de,"__esModule",{value:!0}),$=(de,ye)=>{j(de);for(var L in ye)at(de,L,{get:ye[L],enumerable:!0})},A=(de,ye,L)=>{if(ye&&typeof ye=="object"||typeof ye=="function")for(let H of le(ye))!x.call(de,H)&&H!=="default"&&at(de,H,{get:()=>ye[H],enumerable:!(L=ne(ye,H))||L.enumerable});return de},N=de=>A(j(at(de!=null?At(C(de)):{},"default",de&&de.__esModule&&"default"in de?{get:()=>de.default,enumerable:!0}:{value:de,enumerable:!0})),de);$(ke,{default:()=>Qe});var J=N((jo(),Io(Zi))),O="@next/request-context",G=Symbol.for(O),B=Symbol.for("internal.storage");function fe(){let de=Tt;if(!de[G]){let ye=new J.AsyncLocalStorage,L={get:()=>ye.getStore(),[B]:ye};de[G]=L}return de[G]}var re=fe();function Ee(de,ye){return re[B].run(de,ye)}function we(de){let ye={};return de&&de.forEach((L,H)=>{ye[H]=L,H.toLowerCase()==="set-cookie"&&(ye[H]=Pe(L))}),ye}function Pe(de){let ye=[],L=0,H,z,ie,ge,ut;function Ge(){for(;L<de.length&&/\s/.test(de.charAt(L));)L+=1;return L<de.length}function gt(){return z=de.charAt(L),z!=="="&&z!==";"&&z!==","}for(;L<de.length;){for(H=L,ut=!1;Ge();)if(z=de.charAt(L),z===","){for(ie=L,L+=1,Ge(),ge=L;L<de.length&&gt();)L+=1;L<de.length&&de.charAt(L)==="="?(ut=!0,L=ge,ye.push(de.substring(H,ie)),H=L):L=ie+1}else L+=1;(!ut||L>=de.length)&&ye.push(de.substring(H,de.length))}return ye}function Qe(de){let ye=de.staticRoutes.map(H=>({regexp:new RegExp(H.namedRegex),page:H.page})),L=de.dynamicRoutes?.map(H=>({regexp:new RegExp(H.namedRegex),page:H.page}))||[];return async function(H,z){let ie=new URL(H.url).pathname,ge={};if(de.nextConfig?.basePath&&ie.startsWith(de.nextConfig.basePath)&&(ie=ie.replace(de.nextConfig.basePath,"")||"/"),de.nextConfig?.i18n)for(let Ge of de.nextConfig.i18n.locales){let gt=new RegExp(`^/${Ge}($|/)`,"i");if(ie.match(gt)){ie=ie.replace(gt,"/")||"/";break}}for(let Ge of ye)if(Ge.regexp.exec(ie)){ge.name=Ge.page;break}if(!ge.name){let Ge=jt(ie);for(let gt of L||[]){if(Ge&&!jt(gt.page))continue;let yt=gt.regexp.exec(ie);if(yt){ge={name:gt.page,params:yt.groups};break}}}let ut=await Ee({waitUntil:z.waitUntil},()=>Tt._ENTRIES[`middleware_${de.name}`].default.call({},{request:{url:H.url,method:H.method,headers:we(H.headers),ip:st(H.headers,Et.Ip),geo:{city:st(H.headers,Et.City,!0),country:st(H.headers,Et.Country,!0),latitude:st(H.headers,Et.Latitude),longitude:st(H.headers,Et.Longitude),region:st(H.headers,Et.Region,!0)},nextConfig:de.nextConfig,page:ge,body:H.body}}));return ut.waitUntil&&z.waitUntil(ut.waitUntil),ut.response}}function st(de,ye,L=!1){let H=de.get(ye)||void 0;return L&&H?decodeURIComponent(H):H}function jt(de){return de==="/api"||de.startsWith("/api/")}var Et;(function(de){de.City="x-vercel-ip-city",de.Country="x-vercel-ip-country",de.Ip="x-real-ip",de.Latitude="x-vercel-ip-latitude",de.Longitude="x-vercel-ip-longitude",de.Region="x-vercel-ip-country-region"})(Et||(Et={}))}(F,F.exports),F.exports}.call({}).default({name:"app/api/generate/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"}],dynamicRoutes:[],nextConfig:{basePath:""}})))(xo,xo,xo);export{Jo as default};
